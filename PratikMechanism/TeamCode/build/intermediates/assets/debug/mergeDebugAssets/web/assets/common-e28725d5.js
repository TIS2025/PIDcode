(function(){const He=document.createElement("link").relList;if(He&&He.supports&&He.supports("modulepreload"))return;for(const N of document.querySelectorAll('link[rel="modulepreload"]'))J(N);new MutationObserver(N=>{for(const t of N)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&J(s)}).observe(document,{childList:!0,subtree:!0});function c(N){const t={};return N.integrity&&(t.integrity=N.integrity),N.referrerPolicy&&(t.referrerPolicy=N.referrerPolicy),N.crossOrigin==="use-credentials"?t.credentials="include":N.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function J(N){if(N.ep)return;N.ep=!0;const t=c(N);fetch(N.href,t)}})();var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(ze){return ze&&ze.__esModule&&Object.prototype.hasOwnProperty.call(ze,"default")?ze.default:ze}function Lr(ze){throw new Error('Could not dynamically require "'+ze+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $a={exports:{}};(function(ze,He){(function(c){ze.exports=c()})(function(){return function c(J,N,t){function s(n,l){if(!N[n]){if(!J[n]){var i=typeof Lr=="function"&&Lr;if(!l&&i)return i(n,!0);if(o)return o(n,!0);var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}var r=N[n]={exports:{}};J[n][0].call(r.exports,function(u){return s(J[n][1][u]||u)},r,r.exports,c,J,N,t)}return N[n].exports}for(var o=typeof Lr=="function"&&Lr,e=0;e<t.length;e++)s(t[e]);return s}({1:[function(c,J,N){var t=c("../src/lib"),s={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in s){var e=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");t.addStyleRule(e,s[o])}},{"../src/lib":232}],2:[function(c,J,N){J.exports=c("../src/transforms/aggregate")},{"../src/transforms/aggregate":384}],3:[function(c,J,N){J.exports=c("../src/traces/bar")},{"../src/traces/bar":334}],4:[function(c,J,N){J.exports=c("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(c,J,N){J.exports=c("../src/core")},{"../src/core":214}],6:[function(c,J,N){J.exports=c("../src/transforms/filter")},{"../src/transforms/filter":385}],7:[function(c,J,N){J.exports=c("../src/transforms/groupby")},{"../src/transforms/groupby":386}],8:[function(c,J,N){var t=c("./core");t.register([c("./bar"),c("./pie"),c("./aggregate"),c("./filter"),c("./groupby"),c("./sort"),c("./calendars")]),J.exports=t},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(c,J,N){J.exports=c("../src/traces/pie")},{"../src/traces/pie":349}],10:[function(c,J,N){J.exports=c("../src/transforms/sort")},{"../src/transforms/sort":388}],11:[function(c,J,N){(function(){var t={version:"3.8.0"},s=[].slice,o=function(f){return s.call(f)},e=self.document;function n(f){return f&&(f.ownerDocument||f.document||f).documentElement}function l(f){return f&&(f.ownerDocument&&f.ownerDocument.defaultView||f.document&&f||f.defaultView)}if(e)try{o(e.documentElement.childNodes)[0].nodeType}catch{o=function(_){for(var O=_.length,V=new Array(O);O--;)V[O]=_[O];return V}}if(Date.now||(Date.now=function(){return+new Date}),e)try{e.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,a=i.setAttribute,r=i.setAttributeNS,u=this.CSSStyleDeclaration.prototype,d=u.setProperty;i.setAttribute=function(_,O){a.call(this,_,O+"")},i.setAttributeNS=function(_,O,V){r.call(this,_,O,V+"")},u.setProperty=function(_,O,V){d.call(this,_,O+"",V)}}function p(f,_){return f<_?-1:f>_?1:f>=_?0:NaN}function m(f){return f===null?NaN:+f}function M(f){return!isNaN(f)}function w(f){return{left:function(_,O,V,W){for(arguments.length<3&&(V=0),arguments.length<4&&(W=_.length);V<W;){var K=V+W>>>1;f(_[K],O)<0?V=K+1:W=K}return V},right:function(_,O,V,W){for(arguments.length<3&&(V=0),arguments.length<4&&(W=_.length);V<W;){var K=V+W>>>1;f(_[K],O)>0?W=K:V=K+1}return V}}}t.ascending=p,t.descending=function(f,_){return _<f?-1:_>f?1:_>=f?0:NaN},t.min=function(f,_){var O,V,W=-1,K=f.length;if(arguments.length===1){for(;++W<K;)if((V=f[W])!=null&&V>=V){O=V;break}for(;++W<K;)(V=f[W])!=null&&O>V&&(O=V)}else{for(;++W<K;)if((V=_.call(f,f[W],W))!=null&&V>=V){O=V;break}for(;++W<K;)(V=_.call(f,f[W],W))!=null&&O>V&&(O=V)}return O},t.max=function(f,_){var O,V,W=-1,K=f.length;if(arguments.length===1){for(;++W<K;)if((V=f[W])!=null&&V>=V){O=V;break}for(;++W<K;)(V=f[W])!=null&&V>O&&(O=V)}else{for(;++W<K;)if((V=_.call(f,f[W],W))!=null&&V>=V){O=V;break}for(;++W<K;)(V=_.call(f,f[W],W))!=null&&V>O&&(O=V)}return O},t.extent=function(f,_){var O,V,W,K=-1,it=f.length;if(arguments.length===1){for(;++K<it;)if((V=f[K])!=null&&V>=V){O=W=V;break}for(;++K<it;)(V=f[K])!=null&&(O>V&&(O=V),W<V&&(W=V))}else{for(;++K<it;)if((V=_.call(f,f[K],K))!=null&&V>=V){O=W=V;break}for(;++K<it;)(V=_.call(f,f[K],K))!=null&&(O>V&&(O=V),W<V&&(W=V))}return[O,W]},t.sum=function(f,_){var O,V=0,W=f.length,K=-1;if(arguments.length===1)for(;++K<W;)M(O=+f[K])&&(V+=O);else for(;++K<W;)M(O=+_.call(f,f[K],K))&&(V+=O);return V},t.mean=function(f,_){var O,V=0,W=f.length,K=-1,it=W;if(arguments.length===1)for(;++K<W;)M(O=m(f[K]))?V+=O:--it;else for(;++K<W;)M(O=m(_.call(f,f[K],K)))?V+=O:--it;if(it)return V/it},t.quantile=function(f,_){var O=(f.length-1)*_+1,V=Math.floor(O),W=+f[V-1],K=O-V;return K?W+K*(f[V]-W):W},t.median=function(f,_){var O,V=[],W=f.length,K=-1;if(arguments.length===1)for(;++K<W;)M(O=m(f[K]))&&V.push(O);else for(;++K<W;)M(O=m(_.call(f,f[K],K)))&&V.push(O);if(V.length)return t.quantile(V.sort(p),.5)},t.variance=function(f,_){var O,V,W=f.length,K=0,it=0,ft=-1,dt=0;if(arguments.length===1)for(;++ft<W;)M(O=m(f[ft]))&&(it+=(V=O-K)*(O-(K+=V/++dt)));else for(;++ft<W;)M(O=m(_.call(f,f[ft],ft)))&&(it+=(V=O-K)*(O-(K+=V/++dt)));if(dt>1)return it/(dt-1)},t.deviation=function(){var f=t.variance.apply(this,arguments);return f&&Math.sqrt(f)};var b=w(p);function v(f){return f.length}t.bisectLeft=b.left,t.bisect=t.bisectRight=b.right,t.bisector=function(f){return w(f.length===1?function(_,O){return p(f(_),O)}:f)},t.shuffle=function(f,_,O){(K=arguments.length)<3&&(O=f.length,K<2&&(_=0));for(var V,W,K=O-_;K;)W=Math.random()*K--|0,V=f[K+_],f[K+_]=f[W+_],f[W+_]=V;return f},t.permute=function(f,_){for(var O=_.length,V=new Array(O);O--;)V[O]=f[_[O]];return V},t.pairs=function(f){for(var _=0,O=f.length-1,V=f[0],W=new Array(O<0?0:O);_<O;)W[_]=[V,V=f[++_]];return W},t.transpose=function(f){if(!(W=f.length))return[];for(var _=-1,O=t.min(f,v),V=new Array(O);++_<O;)for(var W,K=-1,it=V[_]=new Array(W);++K<W;)it[K]=f[K][_];return V},t.zip=function(){return t.transpose(arguments)},t.keys=function(f){var _=[];for(var O in f)_.push(O);return _},t.values=function(f){var _=[];for(var O in f)_.push(f[O]);return _},t.entries=function(f){var _=[];for(var O in f)_.push({key:O,value:f[O]});return _},t.merge=function(f){for(var _,O,V,W=f.length,K=-1,it=0;++K<W;)it+=f[K].length;for(O=new Array(it);--W>=0;)for(_=(V=f[W]).length;--_>=0;)O[--it]=V[_];return O};var h=Math.abs;function A(f){for(var _=1;f*_%1;)_*=10;return _}function y(f,_){for(var O in _)Object.defineProperty(f.prototype,O,{value:_[O],enumerable:!1})}function T(){this._=Object.create(null)}t.range=function(f,_,O){if(arguments.length<3&&(O=1,arguments.length<2&&(_=f,f=0)),(_-f)/O==1/0)throw new Error("infinite range");var V,W=[],K=A(h(O)),it=-1;if(f*=K,_*=K,(O*=K)<0)for(;(V=f+O*++it)>_;)W.push(V/K);else for(;(V=f+O*++it)<_;)W.push(V/K);return W},t.map=function(f,_){var O=new T;if(f instanceof T)f.forEach(function(ft,dt){O.set(ft,dt)});else if(Array.isArray(f)){var V,W=-1,K=f.length;if(arguments.length===1)for(;++W<K;)O.set(W,f[W]);else for(;++W<K;)O.set(_.call(f,V=f[W],W),V)}else for(var it in f)O.set(it,f[it]);return O};function k(f){return(f+="")=="__proto__"||f[0]==="\0"?"\0"+f:f}function x(f){return(f+="")[0]==="\0"?f.slice(1):f}function D(f){return k(f)in this._}function z(f){return(f=k(f))in this._&&delete this._[f]}function g(){var f=[];for(var _ in this._)f.push(x(_));return f}function R(){var f=0;for(var _ in this._)++f;return f}function I(){for(var f in this._)return!1;return!0}function j(){this._=Object.create(null)}function Y(f){return f}function B(f,_,O){return function(){var V=O.apply(_,arguments);return V===_?f:V}}function $(f,_){if(_ in f)return _;_=_.charAt(0).toUpperCase()+_.slice(1);for(var O=0,V=rt.length;O<V;++O){var W=rt[O]+_;if(W in f)return W}}y(T,{has:D,get:function(f){return this._[k(f)]},set:function(f,_){return this._[k(f)]=_},remove:z,keys:g,values:function(){var f=[];for(var _ in this._)f.push(this._[_]);return f},entries:function(){var f=[];for(var _ in this._)f.push({key:x(_),value:this._[_]});return f},size:R,empty:I,forEach:function(f){for(var _ in this._)f.call(this,x(_),this._[_])}}),t.nest=function(){var f,_,O={},V=[],W=[];function K(it,ft,dt){if(dt>=V.length)return _?_.call(O,ft):f?ft.sort(f):ft;for(var pt,yt,zt,Ft,Jt=-1,te=ft.length,Vt=V[dt++],Qt=new T;++Jt<te;)(Ft=Qt.get(pt=Vt(yt=ft[Jt])))?Ft.push(yt):Qt.set(pt,[yt]);return it?(yt=it(),zt=function(Rt,ie){yt.set(Rt,K(it,ie,dt))}):(yt={},zt=function(Rt,ie){yt[Rt]=K(it,ie,dt)}),Qt.forEach(zt),yt}return O.map=function(it,ft){return K(ft,it,0)},O.entries=function(it){return function ft(dt,pt){if(pt>=V.length)return dt;var yt=[],zt=W[pt++];return dt.forEach(function(Ft,Jt){yt.push({key:Ft,values:ft(Jt,pt)})}),zt?yt.sort(function(Ft,Jt){return zt(Ft.key,Jt.key)}):yt}(K(t.map,it,0),0)},O.key=function(it){return V.push(it),O},O.sortKeys=function(it){return W[V.length-1]=it,O},O.sortValues=function(it){return f=it,O},O.rollup=function(it){return _=it,O},O},t.set=function(f){var _=new j;if(f)for(var O=0,V=f.length;O<V;++O)_.add(f[O]);return _},y(j,{has:D,add:function(f){return this._[k(f+="")]=!0,f},remove:z,values:g,size:R,empty:I,forEach:function(f){for(var _ in this._)f.call(this,x(_))}}),t.behavior={},t.rebind=function(f,_){for(var O,V=1,W=arguments.length;++V<W;)f[O=arguments[V]]=B(f,_,_[O]);return f};var rt=["webkit","ms","moz","Moz","o","O"];function q(){}function H(){}function C(f){var _=[],O=new T;function V(){for(var W,K=_,it=-1,ft=K.length;++it<ft;)(W=K[it].on)&&W.apply(this,arguments);return f}return V.on=function(W,K){var it,ft=O.get(W);return arguments.length<2?ft&&ft.on:(ft&&(ft.on=null,_=_.slice(0,it=_.indexOf(ft)).concat(_.slice(it+1)),O.remove(W)),K&&_.push(O.set(W,{on:K})),f)},V}function F(){t.event.preventDefault()}function L(){for(var f,_=t.event;f=_.sourceEvent;)_=f;return _}function X(f){for(var _=new H,O=0,V=arguments.length;++O<V;)_[arguments[O]]=C(_);return _.of=function(W,K){return function(it){try{var ft=it.sourceEvent=t.event;it.target=f,t.event=it,_[it.type].apply(W,K)}finally{t.event=ft}}},_}t.dispatch=function(){for(var f=new H,_=-1,O=arguments.length;++_<O;)f[arguments[_]]=C(f);return f},H.prototype.on=function(f,_){var O=f.indexOf("."),V="";if(O>=0&&(V=f.slice(O+1),f=f.slice(0,O)),f)return arguments.length<2?this[f].on(V):this[f].on(V,_);if(arguments.length===2){if(_==null)for(f in this)this.hasOwnProperty(f)&&this[f].on(V,null);return this}},t.event=null,t.requote=function(f){return f.replace(E,"\\$&")};var E=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Z={}.__proto__?function(f,_){f.__proto__=_}:function(f,_){for(var O in _)f[O]=_[O]};function S(f){return Z(f,Q),f}var U=function(f,_){return _.querySelector(f)},P=function(f,_){return _.querySelectorAll(f)},G=function(f,_){var O=f.matches||f[$(f,"matchesSelector")];return(G=function(V,W){return O.call(V,W)})(f,_)};typeof Sizzle=="function"&&(U=function(f,_){return Sizzle(f,_)[0]||null},P=Sizzle,G=Sizzle.matchesSelector),t.selection=function(){return t.select(e.documentElement)};var Q=t.selection.prototype=[];function et(f){return typeof f=="function"?f:function(){return U(f,this)}}function tt(f){return typeof f=="function"?f:function(){return P(f,this)}}Q.select=function(f){var _,O,V,W,K=[];f=et(f);for(var it=-1,ft=this.length;++it<ft;){K.push(_=[]),_.parentNode=(V=this[it]).parentNode;for(var dt=-1,pt=V.length;++dt<pt;)(W=V[dt])?(_.push(O=f.call(W,W.__data__,dt,it)),O&&"__data__"in W&&(O.__data__=W.__data__)):_.push(null)}return S(K)},Q.selectAll=function(f){var _,O,V=[];f=tt(f);for(var W=-1,K=this.length;++W<K;)for(var it=this[W],ft=-1,dt=it.length;++ft<dt;)(O=it[ft])&&(V.push(_=o(f.call(O,O.__data__,ft,W))),_.parentNode=O);return S(V)};var lt="http://www.w3.org/1999/xhtml",ct={svg:"http://www.w3.org/2000/svg",xhtml:lt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mt(f,_){return f=t.ns.qualify(f),_==null?f.local?function(){this.removeAttributeNS(f.space,f.local)}:function(){this.removeAttribute(f)}:typeof _=="function"?f.local?function(){var O=_.apply(this,arguments);O==null?this.removeAttributeNS(f.space,f.local):this.setAttributeNS(f.space,f.local,O)}:function(){var O=_.apply(this,arguments);O==null?this.removeAttribute(f):this.setAttribute(f,O)}:f.local?function(){this.setAttributeNS(f.space,f.local,_)}:function(){this.setAttribute(f,_)}}function Mt(f){return f.trim().replace(/\s+/g," ")}function St(f){return new RegExp("(?:^|\\s+)"+t.requote(f)+"(?:\\s+|$)","g")}function _t(f){return(f+"").trim().split(/^|\s+/)}function Yt(f,_){var O=(f=_t(f).map(Et)).length;return typeof _=="function"?function(){for(var V=-1,W=_.apply(this,arguments);++V<O;)f[V](this,W)}:function(){for(var V=-1;++V<O;)f[V](this,_)}}function Et(f){var _=St(f);return function(O,V){if(W=O.classList)return V?W.add(f):W.remove(f);var W=O.getAttribute("class")||"";V?(_.lastIndex=0,_.test(W)||O.setAttribute("class",Mt(W+" "+f))):O.setAttribute("class",Mt(W.replace(_," ")))}}function gt(f,_,O){return _==null?function(){this.style.removeProperty(f)}:typeof _=="function"?function(){var V=_.apply(this,arguments);V==null?this.style.removeProperty(f):this.style.setProperty(f,V,O)}:function(){this.style.setProperty(f,_,O)}}function ot(f,_){return _==null?function(){delete this[f]}:typeof _=="function"?function(){var O=_.apply(this,arguments);O==null?delete this[f]:this[f]=O}:function(){this[f]=_}}function nt(f){return typeof f=="function"?f:(f=t.ns.qualify(f)).local?function(){return this.ownerDocument.createElementNS(f.space,f.local)}:function(){var _=this.ownerDocument,O=this.namespaceURI;return O===lt&&_.documentElement.namespaceURI===lt?_.createElement(f):_.createElementNS(O,f)}}function ut(){var f=this.parentNode;f&&f.removeChild(this)}function ht(f){return{__data__:f}}function Dt(f){return function(){return G(this,f)}}function Tt(f){return arguments.length||(f=p),function(_,O){return _&&O?f(_.__data__,O.__data__):!_-!O}}function xt(f,_){for(var O=0,V=f.length;O<V;O++)for(var W,K=f[O],it=0,ft=K.length;it<ft;it++)(W=K[it])&&_(W,it,O);return f}function Ot(f){return Z(f,It),f}t.ns={prefix:ct,qualify:function(f){var _=f.indexOf(":"),O=f;return _>=0&&(O=f.slice(0,_))!=="xmlns"&&(f=f.slice(_+1)),ct.hasOwnProperty(O)?{space:ct[O],local:f}:f}},Q.attr=function(f,_){if(arguments.length<2){if(typeof f=="string"){var O=this.node();return(f=t.ns.qualify(f)).local?O.getAttributeNS(f.space,f.local):O.getAttribute(f)}for(_ in f)this.each(mt(_,f[_]));return this}return this.each(mt(f,_))},Q.classed=function(f,_){if(arguments.length<2){if(typeof f=="string"){var O=this.node(),V=(f=_t(f)).length,W=-1;if(_=O.classList){for(;++W<V;)if(!_.contains(f[W]))return!1}else for(_=O.getAttribute("class");++W<V;)if(!St(f[W]).test(_))return!1;return!0}for(_ in f)this.each(Yt(_,f[_]));return this}return this.each(Yt(f,_))},Q.style=function(f,_,O){var V=arguments.length;if(V<3){if(typeof f!="string"){for(O in V<2&&(_=""),f)this.each(gt(O,f[O],_));return this}if(V<2){var W=this.node();return l(W).getComputedStyle(W,null).getPropertyValue(f)}O=""}return this.each(gt(f,_,O))},Q.property=function(f,_){if(arguments.length<2){if(typeof f=="string")return this.node()[f];for(_ in f)this.each(ot(_,f[_]));return this}return this.each(ot(f,_))},Q.text=function(f){return arguments.length?this.each(typeof f=="function"?function(){var _=f.apply(this,arguments);this.textContent=_??""}:f==null?function(){this.textContent=""}:function(){this.textContent=f}):this.node().textContent},Q.html=function(f){return arguments.length?this.each(typeof f=="function"?function(){var _=f.apply(this,arguments);this.innerHTML=_??""}:f==null?function(){this.innerHTML=""}:function(){this.innerHTML=f}):this.node().innerHTML},Q.append=function(f){return f=nt(f),this.select(function(){return this.appendChild(f.apply(this,arguments))})},Q.insert=function(f,_){return f=nt(f),_=et(_),this.select(function(){return this.insertBefore(f.apply(this,arguments),_.apply(this,arguments)||null)})},Q.remove=function(){return this.each(ut)},Q.data=function(f,_){var O,V,W=-1,K=this.length;if(!arguments.length){for(f=new Array(K=(O=this[0]).length);++W<K;)(V=O[W])&&(f[W]=V.__data__);return f}function it(yt,zt){var Ft,Jt,te,Vt=yt.length,Qt=zt.length,Rt=Math.min(Vt,Qt),ie=new Array(Qt),Kt=new Array(Qt),Ut=new Array(Vt);if(_){var pe,ve=new T,Ee=new Array(Vt);for(Ft=-1;++Ft<Vt;)(Jt=yt[Ft])&&(ve.has(pe=_.call(Jt,Jt.__data__,Ft))?Ut[Ft]=Jt:ve.set(pe,Jt),Ee[Ft]=pe);for(Ft=-1;++Ft<Qt;)(Jt=ve.get(pe=_.call(zt,te=zt[Ft],Ft)))?Jt!==!0&&(ie[Ft]=Jt,Jt.__data__=te):Kt[Ft]=ht(te),ve.set(pe,!0);for(Ft=-1;++Ft<Vt;)Ft in Ee&&ve.get(Ee[Ft])!==!0&&(Ut[Ft]=yt[Ft])}else{for(Ft=-1;++Ft<Rt;)Jt=yt[Ft],te=zt[Ft],Jt?(Jt.__data__=te,ie[Ft]=Jt):Kt[Ft]=ht(te);for(;Ft<Qt;++Ft)Kt[Ft]=ht(zt[Ft]);for(;Ft<Vt;++Ft)Ut[Ft]=yt[Ft]}Kt.update=ie,Kt.parentNode=ie.parentNode=Ut.parentNode=yt.parentNode,ft.push(Kt),dt.push(ie),pt.push(Ut)}var ft=Ot([]),dt=S([]),pt=S([]);if(typeof f=="function")for(;++W<K;)it(O=this[W],f.call(O,O.parentNode.__data__,W));else for(;++W<K;)it(O=this[W],f);return dt.enter=function(){return ft},dt.exit=function(){return pt},dt},Q.datum=function(f){return arguments.length?this.property("__data__",f):this.property("__data__")},Q.filter=function(f){var _,O,V,W=[];typeof f!="function"&&(f=Dt(f));for(var K=0,it=this.length;K<it;K++){W.push(_=[]),_.parentNode=(O=this[K]).parentNode;for(var ft=0,dt=O.length;ft<dt;ft++)(V=O[ft])&&f.call(V,V.__data__,ft,K)&&_.push(V)}return S(W)},Q.order=function(){for(var f=-1,_=this.length;++f<_;)for(var O,V=this[f],W=V.length-1,K=V[W];--W>=0;)(O=V[W])&&(K&&K!==O.nextSibling&&K.parentNode.insertBefore(O,K),K=O);return this},Q.sort=function(f){f=Tt.apply(this,arguments);for(var _=-1,O=this.length;++_<O;)this[_].sort(f);return this.order()},Q.each=function(f){return xt(this,function(_,O,V){f.call(_,_.__data__,O,V)})},Q.call=function(f){var _=o(arguments);return f.apply(_[0]=this,_),this},Q.empty=function(){return!this.node()},Q.node=function(){for(var f=0,_=this.length;f<_;f++)for(var O=this[f],V=0,W=O.length;V<W;V++){var K=O[V];if(K)return K}return null},Q.size=function(){var f=0;return xt(this,function(){++f}),f};var It=[];function wt(f){var _,O;return function(V,W,K){var it,ft=f[K].update,dt=ft.length;for(K!=O&&(O=K,_=0),W>=_&&(_=W+1);!(it=ft[_])&&++_<dt;);return it}}function At(f,_,O){var V="__on"+f,W=f.indexOf("."),K=kt;W>0&&(f=f.slice(0,W));var it=Xt.get(f);function ft(){var dt=this[V];dt&&(this.removeEventListener(f,dt,dt.$),delete this[V])}return it&&(f=it,K=Bt),W?_?function(){var dt=K(_,o(arguments));ft.call(this),this.addEventListener(f,this[V]=dt,dt.$=O),dt._=_}:ft:_?q:function(){var dt,pt=new RegExp("^__on([^.]+)"+t.requote(f)+"$");for(var yt in this)if(dt=yt.match(pt)){var zt=this[yt];this.removeEventListener(dt[1],zt,zt.$),delete this[yt]}}}t.selection.enter=Ot,t.selection.enter.prototype=It,It.append=Q.append,It.empty=Q.empty,It.node=Q.node,It.call=Q.call,It.size=Q.size,It.select=function(f){for(var _,O,V,W,K,it=[],ft=-1,dt=this.length;++ft<dt;){V=(W=this[ft]).update,it.push(_=[]),_.parentNode=W.parentNode;for(var pt=-1,yt=W.length;++pt<yt;)(K=W[pt])?(_.push(V[pt]=O=f.call(W.parentNode,K.__data__,pt,ft)),O.__data__=K.__data__):_.push(null)}return S(it)},It.insert=function(f,_){return arguments.length<2&&(_=wt(this)),Q.insert.call(this,f,_)},t.select=function(f){var _;return typeof f=="string"?(_=[U(f,e)]).parentNode=e.documentElement:(_=[f]).parentNode=n(f),S([_])},t.selectAll=function(f){var _;return typeof f=="string"?(_=o(P(f,e))).parentNode=e.documentElement:(_=o(f)).parentNode=null,S([_])},Q.on=function(f,_,O){var V=arguments.length;if(V<3){if(typeof f!="string"){for(O in V<2&&(_=!1),f)this.each(At(O,f[O],_));return this}if(V<2)return(V=this.node()["__on"+f])&&V._;O=!1}return this.each(At(f,_,O))};var Xt=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function kt(f,_){return function(O){var V=t.event;t.event=O,_[0]=this.__data__;try{f.apply(this,_)}finally{t.event=V}}}function Bt(f,_){var O=kt(f,_);return function(V){var W=V.relatedTarget;W&&(W===this||8&W.compareDocumentPosition(this))||O.call(this,V)}}e&&Xt.forEach(function(f){"on"+f in e&&Xt.remove(f)});var Zt,Ht=0;function ee(f){var _=".dragsuppress-"+ ++Ht,O="click"+_,V=t.select(l(f)).on("touchmove"+_,F).on("dragstart"+_,F).on("selectstart"+_,F);if(Zt==null&&(Zt=!("onselectstart"in f)&&$(f.style,"userSelect")),Zt){var W=n(f).style,K=W[Zt];W[Zt]="none"}return function(it){if(V.on(_,null),Zt&&(W[Zt]=K),it){var ft=function(){V.on(O,null)};V.on(O,function(){F(),ft()},!0),setTimeout(ft,0)}}}t.mouse=function(f){return vt(f,L())};var qt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function vt(f,_){_.changedTouches&&(_=_.changedTouches[0]);var O=f.ownerSVGElement||f;if(O.createSVGPoint){var V=O.createSVGPoint();if(qt<0){var W=l(f);if(W.scrollX||W.scrollY){var K=(O=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();qt=!(K.f||K.e),O.remove()}}return qt?(V.x=_.pageX,V.y=_.pageY):(V.x=_.clientX,V.y=_.clientY),[(V=V.matrixTransform(f.getScreenCTM().inverse())).x,V.y]}var it=f.getBoundingClientRect();return[_.clientX-it.left-f.clientLeft,_.clientY-it.top-f.clientTop]}function bt(){return t.event.changedTouches[0].identifier}t.touch=function(f,_,O){if(arguments.length<3&&(O=_,_=L().changedTouches),_){for(var V,W=0,K=_.length;W<K;++W)if((V=_[W]).identifier===O)return vt(f,V)}},t.behavior.drag=function(){var f=X(W,"drag","dragstart","dragend"),_=null,O=K(q,t.mouse,l,"mousemove","mouseup"),V=K(bt,t.touch,Y,"touchmove","touchend");function W(){this.on("mousedown.drag",O).on("touchstart.drag",V)}function K(it,ft,dt,pt,yt){return function(){var zt,Ft=this,Jt=t.event.target.correspondingElement||t.event.target,te=Ft.parentNode,Vt=f.of(Ft,arguments),Qt=0,Rt=it(),ie=".drag"+(Rt==null?"":"-"+Rt),Kt=t.select(dt(Jt)).on(pt+ie,ve).on(yt+ie,Ee),Ut=ee(Jt),pe=ft(te,Rt);function ve(){var Ie,We,Xe=ft(te,Rt);Xe&&(Ie=Xe[0]-pe[0],We=Xe[1]-pe[1],Qt|=Ie|We,pe=Xe,Vt({type:"drag",x:Xe[0]+zt[0],y:Xe[1]+zt[1],dx:Ie,dy:We}))}function Ee(){ft(te,Rt)&&(Kt.on(pt+ie,null).on(yt+ie,null),Ut(Qt),Vt({type:"dragend"}))}zt=_?[(zt=_.apply(Ft,arguments)).x-pe[0],zt.y-pe[1]]:[0,0],Vt({type:"dragstart"})}}return W.origin=function(it){return arguments.length?(_=it,W):_},t.rebind(W,f,"on")},t.touches=function(f,_){return arguments.length<2&&(_=L().touches),_?o(_).map(function(O){var V=vt(f,O);return V.identifier=O.identifier,V}):[]};var Gt=1e-6,re=Math.PI,xe=2*re,at=xe-Gt,st=re/2,Lt=re/180,Ct=180/re;function Nt(f){return f>1?st:f<-1?-st:Math.asin(f)}function Pt(f){return((f=Math.exp(f))+1/f)/2}var jt=Math.SQRT2;t.interpolateZoom=function(f,_){var O,V,W=f[0],K=f[1],it=f[2],ft=_[0],dt=_[1],pt=_[2],yt=ft-W,zt=dt-K,Ft=yt*yt+zt*zt;if(Ft<1e-12)V=Math.log(pt/it)/jt,O=function(ie){return[W+ie*yt,K+ie*zt,it*Math.exp(jt*ie*V)]};else{var Jt=Math.sqrt(Ft),te=(pt*pt-it*it+4*Ft)/(2*it*2*Jt),Vt=(pt*pt-it*it-4*Ft)/(2*pt*2*Jt),Qt=Math.log(Math.sqrt(te*te+1)-te),Rt=Math.log(Math.sqrt(Vt*Vt+1)-Vt);V=(Rt-Qt)/jt,O=function(ie){var Kt,Ut=ie*V,pe=Pt(Qt),ve=it/(2*Jt)*(pe*(Kt=jt*Ut+Qt,((Kt=Math.exp(2*Kt))-1)/(Kt+1))-function(Ee){return((Ee=Math.exp(Ee))-1/Ee)/2}(Qt));return[W+ve*yt,K+ve*zt,it*pe/Pt(jt*Ut+Qt)]}}return O.duration=1e3*V,O},t.behavior.zoom=function(){var f,_,O,V,W,K,it,ft,dt,pt={x:0,y:0,k:1},yt=[960,500],zt=se,Ft=250,Jt=0,te="mousedown.zoom",Vt="mousemove.zoom",Qt="mouseup.zoom",Rt="touchstart.zoom",ie=X(Kt,"zoomstart","zoom","zoomend");function Kt(Pe){Pe.on(te,$e).on(ne+".zoom",mn).on("dblclick.zoom",yn).on(Rt,sn)}function Ut(Pe){return[(Pe[0]-pt.x)/pt.k,(Pe[1]-pt.y)/pt.k]}function pe(Pe){pt.k=Math.max(zt[0],Math.min(zt[1],Pe))}function ve(Pe,Qe){Qe=function(ln){return[ln[0]*pt.k+pt.x,ln[1]*pt.k+pt.y]}(Qe),pt.x+=Pe[0]-Qe[0],pt.y+=Pe[1]-Qe[1]}function Ee(Pe,Qe,ln,an){Pe.__chart__={x:pt.x,y:pt.y,k:pt.k},pe(Math.pow(2,an)),ve(_=Qe,ln),Pe=t.select(Pe),Ft>0&&(Pe=Pe.transition().duration(Ft)),Pe.call(Kt.event)}function Ie(){it&&it.domain(K.range().map(function(Pe){return(Pe-pt.x)/pt.k}).map(K.invert)),dt&&dt.domain(ft.range().map(function(Pe){return(Pe-pt.y)/pt.k}).map(ft.invert))}function We(Pe){Jt++||Pe({type:"zoomstart"})}function Xe(Pe){Ie(),Pe({type:"zoom",scale:pt.k,translate:[pt.x,pt.y]})}function on(Pe){--Jt||(Pe({type:"zoomend"}),_=null)}function $e(){var Pe=this,Qe=ie.of(Pe,arguments),ln=0,an=t.select(l(Pe)).on(Vt,gn).on(Qt,_n),fn=Ut(t.mouse(Pe)),pn=ee(Pe);function gn(){ln=1,ve(t.mouse(Pe),fn),Xe(Qe)}function _n(){an.on(Vt,null).on(Qt,null),pn(ln),on(Qe)}Tr.call(Pe),We(Qe)}function sn(){var Pe,Qe=this,ln=ie.of(Qe,arguments),an={},fn=0,pn=".zoom-"+t.event.changedTouches[0].identifier,gn="touchmove"+pn,_n="touchend"+pn,Tn=[],Mn=t.select(Qe),zn=ee(Qe);function Ln(){var Sn=t.touches(Qe);return Pe=pt.k,Sn.forEach(function(kn){kn.identifier in an&&(an[kn.identifier]=Ut(kn))}),Sn}function Cn(){var Sn=t.event.target;t.select(Sn).on(gn,jn).on(_n,Zn),Tn.push(Sn);for(var kn=t.event.changedTouches,En=0,Bn=kn.length;En<Bn;++En)an[kn[En].identifier]=null;var Vn=Ln(),Kn=Date.now();if(Vn.length===1){if(Kn-W<500){var Wn=Vn[0];Ee(Qe,Wn,an[Wn.identifier],Math.floor(Math.log(pt.k)/Math.LN2)+1),F()}W=Kn}else if(Vn.length>1){Wn=Vn[0];var Un=Vn[1],Ar=Wn[0]-Un[0],Wa=Wn[1]-Un[1];fn=Ar*Ar+Wa*Wa}}function jn(){var Sn,kn,En,Bn,Vn=t.touches(Qe);Tr.call(Qe);for(var Kn=0,Wn=Vn.length;Kn<Wn;++Kn,Bn=null)if(En=Vn[Kn],Bn=an[En.identifier]){if(kn)break;Sn=En,kn=Bn}if(Bn){var Un=(Un=En[0]-Sn[0])*Un+(Un=En[1]-Sn[1])*Un,Ar=fn&&Math.sqrt(Un/fn);Sn=[(Sn[0]+En[0])/2,(Sn[1]+En[1])/2],kn=[(kn[0]+Bn[0])/2,(kn[1]+Bn[1])/2],pe(Ar*Pe)}W=null,ve(Sn,kn),Xe(ln)}function Zn(){if(t.event.touches.length){for(var Sn=t.event.changedTouches,kn=0,En=Sn.length;kn<En;++kn)delete an[Sn[kn].identifier];for(var Bn in an)return void Ln()}t.selectAll(Tn).on(pn,null),Mn.on(te,$e).on(Rt,sn),zn(),on(ln)}Cn(),We(ln),Mn.on(te,null).on(Rt,Cn)}function mn(){var Pe=ie.of(this,arguments);V?clearTimeout(V):(Tr.call(this),f=Ut(_=O||t.mouse(this)),We(Pe)),V=setTimeout(function(){V=null,on(Pe)},50),F(),pe(Math.pow(2,.002*$t())*pt.k),ve(_,f),Xe(Pe)}function yn(){var Pe=t.mouse(this),Qe=Math.log(pt.k)/Math.LN2;Ee(this,Pe,Ut(Pe),t.event.shiftKey?Math.ceil(Qe)-1:Math.floor(Qe)+1)}return ne||(ne="onwheel"in e?($t=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in e?($t=function(){return t.event.wheelDelta},"mousewheel"):($t=function(){return-t.event.detail},"MozMousePixelScroll")),Kt.event=function(Pe){Pe.each(function(){var Qe=ie.of(this,arguments),ln=pt;Gn?t.select(this).transition().each("start.zoom",function(){pt=this.__chart__||{x:0,y:0,k:1},We(Qe)}).tween("zoom:zoom",function(){var an=yt[0],fn=yt[1],pn=_?_[0]:an/2,gn=_?_[1]:fn/2,_n=t.interpolateZoom([(pn-pt.x)/pt.k,(gn-pt.y)/pt.k,an/pt.k],[(pn-ln.x)/ln.k,(gn-ln.y)/ln.k,an/ln.k]);return function(Tn){var Mn=_n(Tn),zn=an/Mn[2];this.__chart__=pt={x:pn-Mn[0]*zn,y:gn-Mn[1]*zn,k:zn},Xe(Qe)}}).each("interrupt.zoom",function(){on(Qe)}).each("end.zoom",function(){on(Qe)}):(this.__chart__=pt,We(Qe),Xe(Qe),on(Qe))})},Kt.translate=function(Pe){return arguments.length?(pt={x:+Pe[0],y:+Pe[1],k:pt.k},Ie(),Kt):[pt.x,pt.y]},Kt.scale=function(Pe){return arguments.length?(pt={x:pt.x,y:pt.y,k:null},pe(+Pe),Ie(),Kt):pt.k},Kt.scaleExtent=function(Pe){return arguments.length?(zt=Pe==null?se:[+Pe[0],+Pe[1]],Kt):zt},Kt.center=function(Pe){return arguments.length?(O=Pe&&[+Pe[0],+Pe[1]],Kt):O},Kt.size=function(Pe){return arguments.length?(yt=Pe&&[+Pe[0],+Pe[1]],Kt):yt},Kt.duration=function(Pe){return arguments.length?(Ft=+Pe,Kt):Ft},Kt.x=function(Pe){return arguments.length?(it=Pe,K=Pe.copy(),pt={x:0,y:0,k:1},Kt):it},Kt.y=function(Pe){return arguments.length?(dt=Pe,ft=Pe.copy(),pt={x:0,y:0,k:1},Kt):dt},t.rebind(Kt,ie,"on")};var $t,ne,se=[0,1/0];function Wt(){}function ae(f,_,O){return this instanceof ae?(this.h=+f,this.s=+_,void(this.l=+O)):arguments.length<2?f instanceof ae?new ae(f.h,f.s,f.l):en(""+f,tn,ae):new ae(f,_,O)}t.color=Wt,Wt.prototype.toString=function(){return this.rgb()+""},t.hsl=ae;var ce=ae.prototype=new Wt;function be(f,_,O){var V,W;function K(it){return Math.round(255*function(ft){return ft>360?ft-=360:ft<0&&(ft+=360),ft<60?V+(W-V)*ft/60:ft<180?W:ft<240?V+(W-V)*(240-ft)/60:V}(it))}return f=isNaN(f)?0:(f%=360)<0?f+360:f,_=isNaN(_)||_<0?0:_>1?1:_,V=2*(O=O<0?0:O>1?1:O)-(W=O<=.5?O*(1+_):O+_-O*_),new ue(K(f+120),K(f),K(f-120))}function he(f,_,O){return this instanceof he?(this.h=+f,this.c=+_,void(this.l=+O)):arguments.length<2?f instanceof he?new he(f.h,f.c,f.l):de(f instanceof Te?f.l:(f=Se((f=t.rgb(f)).r,f.g,f.b)).l,f.a,f.b):new he(f,_,O)}ce.brighter=function(f){return f=Math.pow(.7,arguments.length?f:1),new ae(this.h,this.s,this.l/f)},ce.darker=function(f){return f=Math.pow(.7,arguments.length?f:1),new ae(this.h,this.s,f*this.l)},ce.rgb=function(){return be(this.h,this.s,this.l)},t.hcl=he;var me=he.prototype=new Wt;function le(f,_,O){return isNaN(f)&&(f=0),isNaN(_)&&(_=0),new Te(O,Math.cos(f*=Lt)*_,Math.sin(f)*_)}function Te(f,_,O){return this instanceof Te?(this.l=+f,this.a=+_,void(this.b=+O)):arguments.length<2?f instanceof Te?new Te(f.l,f.a,f.b):f instanceof he?le(f.h,f.c,f.l):Se((f=ue(f)).r,f.g,f.b):new Te(f,_,O)}me.brighter=function(f){return new he(this.h,this.c,Math.min(100,this.l+Me*(arguments.length?f:1)))},me.darker=function(f){return new he(this.h,this.c,Math.max(0,this.l-Me*(arguments.length?f:1)))},me.rgb=function(){return le(this.h,this.c,this.l).rgb()},t.lab=Te;var Me=18,ge=Te.prototype=new Wt;function oe(f,_,O){var V=(f+16)/116,W=V+_/500,K=V-O/200;return new ue(Ce(3.2404542*(W=.95047*Ae(W))-1.5371385*(V=1*Ae(V))-.4985314*(K=1.08883*Ae(K))),Ce(-.969266*W+1.8760108*V+.041556*K),Ce(.0556434*W-.2040259*V+1.0572252*K))}function de(f,_,O){return f>0?new he(Math.atan2(O,_)*Ct,Math.sqrt(_*_+O*O),f):new he(NaN,NaN,f)}function Ae(f){return f>.206893034?f*f*f:(f-4/29)/7.787037}function ye(f){return f>.008856?Math.pow(f,1/3):7.787037*f+4/29}function Ce(f){return Math.round(255*(f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055))}function ue(f,_,O){return this instanceof ue?(this.r=~~f,this.g=~~_,void(this.b=~~O)):arguments.length<2?f instanceof ue?new ue(f.r,f.g,f.b):en(""+f,ue,be):new ue(f,_,O)}function Re(f){return new ue(f>>16,f>>8&255,255&f)}function De(f){return Re(f)+""}ge.brighter=function(f){return new Te(Math.min(100,this.l+Me*(arguments.length?f:1)),this.a,this.b)},ge.darker=function(f){return new Te(Math.max(0,this.l-Me*(arguments.length?f:1)),this.a,this.b)},ge.rgb=function(){return oe(this.l,this.a,this.b)},t.rgb=ue;var Oe=ue.prototype=new Wt;function Ne(f){return f<16?"0"+Math.max(0,f).toString(16):Math.min(255,f).toString(16)}function en(f,_,O){var V,W,K,it=0,ft=0,dt=0;if(V=/([a-z]+)\((.*)\)/.exec(f=f.toLowerCase()))switch(W=V[2].split(","),V[1]){case"hsl":return O(parseFloat(W[0]),parseFloat(W[1])/100,parseFloat(W[2])/100);case"rgb":return _(Le(W[0]),Le(W[1]),Le(W[2]))}return(K=_e.get(f))?_(K.r,K.g,K.b):(f==null||f.charAt(0)!=="#"||isNaN(K=parseInt(f.slice(1),16))||(f.length===4?(it=(3840&K)>>4,it|=it>>4,ft=240&K,ft|=ft>>4,dt=15&K,dt|=dt<<4):f.length===7&&(it=(16711680&K)>>16,ft=(65280&K)>>8,dt=255&K)),_(it,ft,dt))}function tn(f,_,O){var V,W,K=Math.min(f/=255,_/=255,O/=255),it=Math.max(f,_,O),ft=it-K,dt=(it+K)/2;return ft?(W=dt<.5?ft/(it+K):ft/(2-it-K),V=f==it?(_-O)/ft+(_<O?6:0):_==it?(O-f)/ft+2:(f-_)/ft+4,V*=60):(V=NaN,W=dt>0&&dt<1?0:V),new ae(V,W,dt)}function Se(f,_,O){var V=ye((.4124564*(f=ke(f))+.3575761*(_=ke(_))+.1804375*(O=ke(O)))/.95047),W=ye((.2126729*f+.7151522*_+.072175*O)/1);return Te(116*W-16,500*(V-W),200*(W-ye((.0193339*f+.119192*_+.9503041*O)/1.08883)))}function ke(f){return(f/=255)<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Le(f){var _=parseFloat(f);return f.charAt(f.length-1)==="%"?Math.round(2.55*_):_}Oe.brighter=function(f){f=Math.pow(.7,arguments.length?f:1);var _=this.r,O=this.g,V=this.b,W=30;return _||O||V?(_&&_<W&&(_=W),O&&O<W&&(O=W),V&&V<W&&(V=W),new ue(Math.min(255,_/f),Math.min(255,O/f),Math.min(255,V/f))):new ue(W,W,W)},Oe.darker=function(f){return new ue((f=Math.pow(.7,arguments.length?f:1))*this.r,f*this.g,f*this.b)},Oe.hsl=function(){return tn(this.r,this.g,this.b)},Oe.toString=function(){return"#"+Ne(this.r)+Ne(this.g)+Ne(this.b)};var _e=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function fe(f){return typeof f=="function"?f:function(){return f}}function Fe(f){return function(_,O,V){return arguments.length===2&&typeof O=="function"&&(V=O,O=null),Ye(_,O,f,V)}}function Ye(f,_,O,V){var W={},K=t.dispatch("beforesend","progress","load","error"),it={},ft=new XMLHttpRequest,dt=null;function pt(){var yt,zt=ft.status;if(!zt&&function(Ft){var Jt=Ft.responseType;return Jt&&Jt!=="text"?Ft.response:Ft.responseText}(ft)||zt>=200&&zt<300||zt===304){try{yt=O.call(W,ft)}catch(Ft){return void K.error.call(W,Ft)}K.load.call(W,yt)}else K.error.call(W,ft)}return self.XDomainRequest&&!("withCredentials"in ft)&&/^(http(s)?:)?\/\//.test(f)&&(ft=new XDomainRequest),"onload"in ft?ft.onload=ft.onerror=pt:ft.onreadystatechange=function(){ft.readyState>3&&pt()},ft.onprogress=function(yt){var zt=t.event;t.event=yt;try{K.progress.call(W,ft)}finally{t.event=zt}},W.header=function(yt,zt){return yt=(yt+"").toLowerCase(),arguments.length<2?it[yt]:(zt==null?delete it[yt]:it[yt]=zt+"",W)},W.mimeType=function(yt){return arguments.length?(_=yt==null?null:yt+"",W):_},W.responseType=function(yt){return arguments.length?(dt=yt,W):dt},W.response=function(yt){return O=yt,W},["get","post"].forEach(function(yt){W[yt]=function(){return W.send.apply(W,[yt].concat(o(arguments)))}}),W.send=function(yt,zt,Ft){if(arguments.length===2&&typeof zt=="function"&&(Ft=zt,zt=null),ft.open(yt,f,!0),_==null||"accept"in it||(it.accept=_+",*/*"),ft.setRequestHeader)for(var Jt in it)ft.setRequestHeader(Jt,it[Jt]);return _!=null&&ft.overrideMimeType&&ft.overrideMimeType(_),dt!=null&&(ft.responseType=dt),Ft!=null&&W.on("error",Ft).on("load",function(te){Ft(null,te)}),K.beforesend.call(W,ft),ft.send(zt??null),W},W.abort=function(){return ft.abort(),W},t.rebind(W,K,"on"),V==null?W:W.get(function(yt){return yt.length===1?function(zt,Ft){yt(zt==null?Ft:null)}:yt}(V))}_e.forEach(function(f,_){_e.set(f,Re(_))}),t.functor=fe,t.xhr=Fe(Y),t.dsv=function(f,_){var O=new RegExp('["'+f+`
]`),V=f.charCodeAt(0);function W(pt,yt,zt){arguments.length<3&&(zt=yt,yt=null);var Ft=Ye(pt,_,yt==null?K:it(yt),zt);return Ft.row=function(Jt){return arguments.length?Ft.response((yt=Jt)==null?K:it(Jt)):yt},Ft}function K(pt){return W.parse(pt.responseText)}function it(pt){return function(yt){return W.parse(yt.responseText,pt)}}function ft(pt){return pt.map(dt).join(f)}function dt(pt){return O.test(pt)?'"'+pt.replace(/\"/g,'""')+'"':pt}return W.parse=function(pt,yt){var zt;return W.parseRows(pt,function(Ft,Jt){if(zt)return zt(Ft,Jt-1);var te=function(Vt){for(var Qt={},Rt=Ft.length,ie=0;ie<Rt;++ie)Qt[Ft[ie]]=Vt[ie];return Qt};zt=yt?function(Vt,Qt){return yt(te(Vt),Qt)}:te})},W.parseRows=function(pt,yt){var zt,Ft,Jt={},te={},Vt=[],Qt=pt.length,Rt=0,ie=0;function Kt(){if(Rt>=Qt)return te;if(Ft)return Ft=!1,Jt;var pe=Rt;if(pt.charCodeAt(pe)===34){for(var ve=pe;ve++<Qt;)if(pt.charCodeAt(ve)===34){if(pt.charCodeAt(ve+1)!==34)break;++ve}return Rt=ve+2,(Ee=pt.charCodeAt(ve+1))===13?(Ft=!0,pt.charCodeAt(ve+2)===10&&++Rt):Ee===10&&(Ft=!0),pt.slice(pe+1,ve).replace(/""/g,'"')}for(;Rt<Qt;){var Ee,Ie=1;if((Ee=pt.charCodeAt(Rt++))===10)Ft=!0;else if(Ee===13)Ft=!0,pt.charCodeAt(Rt)===10&&(++Rt,++Ie);else if(Ee!==V)continue;return pt.slice(pe,Rt-Ie)}return pt.slice(pe)}for(;(zt=Kt())!==te;){for(var Ut=[];zt!==Jt&&zt!==te;)Ut.push(zt),zt=Kt();yt&&(Ut=yt(Ut,ie++))==null||Vt.push(Ut)}return Vt},W.format=function(pt){if(Array.isArray(pt[0]))return W.formatRows(pt);var yt=new j,zt=[];return pt.forEach(function(Ft){for(var Jt in Ft)yt.has(Jt)||zt.push(yt.add(Jt))}),[zt.map(dt).join(f)].concat(pt.map(function(Ft){return zt.map(function(Jt){return dt(Ft[Jt])}).join(f)})).join(`
`)},W.formatRows=function(pt){return pt.map(ft).join(`
`)},W},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("	","text/tab-separated-values");var Je,Ze,je,Be,Ke=this[$(this,"requestAnimationFrame")]||function(f){setTimeout(f,17)};function Ue(f,_,O){var V=arguments.length;V<2&&(_=0),V<3&&(O=Date.now());var W=O+_,K={c:f,t:W,n:null};return Ze?Ze.n=K:Je=K,Ze=K,je||(Be=clearTimeout(Be),je=1,Ke(we)),K}function we(){var f=qe(),_=nn()-f;_>24?(isFinite(_)&&(clearTimeout(Be),Be=setTimeout(we,_)),je=0):(je=1,Ke(we))}function qe(){for(var f=Date.now(),_=Je;_;)f>=_.t&&_.c(f-_.t)&&(_.c=null),_=_.n;return f}function nn(){for(var f,_=Je,O=1/0;_;)_.c?(_.t<O&&(O=_.t),_=(f=_).n):_=f?f.n=_.n:Je=_.n;return Ze=f,O}function Ve(f){return f[0]}function Ge(f){return f[1]}function cn(f){for(var _,O,V,W=f.length,K=[0,1],it=2,ft=2;ft<W;ft++){for(;it>1&&(_=f[K[it-2]],O=f[K[it-1]],V=f[ft],(O[0]-_[0])*(V[1]-_[1])-(O[1]-_[1])*(V[0]-_[0])<=0);)--it;K[it++]=ft}return K.slice(0,it)}function rn(f,_){return f[0]-_[0]||f[1]-_[1]}t.timer=function(){Ue.apply(this,arguments)},t.timer.flush=function(){qe(),nn()},t.round=function(f,_){return _?Math.round(f*(_=Math.pow(10,_)))/_:Math.round(f)},t.geom={},t.geom.hull=function(f){var _=Ve,O=Ge;if(arguments.length)return V(f);function V(W){if(W.length<3)return[];var K,it=fe(_),ft=fe(O),dt=W.length,pt=[],yt=[];for(K=0;K<dt;K++)pt.push([+it.call(this,W[K],K),+ft.call(this,W[K],K),K]);for(pt.sort(rn),K=0;K<dt;K++)yt.push([pt[K][0],-pt[K][1]]);var zt=cn(pt),Ft=cn(yt),Jt=Ft[0]===zt[0],te=Ft[Ft.length-1]===zt[zt.length-1],Vt=[];for(K=zt.length-1;K>=0;--K)Vt.push(W[pt[zt[K]][2]]);for(K=+Jt;K<Ft.length-te;++K)Vt.push(W[pt[Ft[K]][2]]);return Vt}return V.x=function(W){return arguments.length?(_=W,V):_},V.y=function(W){return arguments.length?(O=W,V):O},V},t.geom.polygon=function(f){return Z(f,dn),f};var dn=t.geom.polygon.prototype=[];function hn(f,_,O){return(O[0]-_[0])*(f[1]-_[1])<(O[1]-_[1])*(f[0]-_[0])}function vn(f,_,O,V){var W=f[0],K=O[0],it=_[0]-W,ft=V[0]-K,dt=f[1],pt=O[1],yt=_[1]-dt,zt=V[1]-pt,Ft=(ft*(dt-pt)-zt*(W-K))/(zt*it-ft*yt);return[W+Ft*it,dt+Ft*yt]}function An(f){var _=f[0],O=f[f.length-1];return!(_[0]-O[0]||_[1]-O[1])}dn.area=function(){for(var f,_=-1,O=this.length,V=this[O-1],W=0;++_<O;)f=V,V=this[_],W+=f[1]*V[0]-f[0]*V[1];return .5*W},dn.centroid=function(f){var _,O,V=-1,W=this.length,K=0,it=0,ft=this[W-1];for(arguments.length||(f=-1/(6*this.area()));++V<W;)_=ft,ft=this[V],O=_[0]*ft[1]-ft[0]*_[1],K+=(_[0]+ft[0])*O,it+=(_[1]+ft[1])*O;return[K*f,it*f]},dn.clip=function(f){for(var _,O,V,W,K,it,ft=An(f),dt=-1,pt=this.length-An(this),yt=this[pt-1];++dt<pt;){for(_=f.slice(),f.length=0,W=this[dt],K=_[(V=_.length-ft)-1],O=-1;++O<V;)hn(it=_[O],yt,W)?(hn(K,yt,W)||f.push(vn(K,it,yt,W)),f.push(it)):hn(K,yt,W)&&f.push(vn(K,it,yt,W)),K=it;ft&&f.push(f[0]),yt=W}return f};var wn,Dn,un,xn,Pn,On=[],ta=[];function ni(){fr(this),this.edge=this.site=this.circle=null}function ea(f){var _=On.pop()||new ni;return _.site=f,_}function Dr(f){$n(f),un.remove(f),On.push(f),fr(f)}function ri(f){var _=f.circle,O=_.x,V=_.cy,W={x:O,y:V},K=f.P,it=f.N,ft=[f];Dr(f);for(var dt=K;dt.circle&&h(O-dt.circle.x)<Gt&&h(V-dt.circle.cy)<Gt;)K=dt.P,ft.unshift(dt),Dr(dt),dt=K;ft.unshift(dt),$n(dt);for(var pt=it;pt.circle&&h(O-pt.circle.x)<Gt&&h(V-pt.circle.cy)<Gt;)it=pt.N,ft.push(pt),Dr(pt),pt=it;ft.push(pt),$n(pt);var yt,zt=ft.length;for(yt=1;yt<zt;++yt)pt=ft[yt],dt=ft[yt-1],ur(pt.edge,dt.site,pt.site,W);dt=ft[0],(pt=ft[zt-1]).edge=er(dt.site,pt.site,null,W),Jn(dt),Jn(pt)}function ai(f){for(var _,O,V,W,K=f.x,it=f.y,ft=un._;ft;)if((V=na(ft,it)-K)>Gt)ft=ft.L;else{if(!((W=K-ii(ft,it))>Gt)){V>-Gt?(_=ft.P,O=ft):W>-Gt?(_=ft,O=ft.N):_=O=ft;break}if(!ft.R){_=ft;break}ft=ft.R}var dt=ea(f);if(un.insert(_,dt),_||O){if(_===O)return $n(_),O=ea(_.site),un.insert(dt,O),dt.edge=O.edge=er(_.site,dt.site),Jn(_),void Jn(O);if(O){$n(_),$n(O);var pt=_.site,yt=pt.x,zt=pt.y,Ft=f.x-yt,Jt=f.y-zt,te=O.site,Vt=te.x-yt,Qt=te.y-zt,Rt=2*(Ft*Qt-Jt*Vt),ie=Ft*Ft+Jt*Jt,Kt=Vt*Vt+Qt*Qt,Ut={x:(Qt*ie-Jt*Kt)/Rt+yt,y:(Ft*Kt-Vt*ie)/Rt+zt};ur(O.edge,pt,te,Ut),dt.edge=er(pt,f,null,Ut),O.edge=er(f,te,null,Ut),Jn(_),Jn(O)}else dt.edge=er(_.site,dt.site)}}function na(f,_){var O=f.site,V=O.x,W=O.y,K=W-_;if(!K)return V;var it=f.P;if(!it)return-1/0;var ft=(O=it.site).x,dt=O.y,pt=dt-_;if(!pt)return ft;var yt=ft-V,zt=1/K-1/pt,Ft=yt/pt;return zt?(-Ft+Math.sqrt(Ft*Ft-2*zt*(yt*yt/(-2*pt)-dt+pt/2+W-K/2)))/zt+V:(V+ft)/2}function ii(f,_){var O=f.N;if(O)return na(O,_);var V=f.site;return V.y===_?V.x:1/0}function ra(f){this.site=f,this.edges=[]}function aa(f,_){return _.angle-f.angle}function oi(){fr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(f){var _=f.P,O=f.N;if(_&&O){var V=_.site,W=f.site,K=O.site;if(V!==K){var it=W.x,ft=W.y,dt=V.x-it,pt=V.y-ft,yt=K.x-it,zt=2*(dt*(Qt=K.y-ft)-pt*yt);if(!(zt>=-1e-12)){var Ft=dt*dt+pt*pt,Jt=yt*yt+Qt*Qt,te=(Qt*Ft-pt*Jt)/zt,Vt=(dt*Jt-yt*Ft)/zt,Qt=Vt+ft,Rt=ta.pop()||new oi;Rt.arc=f,Rt.site=W,Rt.x=te+it,Rt.y=Qt+Math.sqrt(te*te+Vt*Vt),Rt.cy=Qt,f.circle=Rt;for(var ie=null,Kt=Pn._;Kt;)if(Rt.y<Kt.y||Rt.y===Kt.y&&Rt.x<=Kt.x){if(!Kt.L){ie=Kt.P;break}Kt=Kt.L}else{if(!Kt.R){ie=Kt;break}Kt=Kt.R}Pn.insert(ie,Rt),ie||(xn=Rt)}}}}function $n(f){var _=f.circle;_&&(_.P||(xn=_.N),Pn.remove(_),ta.push(_),fr(_),f.circle=null)}function li(f,_){var O=f.b;if(O)return!0;var V,W,K=f.a,it=_[0][0],ft=_[1][0],dt=_[0][1],pt=_[1][1],yt=f.l,zt=f.r,Ft=yt.x,Jt=yt.y,te=zt.x,Vt=zt.y,Qt=(Ft+te)/2,Rt=(Jt+Vt)/2;if(Vt===Jt){if(Qt<it||Qt>=ft)return;if(Ft>te){if(K){if(K.y>=pt)return}else K={x:Qt,y:dt};O={x:Qt,y:pt}}else{if(K){if(K.y<dt)return}else K={x:Qt,y:pt};O={x:Qt,y:dt}}}else if(W=Rt-(V=(Ft-te)/(Vt-Jt))*Qt,V<-1||V>1)if(Ft>te){if(K){if(K.y>=pt)return}else K={x:(dt-W)/V,y:dt};O={x:(pt-W)/V,y:pt}}else{if(K){if(K.y<dt)return}else K={x:(pt-W)/V,y:pt};O={x:(dt-W)/V,y:dt}}else if(Jt<Vt){if(K){if(K.x>=ft)return}else K={x:it,y:V*it+W};O={x:ft,y:V*ft+W}}else{if(K){if(K.x<it)return}else K={x:ft,y:V*ft+W};O={x:it,y:V*it+W}}return f.a=K,f.b=O,!0}function ia(f,_){this.l=f,this.r=_,this.a=this.b=null}function er(f,_,O,V){var W=new ia(f,_);return wn.push(W),O&&ur(W,f,_,O),V&&ur(W,_,f,V),Dn[f.i].edges.push(new dr(W,f,_)),Dn[_.i].edges.push(new dr(W,_,f)),W}function si(f,_,O){var V=new ia(f,null);return V.a=_,V.b=O,wn.push(V),V}function ur(f,_,O,V){f.a||f.b?f.l===O?f.b=V:f.a=V:(f.a=V,f.l=_,f.r=O)}function dr(f,_,O){var V=f.a,W=f.b;this.edge=f,this.site=_,this.angle=O?Math.atan2(O.y-_.y,O.x-_.x):f.l===_?Math.atan2(W.x-V.x,V.y-W.y):Math.atan2(V.x-W.x,W.y-V.y)}function Cr(){this._=null}function fr(f){f.U=f.C=f.L=f.R=f.P=f.N=null}function nr(f,_){var O=_,V=_.R,W=O.U;W?W.L===O?W.L=V:W.R=V:f._=V,V.U=W,O.U=V,O.R=V.L,O.R&&(O.R.U=O),V.L=O}function rr(f,_){var O=_,V=_.L,W=O.U;W?W.L===O?W.L=V:W.R=V:f._=V,V.U=W,O.U=V,O.L=V.R,O.L&&(O.L.U=O),V.R=O}function oa(f){for(;f.L;)f=f.L;return f}function Or(f,_){var O,V,W,K=f.sort(ci).pop();for(wn=[],Dn=new Array(f.length),un=new Cr,Pn=new Cr;;)if(W=xn,K&&(!W||K.y<W.y||K.y===W.y&&K.x<W.x))K.x===O&&K.y===V||(Dn[K.i]=new ra(K),ai(K),O=K.x,V=K.y),K=f.pop();else{if(!W)break;ri(W.arc)}_&&(function(ft){for(var dt,pt,yt,zt,Ft,Jt=wn,te=(pt=ft[0][0],yt=ft[0][1],zt=ft[1][0],Ft=ft[1][1],function(Qt){var Rt,ie=Qt.a,Kt=Qt.b,Ut=ie.x,pe=ie.y,ve=0,Ee=1,Ie=Kt.x-Ut,We=Kt.y-pe;if(Rt=pt-Ut,Ie||!(Rt>0)){if(Rt/=Ie,Ie<0){if(Rt<ve)return;Rt<Ee&&(Ee=Rt)}else if(Ie>0){if(Rt>Ee)return;Rt>ve&&(ve=Rt)}if(Rt=zt-Ut,Ie||!(Rt<0)){if(Rt/=Ie,Ie<0){if(Rt>Ee)return;Rt>ve&&(ve=Rt)}else if(Ie>0){if(Rt<ve)return;Rt<Ee&&(Ee=Rt)}if(Rt=yt-pe,We||!(Rt>0)){if(Rt/=We,We<0){if(Rt<ve)return;Rt<Ee&&(Ee=Rt)}else if(We>0){if(Rt>Ee)return;Rt>ve&&(ve=Rt)}if(Rt=Ft-pe,We||!(Rt<0)){if(Rt/=We,We<0){if(Rt>Ee)return;Rt>ve&&(ve=Rt)}else if(We>0){if(Rt<ve)return;Rt<Ee&&(Ee=Rt)}return ve>0&&(Qt.a={x:Ut+ve*Ie,y:pe+ve*We}),Ee<1&&(Qt.b={x:Ut+Ee*Ie,y:pe+Ee*We}),Qt}}}}}),Vt=Jt.length;Vt--;)(!li(dt=Jt[Vt],ft)||!te(dt)||h(dt.a.x-dt.b.x)<Gt&&h(dt.a.y-dt.b.y)<Gt)&&(dt.a=dt.b=null,Jt.splice(Vt,1))}(_),function(ft){for(var dt,pt,yt,zt,Ft,Jt,te,Vt,Qt,Rt,ie=ft[0][0],Kt=ft[1][0],Ut=ft[0][1],pe=ft[1][1],ve=Dn,Ee=ve.length;Ee--;)if((Ft=ve[Ee])&&Ft.prepare())for(Vt=(te=Ft.edges).length,Jt=0;Jt<Vt;)yt=(Rt=te[Jt].end()).x,zt=Rt.y,dt=(Qt=te[++Jt%Vt].start()).x,pt=Qt.y,(h(yt-dt)>Gt||h(zt-pt)>Gt)&&(te.splice(Jt,0,new dr(si(Ft.site,Rt,h(yt-ie)<Gt&&pe-zt>Gt?{x:ie,y:h(dt-ie)<Gt?pt:pe}:h(zt-pe)<Gt&&Kt-yt>Gt?{x:h(pt-pe)<Gt?dt:Kt,y:pe}:h(yt-Kt)<Gt&&zt-Ut>Gt?{x:Kt,y:h(dt-Kt)<Gt?pt:Ut}:h(zt-Ut)<Gt&&yt-ie>Gt?{x:h(pt-Ut)<Gt?dt:ie,y:Ut}:null),Ft.site,null)),++Vt)}(_));var it={cells:Dn,edges:wn};return un=Pn=wn=Dn=null,it}function ci(f,_){return _.y-f.y||_.x-f.x}ra.prototype.prepare=function(){for(var f,_=this.edges,O=_.length;O--;)(f=_[O].edge).b&&f.a||_.splice(O,1);return _.sort(aa),_.length},dr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Cr.prototype={insert:function(f,_){var O,V,W;if(f){if(_.P=f,_.N=f.N,f.N&&(f.N.P=_),f.N=_,f.R){for(f=f.R;f.L;)f=f.L;f.L=_}else f.R=_;O=f}else this._?(f=oa(this._),_.P=null,_.N=f,f.P=f.L=_,O=f):(_.P=_.N=null,this._=_,O=null);for(_.L=_.R=null,_.U=O,_.C=!0,f=_;O&&O.C;)O===(V=O.U).L?(W=V.R)&&W.C?(O.C=W.C=!1,V.C=!0,f=V):(f===O.R&&(nr(this,O),O=(f=O).U),O.C=!1,V.C=!0,rr(this,V)):(W=V.L)&&W.C?(O.C=W.C=!1,V.C=!0,f=V):(f===O.L&&(rr(this,O),O=(f=O).U),O.C=!1,V.C=!0,nr(this,V)),O=f.U;this._.C=!1},remove:function(f){f.N&&(f.N.P=f.P),f.P&&(f.P.N=f.N),f.N=f.P=null;var _,O,V,W=f.U,K=f.L,it=f.R;if(O=K?it?oa(it):K:it,W?W.L===f?W.L=O:W.R=O:this._=O,K&&it?(V=O.C,O.C=f.C,O.L=K,K.U=O,O!==it?(W=O.U,O.U=f.U,f=O.R,W.L=f,O.R=it,it.U=O):(O.U=W,W=O,f=O.R)):(V=f.C,f=O),f&&(f.U=W),!V)if(f&&f.C)f.C=!1;else{do{if(f===this._)break;if(f===W.L){if((_=W.R).C&&(_.C=!1,W.C=!0,nr(this,W),_=W.R),_.L&&_.L.C||_.R&&_.R.C){_.R&&_.R.C||(_.L.C=!1,_.C=!0,rr(this,_),_=W.R),_.C=W.C,W.C=_.R.C=!1,nr(this,W),f=this._;break}}else if((_=W.L).C&&(_.C=!1,W.C=!0,rr(this,W),_=W.L),_.L&&_.L.C||_.R&&_.R.C){_.L&&_.L.C||(_.R.C=!1,_.C=!0,nr(this,_),_=W.L),_.C=W.C,W.C=_.L.C=!1,rr(this,W),f=this._;break}_.C=!0,f=W,W=W.U}while(!f.C);f&&(f.C=!1)}}},t.geom.voronoi=function(f){var _=Ve,O=Ge,V=_,W=O,K=pr;if(f)return it(f);function it(dt){var pt=new Array(dt.length),yt=K[0][0],zt=K[0][1],Ft=K[1][0],Jt=K[1][1];return Or(ft(dt),K).cells.forEach(function(te,Vt){var Qt=te.edges,Rt=te.site;(pt[Vt]=Qt.length?Qt.map(function(ie){var Kt=ie.start();return[Kt.x,Kt.y]}):Rt.x>=yt&&Rt.x<=Ft&&Rt.y>=zt&&Rt.y<=Jt?[[yt,Jt],[Ft,Jt],[Ft,zt],[yt,zt]]:[]).point=dt[Vt]}),pt}function ft(dt){return dt.map(function(pt,yt){return{x:Math.round(V(pt,yt)/Gt)*Gt,y:Math.round(W(pt,yt)/Gt)*Gt,i:yt}})}return it.links=function(dt){return Or(ft(dt)).edges.filter(function(pt){return pt.l&&pt.r}).map(function(pt){return{source:dt[pt.l.i],target:dt[pt.r.i]}})},it.triangles=function(dt){var pt=[];return Or(ft(dt)).cells.forEach(function(yt,zt){for(var Ft,Jt,te,Vt,Qt=yt.site,Rt=yt.edges.sort(aa),ie=-1,Kt=Rt.length,Ut=Rt[Kt-1].edge,pe=Ut.l===Qt?Ut.r:Ut.l;++ie<Kt;)Ft=pe,pe=(Ut=Rt[ie].edge).l===Qt?Ut.r:Ut.l,zt<Ft.i&&zt<pe.i&&(te=Ft,Vt=pe,((Jt=Qt).x-Vt.x)*(te.y-Jt.y)-(Jt.x-te.x)*(Vt.y-Jt.y)<0)&&pt.push([dt[zt],dt[Ft.i],dt[pe.i]])}),pt},it.x=function(dt){return arguments.length?(V=fe(_=dt),it):_},it.y=function(dt){return arguments.length?(W=fe(O=dt),it):O},it.clipExtent=function(dt){return arguments.length?(K=dt??pr,it):K===pr?null:K},it.size=function(dt){return arguments.length?it.clipExtent(dt&&[[0,0],dt]):K===pr?null:K&&K[1]},it};var pr=[[-1e6,-1e6],[1e6,1e6]];function ui(f){return f.x}function di(f){return f.y}function ar(f,_,O,V,W,K){if(!f(_,O,V,W,K)){var it=.5*(O+W),ft=.5*(V+K),dt=_.nodes;dt[0]&&ar(f,dt[0],O,V,it,ft),dt[1]&&ar(f,dt[1],it,V,W,ft),dt[2]&&ar(f,dt[2],O,ft,it,K),dt[3]&&ar(f,dt[3],it,ft,W,K)}}function fi(f,_,O,V,W,K,it){var ft,dt=1/0;return function pt(yt,zt,Ft,Jt,te){if(!(zt>K||Ft>it||Jt<V||te<W)){if(Vt=yt.point){var Vt,Qt=_-yt.x,Rt=O-yt.y,ie=Qt*Qt+Rt*Rt;if(ie<dt){var Kt=Math.sqrt(dt=ie);V=_-Kt,W=O-Kt,K=_+Kt,it=O+Kt,ft=Vt}}for(var Ut=yt.nodes,pe=.5*(zt+Jt),ve=.5*(Ft+te),Ee=(O>=ve)<<1|_>=pe,Ie=Ee+4;Ee<Ie;++Ee)if(yt=Ut[3&Ee])switch(3&Ee){case 0:pt(yt,zt,Ft,pe,ve);break;case 1:pt(yt,pe,Ft,Jt,ve);break;case 2:pt(yt,zt,ve,pe,te);break;case 3:pt(yt,pe,ve,Jt,te)}}}(f,V,W,K,it),ft}function Pr(f,_){f=t.rgb(f),_=t.rgb(_);var O=f.r,V=f.g,W=f.b,K=_.r-O,it=_.g-V,ft=_.b-W;return function(dt){return"#"+Ne(Math.round(O+K*dt))+Ne(Math.round(V+it*dt))+Ne(Math.round(W+ft*dt))}}function la(f,_){var O,V={},W={};for(O in f)O in _?V[O]=qn(f[O],_[O]):W[O]=f[O];for(O in _)O in f||(W[O]=_[O]);return function(K){for(O in V)W[O]=V[O](K);return W}}function Hn(f,_){return f=+f,_=+_,function(O){return f*(1-O)+_*O}}function sa(f,_){var O,V,W,K=Er.lastIndex=Ir.lastIndex=0,it=-1,ft=[],dt=[];for(f+="",_+="";(O=Er.exec(f))&&(V=Ir.exec(_));)(W=V.index)>K&&(W=_.slice(K,W),ft[it]?ft[it]+=W:ft[++it]=W),(O=O[0])===(V=V[0])?ft[it]?ft[it]+=V:ft[++it]=V:(ft[++it]=null,dt.push({i:it,x:Hn(O,V)})),K=Ir.lastIndex;return K<_.length&&(W=_.slice(K),ft[it]?ft[it]+=W:ft[++it]=W),ft.length<2?dt[0]?(_=dt[0].x,function(pt){return _(pt)+""}):function(){return _}:(_=dt.length,function(pt){for(var yt,zt=0;zt<_;++zt)ft[(yt=dt[zt]).i]=yt.x(pt);return ft.join("")})}t.geom.delaunay=function(f){return t.geom.voronoi().triangles(f)},t.geom.quadtree=function(f,_,O,V,W){var K,it=Ve,ft=Ge;if(K=arguments.length)return it=ui,ft=di,K===3&&(W=O,V=_,O=_=0),dt(f);function dt(pt){var yt,zt,Ft,Jt,te,Vt,Qt,Rt,ie,Kt=fe(it),Ut=fe(ft);if(_!=null)Vt=_,Qt=O,Rt=V,ie=W;else if(Rt=ie=-(Vt=Qt=1/0),zt=[],Ft=[],te=pt.length,K)for(Jt=0;Jt<te;++Jt)(yt=pt[Jt]).x<Vt&&(Vt=yt.x),yt.y<Qt&&(Qt=yt.y),yt.x>Rt&&(Rt=yt.x),yt.y>ie&&(ie=yt.y),zt.push(yt.x),Ft.push(yt.y);else for(Jt=0;Jt<te;++Jt){var pe=+Kt(yt=pt[Jt],Jt),ve=+Ut(yt,Jt);pe<Vt&&(Vt=pe),ve<Qt&&(Qt=ve),pe>Rt&&(Rt=pe),ve>ie&&(ie=ve),zt.push(pe),Ft.push(ve)}var Ee=Rt-Vt,Ie=ie-Qt;function We($e,sn,mn,yn,Pe,Qe,ln,an){if(!isNaN(mn)&&!isNaN(yn))if($e.leaf){var fn=$e.x,pn=$e.y;if(fn!=null)if(h(fn-mn)+h(pn-yn)<.01)Xe($e,sn,mn,yn,Pe,Qe,ln,an);else{var gn=$e.point;$e.x=$e.y=$e.point=null,Xe($e,gn,fn,pn,Pe,Qe,ln,an),Xe($e,sn,mn,yn,Pe,Qe,ln,an)}else $e.x=mn,$e.y=yn,$e.point=sn}else Xe($e,sn,mn,yn,Pe,Qe,ln,an)}function Xe($e,sn,mn,yn,Pe,Qe,ln,an){var fn=.5*(Pe+ln),pn=.5*(Qe+an),gn=mn>=fn,_n=yn>=pn,Tn=_n<<1|gn;$e.leaf=!1,gn?Pe=fn:ln=fn,_n?Qe=pn:an=pn,We($e=$e.nodes[Tn]||($e.nodes[Tn]={leaf:!0,nodes:[],point:null,x:null,y:null}),sn,mn,yn,Pe,Qe,ln,an)}Ee>Ie?ie=Qt+Ee:Rt=Vt+Ie;var on={leaf:!0,nodes:[],point:null,x:null,y:null,add:function($e){We(on,$e,+Kt($e,++Jt),+Ut($e,Jt),Vt,Qt,Rt,ie)},visit:function($e){ar($e,on,Vt,Qt,Rt,ie)},find:function($e){return fi(on,$e[0],$e[1],Vt,Qt,Rt,ie)}};if(Jt=-1,_==null){for(;++Jt<te;)We(on,pt[Jt],zt[Jt],Ft[Jt],Vt,Qt,Rt,ie);--Jt}else pt.forEach(on.add);return zt=Ft=pt=yt=null,on}return dt.x=function(pt){return arguments.length?(it=pt,dt):it},dt.y=function(pt){return arguments.length?(ft=pt,dt):ft},dt.extent=function(pt){return arguments.length?(pt==null?_=O=V=W=null:(_=+pt[0][0],O=+pt[0][1],V=+pt[1][0],W=+pt[1][1]),dt):_==null?null:[[_,O],[V,W]]},dt.size=function(pt){return arguments.length?(pt==null?_=O=V=W=null:(_=O=0,V=+pt[0],W=+pt[1]),dt):_==null?null:[V-_,W-O]},dt},t.interpolateRgb=Pr,t.interpolateObject=la,t.interpolateNumber=Hn,t.interpolateString=sa;var Er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ir=new RegExp(Er.source,"g");function qn(f,_){for(var O,V=t.interpolators.length;--V>=0&&!(O=t.interpolators[V](f,_)););return O}function hr(f,_){var O,V=[],W=[],K=f.length,it=_.length,ft=Math.min(f.length,_.length);for(O=0;O<ft;++O)V.push(qn(f[O],_[O]));for(;O<K;++O)W[O]=f[O];for(;O<it;++O)W[O]=_[O];return function(dt){for(O=0;O<ft;++O)W[O]=V[O](dt);return W}}t.interpolate=qn,t.interpolators=[function(f,_){var O=typeof _;return(O==="string"?_e.has(_.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_)?Pr:sa:_ instanceof Wt?Pr:Array.isArray(_)?hr:O==="object"&&isNaN(_)?la:Hn)(f,_)}],t.interpolateArray=hr;var ca=function(){return Y},pi=t.map({linear:ca,poly:function(f){return function(_){return Math.pow(_,f)}},quad:function(){return gi},cubic:function(){return vi},sin:function(){return xi},exp:function(){return bi},circle:function(){return _i},elastic:function(f,_){var O;return arguments.length<2&&(_=.45),arguments.length?O=_/xe*Math.asin(1/f):(f=1,O=_/4),function(V){return 1+f*Math.pow(2,-10*V)*Math.sin((V-O)*xe/_)}},back:function(f){return f||(f=1.70158),function(_){return _*_*((f+1)*_-f)}},bounce:function(){return wi}}),hi=t.map({in:Y,out:ua,"in-out":da,"out-in":function(f){return da(ua(f))}});function mi(f){return function(_){return _<=0?0:_>=1?1:f(_)}}function ua(f){return function(_){return 1-f(1-_)}}function da(f){return function(_){return .5*(_<.5?f(2*_):2-f(2-2*_))}}function gi(f){return f*f}function vi(f){return f*f*f}function yi(f){if(f<=0)return 0;if(f>=1)return 1;var _=f*f,O=_*f;return 4*(f<.5?O:3*(f-_)+O-.75)}function xi(f){return 1-Math.cos(f*st)}function bi(f){return Math.pow(2,10*(f-1))}function _i(f){return 1-Math.sqrt(1-f*f)}function wi(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+.9375:7.5625*(f-=2.625/2.75)*f+.984375}function fa(f,_){return _-=f,function(O){return Math.round(f+_*O)}}function pa(f){var _,O,V,W=[f.a,f.b],K=[f.c,f.d],it=ma(W),ft=ha(W,K),dt=ma(((_=K)[0]+=(V=-ft)*(O=W)[0],_[1]+=V*O[1],_))||0;W[0]*K[1]<K[0]*W[1]&&(W[0]*=-1,W[1]*=-1,it*=-1,ft*=-1),this.rotate=(it?Math.atan2(W[1],W[0]):Math.atan2(-K[0],K[1]))*Ct,this.translate=[f.e,f.f],this.scale=[it,dt],this.skew=dt?Math.atan2(ft,dt)*Ct:0}function ha(f,_){return f[0]*_[0]+f[1]*_[1]}function ma(f){var _=Math.sqrt(ha(f,f));return _&&(f[0]/=_,f[1]/=_),_}t.ease=function(f){var _=f.indexOf("-"),O=_>=0?f.slice(0,_):f,V=_>=0?f.slice(_+1):"in";return O=pi.get(O)||ca,mi((V=hi.get(V)||Y)(O.apply(null,s.call(arguments,1))))},t.interpolateHcl=function(f,_){f=t.hcl(f),_=t.hcl(_);var O=f.h,V=f.c,W=f.l,K=_.h-O,it=_.c-V,ft=_.l-W;return isNaN(it)&&(it=0,V=isNaN(V)?_.c:V),isNaN(K)?(K=0,O=isNaN(O)?_.h:O):K>180?K-=360:K<-180&&(K+=360),function(dt){return le(O+K*dt,V+it*dt,W+ft*dt)+""}},t.interpolateHsl=function(f,_){f=t.hsl(f),_=t.hsl(_);var O=f.h,V=f.s,W=f.l,K=_.h-O,it=_.s-V,ft=_.l-W;return isNaN(it)&&(it=0,V=isNaN(V)?_.s:V),isNaN(K)?(K=0,O=isNaN(O)?_.h:O):K>180?K-=360:K<-180&&(K+=360),function(dt){return be(O+K*dt,V+it*dt,W+ft*dt)+""}},t.interpolateLab=function(f,_){f=t.lab(f),_=t.lab(_);var O=f.l,V=f.a,W=f.b,K=_.l-O,it=_.a-V,ft=_.b-W;return function(dt){return oe(O+K*dt,V+it*dt,W+ft*dt)+""}},t.interpolateRound=fa,t.transform=function(f){var _=e.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(O){if(O!=null){_.setAttribute("transform",O);var V=_.transform.baseVal.consolidate()}return new pa(V?V.matrix:Ti)})(f)},pa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ti={a:1,b:0,c:0,d:1,e:0,f:0};function Qn(f){return f.length?f.pop()+",":""}function ga(f,_){var O=[],V=[];return f=t.transform(f),_=t.transform(_),function(W,K,it,ft){if(W[0]!==K[0]||W[1]!==K[1]){var dt=it.push("translate(",null,",",null,")");ft.push({i:dt-4,x:Hn(W[0],K[0])},{i:dt-2,x:Hn(W[1],K[1])})}else(K[0]||K[1])&&it.push("translate("+K+")")}(f.translate,_.translate,O,V),function(W,K,it,ft){W!==K?(W-K>180?K+=360:K-W>180&&(W+=360),ft.push({i:it.push(Qn(it)+"rotate(",null,")")-2,x:Hn(W,K)})):K&&it.push(Qn(it)+"rotate("+K+")")}(f.rotate,_.rotate,O,V),function(W,K,it,ft){W!==K?ft.push({i:it.push(Qn(it)+"skewX(",null,")")-2,x:Hn(W,K)}):K&&it.push(Qn(it)+"skewX("+K+")")}(f.skew,_.skew,O,V),function(W,K,it,ft){if(W[0]!==K[0]||W[1]!==K[1]){var dt=it.push(Qn(it)+"scale(",null,",",null,")");ft.push({i:dt-4,x:Hn(W[0],K[0])},{i:dt-2,x:Hn(W[1],K[1])})}else K[0]===1&&K[1]===1||it.push(Qn(it)+"scale("+K+")")}(f.scale,_.scale,O,V),f=_=null,function(W){for(var K,it=-1,ft=V.length;++it<ft;)O[(K=V[it]).i]=K.x(W);return O.join("")}}function Mi(f,_){return _=(_-=f=+f)||1/_,function(O){return(O-f)/_}}function ki(f,_){return _=(_-=f=+f)||1/_,function(O){return Math.max(0,Math.min(1,(O-f)/_))}}function Ai(f){for(var _=f.source,O=f.target,V=function(it,ft){if(it===ft)return it;for(var dt=va(it),pt=va(ft),yt=dt.pop(),zt=pt.pop(),Ft=null;yt===zt;)Ft=yt,yt=dt.pop(),zt=pt.pop();return Ft}(_,O),W=[_];_!==V;)_=_.parent,W.push(_);for(var K=W.length;O!==V;)W.splice(K,0,O),O=O.parent;return W}function va(f){for(var _=[],O=f.parent;O!=null;)_.push(f),f=O,O=O.parent;return _.push(f),_}function Li(f){f.fixed|=2}function Si(f){f.fixed&=-7}function Di(f){f.fixed|=4,f.px=f.x,f.py=f.y}function Ci(f){f.fixed&=-5}t.interpolateTransform=ga,t.layout={},t.layout.bundle=function(){return function(f){for(var _=[],O=-1,V=f.length;++O<V;)_.push(Ai(f[O]));return _}},t.layout.chord=function(){var f,_,O,V,W,K,it,ft={},dt=0;function pt(){var zt,Ft,Jt,te,Vt,Qt={},Rt=[],ie=t.range(V),Kt=[];for(f=[],_=[],zt=0,te=-1;++te<V;){for(Ft=0,Vt=-1;++Vt<V;)Ft+=O[te][Vt];Rt.push(Ft),Kt.push(t.range(V)),zt+=Ft}for(W&&ie.sort(function(on,$e){return W(Rt[on],Rt[$e])}),K&&Kt.forEach(function(on,$e){on.sort(function(sn,mn){return K(O[$e][sn],O[$e][mn])})}),zt=(xe-dt*V)/zt,Ft=0,te=-1;++te<V;){for(Jt=Ft,Vt=-1;++Vt<V;){var Ut=ie[te],pe=Kt[Ut][Vt],ve=O[Ut][pe],Ee=Ft,Ie=Ft+=ve*zt;Qt[Ut+"-"+pe]={index:Ut,subindex:pe,startAngle:Ee,endAngle:Ie,value:ve}}_[Ut]={index:Ut,startAngle:Jt,endAngle:Ft,value:Rt[Ut]},Ft+=dt}for(te=-1;++te<V;)for(Vt=te-1;++Vt<V;){var We=Qt[te+"-"+Vt],Xe=Qt[Vt+"-"+te];(We.value||Xe.value)&&f.push(We.value<Xe.value?{source:Xe,target:We}:{source:We,target:Xe})}it&&yt()}function yt(){f.sort(function(zt,Ft){return it((zt.source.value+zt.target.value)/2,(Ft.source.value+Ft.target.value)/2)})}return ft.matrix=function(zt){return arguments.length?(V=(O=zt)&&O.length,f=_=null,ft):O},ft.padding=function(zt){return arguments.length?(dt=zt,f=_=null,ft):dt},ft.sortGroups=function(zt){return arguments.length?(W=zt,f=_=null,ft):W},ft.sortSubgroups=function(zt){return arguments.length?(K=zt,f=null,ft):K},ft.sortChords=function(zt){return arguments.length?(it=zt,f&&yt(),ft):it},ft.chords=function(){return f||pt(),f},ft.groups=function(){return _||pt(),_},ft},t.layout.force=function(){var f,_,O,V,W,K,it={},ft=t.dispatch("start","tick","end"),dt=[1,1],pt=.9,yt=Oi,zt=Pi,Ft=-30,Jt=Ei,te=.1,Vt=.64,Qt=[],Rt=[];function ie(Ut){return function(pe,ve,Ee,Ie){if(pe.point!==Ut){var We=pe.cx-Ut.x,Xe=pe.cy-Ut.y,on=Ie-ve,$e=We*We+Xe*Xe;if(on*on/Vt<$e){if($e<Jt){var sn=pe.charge/$e;Ut.px-=We*sn,Ut.py-=Xe*sn}return!0}pe.point&&$e&&$e<Jt&&(sn=pe.pointCharge/$e,Ut.px-=We*sn,Ut.py-=Xe*sn)}return!pe.charge}}function Kt(Ut){Ut.px=t.event.x,Ut.py=t.event.y,it.resume()}return it.tick=function(){if((O*=.99)<.005)return f=null,ft.end({type:"end",alpha:O=0}),!0;var Ut,pe,ve,Ee,Ie,We,Xe,on,$e,sn=Qt.length,mn=Rt.length;for(pe=0;pe<mn;++pe)Ee=(ve=Rt[pe]).source,(We=(on=(Ie=ve.target).x-Ee.x)*on+($e=Ie.y-Ee.y)*$e)&&(on*=We=O*W[pe]*((We=Math.sqrt(We))-V[pe])/We,$e*=We,Ie.x-=on*(Xe=Ee.weight+Ie.weight?Ee.weight/(Ee.weight+Ie.weight):.5),Ie.y-=$e*Xe,Ee.x+=on*(Xe=1-Xe),Ee.y+=$e*Xe);if((Xe=O*te)&&(on=dt[0]/2,$e=dt[1]/2,pe=-1,Xe))for(;++pe<sn;)(ve=Qt[pe]).x+=(on-ve.x)*Xe,ve.y+=($e-ve.y)*Xe;if(Ft)for(function yn(Pe,Qe,ln){var an=0,fn=0;if(Pe.charge=0,!Pe.leaf)for(var pn,gn=Pe.nodes,_n=gn.length,Tn=-1;++Tn<_n;)(pn=gn[Tn])!=null&&(yn(pn,Qe,ln),Pe.charge+=pn.charge,an+=pn.charge*pn.cx,fn+=pn.charge*pn.cy);if(Pe.point){Pe.leaf||(Pe.point.x+=Math.random()-.5,Pe.point.y+=Math.random()-.5);var Mn=Qe*ln[Pe.point.index];Pe.charge+=Pe.pointCharge=Mn,an+=Mn*Pe.point.x,fn+=Mn*Pe.point.y}Pe.cx=an/Pe.charge,Pe.cy=fn/Pe.charge}(Ut=t.geom.quadtree(Qt),O,K),pe=-1;++pe<sn;)(ve=Qt[pe]).fixed||Ut.visit(ie(ve));for(pe=-1;++pe<sn;)(ve=Qt[pe]).fixed?(ve.x=ve.px,ve.y=ve.py):(ve.x-=(ve.px-(ve.px=ve.x))*pt,ve.y-=(ve.py-(ve.py=ve.y))*pt);ft.tick({type:"tick",alpha:O})},it.nodes=function(Ut){return arguments.length?(Qt=Ut,it):Qt},it.links=function(Ut){return arguments.length?(Rt=Ut,it):Rt},it.size=function(Ut){return arguments.length?(dt=Ut,it):dt},it.linkDistance=function(Ut){return arguments.length?(yt=typeof Ut=="function"?Ut:+Ut,it):yt},it.distance=it.linkDistance,it.linkStrength=function(Ut){return arguments.length?(zt=typeof Ut=="function"?Ut:+Ut,it):zt},it.friction=function(Ut){return arguments.length?(pt=+Ut,it):pt},it.charge=function(Ut){return arguments.length?(Ft=typeof Ut=="function"?Ut:+Ut,it):Ft},it.chargeDistance=function(Ut){return arguments.length?(Jt=Ut*Ut,it):Math.sqrt(Jt)},it.gravity=function(Ut){return arguments.length?(te=+Ut,it):te},it.theta=function(Ut){return arguments.length?(Vt=Ut*Ut,it):Math.sqrt(Vt)},it.alpha=function(Ut){return arguments.length?(Ut=+Ut,O?Ut>0?O=Ut:(f.c=null,f.t=NaN,f=null,ft.end({type:"end",alpha:O=0})):Ut>0&&(ft.start({type:"start",alpha:O=Ut}),f=Ue(it.tick)),it):O},it.start=function(){var Ut,pe,ve,Ee=Qt.length,Ie=Rt.length,We=dt[0],Xe=dt[1];for(Ut=0;Ut<Ee;++Ut)(ve=Qt[Ut]).index=Ut,ve.weight=0;for(Ut=0;Ut<Ie;++Ut)typeof(ve=Rt[Ut]).source=="number"&&(ve.source=Qt[ve.source]),typeof ve.target=="number"&&(ve.target=Qt[ve.target]),++ve.source.weight,++ve.target.weight;for(Ut=0;Ut<Ee;++Ut)ve=Qt[Ut],isNaN(ve.x)&&(ve.x=on("x",We)),isNaN(ve.y)&&(ve.y=on("y",Xe)),isNaN(ve.px)&&(ve.px=ve.x),isNaN(ve.py)&&(ve.py=ve.y);if(V=[],typeof yt=="function")for(Ut=0;Ut<Ie;++Ut)V[Ut]=+yt.call(this,Rt[Ut],Ut);else for(Ut=0;Ut<Ie;++Ut)V[Ut]=yt;if(W=[],typeof zt=="function")for(Ut=0;Ut<Ie;++Ut)W[Ut]=+zt.call(this,Rt[Ut],Ut);else for(Ut=0;Ut<Ie;++Ut)W[Ut]=zt;if(K=[],typeof Ft=="function")for(Ut=0;Ut<Ee;++Ut)K[Ut]=+Ft.call(this,Qt[Ut],Ut);else for(Ut=0;Ut<Ee;++Ut)K[Ut]=Ft;function on($e,sn){if(!pe){for(pe=new Array(Ee),Qe=0;Qe<Ee;++Qe)pe[Qe]=[];for(Qe=0;Qe<Ie;++Qe){var mn=Rt[Qe];pe[mn.source.index].push(mn.target),pe[mn.target.index].push(mn.source)}}for(var yn,Pe=pe[Ut],Qe=-1,ln=Pe.length;++Qe<ln;)if(!isNaN(yn=Pe[Qe][$e]))return yn;return Math.random()*sn}return it.resume()},it.resume=function(){return it.alpha(.1)},it.stop=function(){return it.alpha(0)},it.drag=function(){if(_||(_=t.behavior.drag().origin(Y).on("dragstart.force",Li).on("drag.force",Kt).on("dragend.force",Si)),!arguments.length)return _;this.on("mouseover.force",Di).on("mouseout.force",Ci).call(_)},t.rebind(it,ft,"on")};var Oi=20,Pi=1,Ei=1/0;function ir(f,_){return t.rebind(f,_,"sort","children","value"),f.nodes=f,f.links=Fi,f}function or(f,_){for(var O=[f];(f=O.pop())!=null;)if(_(f),(W=f.children)&&(V=W.length))for(var V,W;--V>=0;)O.push(W[V])}function Rn(f,_){for(var O=[f],V=[];(f=O.pop())!=null;)if(V.push(f),(K=f.children)&&(W=K.length))for(var W,K,it=-1;++it<W;)O.push(K[it]);for(;(f=V.pop())!=null;)_(f)}function Ii(f){return f.children}function zi(f){return f.value}function Ni(f,_){return _.value-f.value}function Fi(f){return t.merge(f.map(function(_){return(_.children||[]).map(function(O){return{source:_,target:O}})}))}t.layout.hierarchy=function(){var f=Ni,_=Ii,O=zi;function V(W){var K,it=[W],ft=[];for(W.depth=0;(K=it.pop())!=null;)if(ft.push(K),(pt=_.call(V,K,K.depth))&&(dt=pt.length)){for(var dt,pt,yt;--dt>=0;)it.push(yt=pt[dt]),yt.parent=K,yt.depth=K.depth+1;O&&(K.value=0),K.children=pt}else O&&(K.value=+O.call(V,K,K.depth)||0),delete K.children;return Rn(W,function(zt){var Ft,Jt;f&&(Ft=zt.children)&&Ft.sort(f),O&&(Jt=zt.parent)&&(Jt.value+=zt.value)}),ft}return V.sort=function(W){return arguments.length?(f=W,V):f},V.children=function(W){return arguments.length?(_=W,V):_},V.value=function(W){return arguments.length?(O=W,V):O},V.revalue=function(W){return O&&(or(W,function(K){K.children&&(K.value=0)}),Rn(W,function(K){var it;K.children||(K.value=+O.call(V,K,K.depth)||0),(it=K.parent)&&(it.value+=K.value)})),W},V},t.layout.partition=function(){var f=t.layout.hierarchy(),_=[1,1];function O(V,W){var K=f.call(this,V,W);return function it(ft,dt,pt,yt){var zt=ft.children;if(ft.x=dt,ft.y=ft.depth*yt,ft.dx=pt,ft.dy=yt,zt&&(Ft=zt.length)){var Ft,Jt,te,Vt=-1;for(pt=ft.value?pt/ft.value:0;++Vt<Ft;)it(Jt=zt[Vt],dt,te=Jt.value*pt,yt),dt+=te}}(K[0],0,_[0],_[1]/function it(ft){var dt=ft.children,pt=0;if(dt&&(yt=dt.length))for(var yt,zt=-1;++zt<yt;)pt=Math.max(pt,it(dt[zt]));return 1+pt}(K[0])),K}return O.size=function(V){return arguments.length?(_=V,O):_},ir(O,f)},t.layout.pie=function(){var f=Number,_=ya,O=0,V=xe,W=0;function K(it){var ft,dt=it.length,pt=it.map(function(ie,Kt){return+f.call(K,ie,Kt)}),yt=+(typeof O=="function"?O.apply(this,arguments):O),zt=(typeof V=="function"?V.apply(this,arguments):V)-yt,Ft=Math.min(Math.abs(zt)/dt,+(typeof W=="function"?W.apply(this,arguments):W)),Jt=Ft*(zt<0?-1:1),te=t.sum(pt),Vt=te?(zt-dt*Jt)/te:0,Qt=t.range(dt),Rt=[];return _!=null&&Qt.sort(_===ya?function(ie,Kt){return pt[Kt]-pt[ie]}:function(ie,Kt){return _(it[ie],it[Kt])}),Qt.forEach(function(ie){Rt[ie]={data:it[ie],value:ft=pt[ie],startAngle:yt,endAngle:yt+=ft*Vt+Jt,padAngle:Ft}}),Rt}return K.value=function(it){return arguments.length?(f=it,K):f},K.sort=function(it){return arguments.length?(_=it,K):_},K.startAngle=function(it){return arguments.length?(O=it,K):O},K.endAngle=function(it){return arguments.length?(V=it,K):V},K.padAngle=function(it){return arguments.length?(W=it,K):W},K};var ya={};function Ri(f){return f.x}function ji(f){return f.y}function Hi(f,_,O){f.y0=_,f.y=O}t.layout.stack=function(){var f=Y,_=zr,O=Nr,V=Hi,W=Ri,K=ji;function it(ft,dt){if(!(Ft=ft.length))return ft;var pt=ft.map(function(ie,Kt){return f.call(it,ie,Kt)}),yt=pt.map(function(ie){return ie.map(function(Kt,Ut){return[W.call(it,Kt,Ut),K.call(it,Kt,Ut)]})}),zt=_.call(it,yt,dt);pt=t.permute(pt,zt),yt=t.permute(yt,zt);var Ft,Jt,te,Vt,Qt=O.call(it,yt,dt),Rt=pt[0].length;for(te=0;te<Rt;++te)for(V.call(it,pt[0][te],Vt=Qt[te],yt[0][te][1]),Jt=1;Jt<Ft;++Jt)V.call(it,pt[Jt][te],Vt+=yt[Jt-1][te][1],yt[Jt][te][1]);return ft}return it.values=function(ft){return arguments.length?(f=ft,it):f},it.order=function(ft){return arguments.length?(_=typeof ft=="function"?ft:Bi.get(ft)||zr,it):_},it.offset=function(ft){return arguments.length?(O=typeof ft=="function"?ft:Yi.get(ft)||Nr,it):O},it.x=function(ft){return arguments.length?(W=ft,it):W},it.y=function(ft){return arguments.length?(K=ft,it):K},it.out=function(ft){return arguments.length?(V=ft,it):V},it};var Bi=t.map({"inside-out":function(f){var _,O,V=f.length,W=f.map(Vi),K=f.map(Ui),it=t.range(V).sort(function(zt,Ft){return W[zt]-W[Ft]}),ft=0,dt=0,pt=[],yt=[];for(_=0;_<V;++_)O=it[_],ft<dt?(ft+=K[O],pt.push(O)):(dt+=K[O],yt.push(O));return yt.reverse().concat(pt)},reverse:function(f){return t.range(f.length).reverse()},default:zr}),Yi=t.map({silhouette:function(f){var _,O,V,W=f.length,K=f[0].length,it=[],ft=0,dt=[];for(O=0;O<K;++O){for(_=0,V=0;_<W;_++)V+=f[_][O][1];V>ft&&(ft=V),it.push(V)}for(O=0;O<K;++O)dt[O]=(ft-it[O])/2;return dt},wiggle:function(f){var _,O,V,W,K,it,ft,dt,pt,yt=f.length,zt=f[0],Ft=zt.length,Jt=[];for(Jt[0]=dt=pt=0,O=1;O<Ft;++O){for(_=0,W=0;_<yt;++_)W+=f[_][O][1];for(_=0,K=0,ft=zt[O][0]-zt[O-1][0];_<yt;++_){for(V=0,it=(f[_][O][1]-f[_][O-1][1])/(2*ft);V<_;++V)it+=(f[V][O][1]-f[V][O-1][1])/ft;K+=it*f[_][O][1]}Jt[O]=dt-=W?K/W*ft:0,dt<pt&&(pt=dt)}for(O=0;O<Ft;++O)Jt[O]-=pt;return Jt},expand:function(f){var _,O,V,W=f.length,K=f[0].length,it=1/W,ft=[];for(O=0;O<K;++O){for(_=0,V=0;_<W;_++)V+=f[_][O][1];if(V)for(_=0;_<W;_++)f[_][O][1]/=V;else for(_=0;_<W;_++)f[_][O][1]=it}for(O=0;O<K;++O)ft[O]=0;return ft},zero:Nr});function zr(f){return t.range(f.length)}function Nr(f){for(var _=-1,O=f[0].length,V=[];++_<O;)V[_]=0;return V}function Vi(f){for(var _,O=1,V=0,W=f[0][1],K=f.length;O<K;++O)(_=f[O][1])>W&&(V=O,W=_);return V}function Ui(f){return f.reduce(qi,0)}function qi(f,_){return f+_[1]}function Gi(f,_){return xa(f,Math.ceil(Math.log(_.length)/Math.LN2+1))}function xa(f,_){for(var O=-1,V=+f[0],W=(f[1]-V)/_,K=[];++O<=_;)K[O]=W*O+V;return K}function Zi(f){return[t.min(f),t.max(f)]}function Wi(f,_){return f.value-_.value}function Fr(f,_){var O=f._pack_next;f._pack_next=_,_._pack_prev=f,_._pack_next=O,O._pack_prev=_}function ba(f,_){f._pack_next=_,_._pack_prev=f}function _a(f,_){var O=_.x-f.x,V=_.y-f.y,W=f.r+_.r;return .999*W*W>O*O+V*V}function wa(f){if((_=f.children)&&(dt=_.length)){var _,O,V,W,K,it,ft,dt,pt=1/0,yt=-1/0,zt=1/0,Ft=-1/0;if(_.forEach(Xi),(O=_[0]).x=-O.r,O.y=0,Kt(O),dt>1&&((V=_[1]).x=V.r,V.y=0,Kt(V),dt>2))for(Ta(O,V,W=_[2]),Kt(W),Fr(O,W),O._pack_prev=W,Fr(W,V),V=O._pack_next,K=3;K<dt;K++){Ta(O,V,W=_[K]);var Jt=0,te=1,Vt=1;for(it=V._pack_next;it!==V;it=it._pack_next,te++)if(_a(it,W)){Jt=1;break}if(Jt==1)for(ft=O._pack_prev;ft!==it._pack_prev&&!_a(ft,W);ft=ft._pack_prev,Vt++);Jt?(te<Vt||te==Vt&&V.r<O.r?ba(O,V=it):ba(O=ft,V),K--):(Fr(O,W),V=W,Kt(W))}var Qt=(pt+yt)/2,Rt=(zt+Ft)/2,ie=0;for(K=0;K<dt;K++)(W=_[K]).x-=Qt,W.y-=Rt,ie=Math.max(ie,W.r+Math.sqrt(W.x*W.x+W.y*W.y));f.r=ie,_.forEach(Ji)}function Kt(Ut){pt=Math.min(Ut.x-Ut.r,pt),yt=Math.max(Ut.x+Ut.r,yt),zt=Math.min(Ut.y-Ut.r,zt),Ft=Math.max(Ut.y+Ut.r,Ft)}}function Xi(f){f._pack_next=f._pack_prev=f}function Ji(f){delete f._pack_next,delete f._pack_prev}function Ta(f,_,O){var V=f.r+O.r,W=_.x-f.x,K=_.y-f.y;if(V&&(W||K)){var it=_.r+O.r,ft=W*W+K*K,dt=.5+((V*=V)-(it*=it))/(2*ft),pt=Math.sqrt(Math.max(0,2*it*(V+ft)-(V-=ft)*V-it*it))/(2*ft);O.x=f.x+dt*W+pt*K,O.y=f.y+dt*K-pt*W}else O.x=f.x+V,O.y=f.y}function Ma(f,_){return f.parent==_.parent?1:2}function Rr(f){var _=f.children;return _.length?_[0]:f.t}function jr(f){var _,O=f.children;return(_=O.length)?O[_-1]:f.t}function $i(f,_,O){var V=O/(_.i-f.i);_.c-=V,_.s+=O,f.c+=V,_.z+=O,_.m+=O}function Qi(f,_,O){return f.a.parent===_.parent?f.a:O}function Hr(f){return{x:f.x,y:f.y,dx:f.dx,dy:f.dy}}function ka(f,_){var O=f.x+_[3],V=f.y+_[0],W=f.dx-_[1]-_[3],K=f.dy-_[0]-_[2];return W<0&&(O+=W/2,W=0),K<0&&(V+=K/2,K=0),{x:O,y:V,dx:W,dy:K}}function mr(f){var _=f[0],O=f[f.length-1];return _<O?[_,O]:[O,_]}function gr(f){return f.rangeExtent?f.rangeExtent():mr(f.range())}function Ki(f,_,O,V){var W=O(f[0],f[1]),K=V(_[0],_[1]);return function(it){return K(W(it))}}function Br(f,_){var O,V=0,W=f.length-1,K=f[V],it=f[W];return it<K&&(O=V,V=W,W=O,O=K,K=it,it=O),f[V]=_.floor(K),f[W]=_.ceil(it),f}function Aa(f){return f?{floor:function(_){return Math.floor(_/f)*f},ceil:function(_){return Math.ceil(_/f)*f}}:to}t.layout.histogram=function(){var f=!0,_=Number,O=Zi,V=Gi;function W(K,it){for(var ft,dt,pt=[],yt=K.map(_,this),zt=O.call(this,yt,it),Ft=V.call(this,zt,yt,it),Jt=(it=-1,yt.length),te=Ft.length-1,Vt=f?1:1/Jt;++it<te;)(ft=pt[it]=[]).dx=Ft[it+1]-(ft.x=Ft[it]),ft.y=0;if(te>0)for(it=-1;++it<Jt;)(dt=yt[it])>=zt[0]&&dt<=zt[1]&&((ft=pt[t.bisect(Ft,dt,1,te)-1]).y+=Vt,ft.push(K[it]));return pt}return W.value=function(K){return arguments.length?(_=K,W):_},W.range=function(K){return arguments.length?(O=fe(K),W):O},W.bins=function(K){return arguments.length?(V=typeof K=="number"?function(it){return xa(it,K)}:fe(K),W):V},W.frequency=function(K){return arguments.length?(f=!!K,W):f},W},t.layout.pack=function(){var f,_=t.layout.hierarchy().sort(Wi),O=0,V=[1,1];function W(K,it){var ft=_.call(this,K,it),dt=ft[0],pt=V[0],yt=V[1],zt=f==null?Math.sqrt:typeof f=="function"?f:function(){return f};if(dt.x=dt.y=0,Rn(dt,function(Jt){Jt.r=+zt(Jt.value)}),Rn(dt,wa),O){var Ft=O*(f?1:Math.max(2*dt.r/pt,2*dt.r/yt))/2;Rn(dt,function(Jt){Jt.r+=Ft}),Rn(dt,wa),Rn(dt,function(Jt){Jt.r-=Ft})}return function Jt(te,Vt,Qt,Rt){var ie=te.children;if(te.x=Vt+=Rt*te.x,te.y=Qt+=Rt*te.y,te.r*=Rt,ie)for(var Kt=-1,Ut=ie.length;++Kt<Ut;)Jt(ie[Kt],Vt,Qt,Rt)}(dt,pt/2,yt/2,f?1:1/Math.max(2*dt.r/pt,2*dt.r/yt)),ft}return W.size=function(K){return arguments.length?(V=K,W):V},W.radius=function(K){return arguments.length?(f=K==null||typeof K=="function"?K:+K,W):f},W.padding=function(K){return arguments.length?(O=+K,W):O},ir(W,_)},t.layout.tree=function(){var f=t.layout.hierarchy().sort(null).value(null),_=Ma,O=[1,1],V=null;function W(dt,pt){var yt=f.call(this,dt,pt),zt=yt[0],Ft=function(Kt){for(var Ut,pe={A:null,children:[Kt]},ve=[pe];(Ut=ve.pop())!=null;)for(var Ee,Ie=Ut.children,We=0,Xe=Ie.length;We<Xe;++We)ve.push((Ie[We]=Ee={_:Ie[We],parent:Ut,children:(Ee=Ie[We].children)&&Ee.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:We}).a=Ee);return pe.children[0]}(zt);if(Rn(Ft,K),Ft.parent.m=-Ft.z,or(Ft,it),V)or(zt,ft);else{var Jt=zt,te=zt,Vt=zt;or(zt,function(Kt){Kt.x<Jt.x&&(Jt=Kt),Kt.x>te.x&&(te=Kt),Kt.depth>Vt.depth&&(Vt=Kt)});var Qt=_(Jt,te)/2-Jt.x,Rt=O[0]/(te.x+_(te,Jt)/2+Qt),ie=O[1]/(Vt.depth||1);or(zt,function(Kt){Kt.x=(Kt.x+Qt)*Rt,Kt.y=Kt.depth*ie})}return yt}function K(dt){var pt=dt.children,yt=dt.parent.children,zt=dt.i?yt[dt.i-1]:null;if(pt.length){(function(Jt){for(var te,Vt=0,Qt=0,Rt=Jt.children,ie=Rt.length;--ie>=0;)(te=Rt[ie]).z+=Vt,te.m+=Vt,Vt+=te.s+(Qt+=te.c)})(dt);var Ft=(pt[0].z+pt[pt.length-1].z)/2;zt?(dt.z=zt.z+_(dt._,zt._),dt.m=dt.z-Ft):dt.z=Ft}else zt&&(dt.z=zt.z+_(dt._,zt._));dt.parent.A=function(Jt,te,Vt){if(te){for(var Qt,Rt=Jt,ie=Jt,Kt=te,Ut=Rt.parent.children[0],pe=Rt.m,ve=ie.m,Ee=Kt.m,Ie=Ut.m;Kt=jr(Kt),Rt=Rr(Rt),Kt&&Rt;)Ut=Rr(Ut),(ie=jr(ie)).a=Jt,(Qt=Kt.z+Ee-Rt.z-pe+_(Kt._,Rt._))>0&&($i(Qi(Kt,Jt,Vt),Jt,Qt),pe+=Qt,ve+=Qt),Ee+=Kt.m,pe+=Rt.m,Ie+=Ut.m,ve+=ie.m;Kt&&!jr(ie)&&(ie.t=Kt,ie.m+=Ee-ve),Rt&&!Rr(Ut)&&(Ut.t=Rt,Ut.m+=pe-Ie,Vt=Jt)}return Vt}(dt,zt,dt.parent.A||yt[0])}function it(dt){dt._.x=dt.z+dt.parent.m,dt.m+=dt.parent.m}function ft(dt){dt.x*=O[0],dt.y=dt.depth*O[1]}return W.separation=function(dt){return arguments.length?(_=dt,W):_},W.size=function(dt){return arguments.length?(V=(O=dt)==null?ft:null,W):V?null:O},W.nodeSize=function(dt){return arguments.length?(V=(O=dt)==null?null:ft,W):V?O:null},ir(W,f)},t.layout.cluster=function(){var f=t.layout.hierarchy().sort(null).value(null),_=Ma,O=[1,1],V=!1;function W(K,it){var ft,dt=f.call(this,K,it),pt=dt[0],yt=0;Rn(pt,function(Vt){var Qt=Vt.children;Qt&&Qt.length?(Vt.x=function(Rt){return Rt.reduce(function(ie,Kt){return ie+Kt.x},0)/Rt.length}(Qt),Vt.y=function(Rt){return 1+t.max(Rt,function(ie){return ie.y})}(Qt)):(Vt.x=ft?yt+=_(Vt,ft):0,Vt.y=0,ft=Vt)});var zt=function Vt(Qt){var Rt=Qt.children;return Rt&&Rt.length?Vt(Rt[0]):Qt}(pt),Ft=function Vt(Qt){var Rt,ie=Qt.children;return ie&&(Rt=ie.length)?Vt(ie[Rt-1]):Qt}(pt),Jt=zt.x-_(zt,Ft)/2,te=Ft.x+_(Ft,zt)/2;return Rn(pt,V?function(Vt){Vt.x=(Vt.x-pt.x)*O[0],Vt.y=(pt.y-Vt.y)*O[1]}:function(Vt){Vt.x=(Vt.x-Jt)/(te-Jt)*O[0],Vt.y=(1-(pt.y?Vt.y/pt.y:1))*O[1]}),dt}return W.separation=function(K){return arguments.length?(_=K,W):_},W.size=function(K){return arguments.length?(V=(O=K)==null,W):V?null:O},W.nodeSize=function(K){return arguments.length?(V=(O=K)!=null,W):V?O:null},ir(W,f)},t.layout.treemap=function(){var f,_=t.layout.hierarchy(),O=Math.round,V=[1,1],W=null,K=Hr,it=!1,ft="squarify",dt=.5*(1+Math.sqrt(5));function pt(Vt,Qt){for(var Rt,ie,Kt=-1,Ut=Vt.length;++Kt<Ut;)ie=(Rt=Vt[Kt]).value*(Qt<0?0:Qt),Rt.area=isNaN(ie)||ie<=0?0:ie}function yt(Vt){var Qt=Vt.children;if(Qt&&Qt.length){var Rt,ie,Kt,Ut=K(Vt),pe=[],ve=Qt.slice(),Ee=1/0,Ie=ft==="slice"?Ut.dx:ft==="dice"?Ut.dy:ft==="slice-dice"?1&Vt.depth?Ut.dy:Ut.dx:Math.min(Ut.dx,Ut.dy);for(pt(ve,Ut.dx*Ut.dy/Vt.value),pe.area=0;(Kt=ve.length)>0;)pe.push(Rt=ve[Kt-1]),pe.area+=Rt.area,ft!=="squarify"||(ie=Ft(pe,Ie))<=Ee?(ve.pop(),Ee=ie):(pe.area-=pe.pop().area,Jt(pe,Ie,Ut,!1),Ie=Math.min(Ut.dx,Ut.dy),pe.length=pe.area=0,Ee=1/0);pe.length&&(Jt(pe,Ie,Ut,!0),pe.length=pe.area=0),Qt.forEach(yt)}}function zt(Vt){var Qt=Vt.children;if(Qt&&Qt.length){var Rt,ie=K(Vt),Kt=Qt.slice(),Ut=[];for(pt(Kt,ie.dx*ie.dy/Vt.value),Ut.area=0;Rt=Kt.pop();)Ut.push(Rt),Ut.area+=Rt.area,Rt.z!=null&&(Jt(Ut,Rt.z?ie.dx:ie.dy,ie,!Kt.length),Ut.length=Ut.area=0);Qt.forEach(zt)}}function Ft(Vt,Qt){for(var Rt,ie=Vt.area,Kt=0,Ut=1/0,pe=-1,ve=Vt.length;++pe<ve;)(Rt=Vt[pe].area)&&(Rt<Ut&&(Ut=Rt),Rt>Kt&&(Kt=Rt));return Qt*=Qt,(ie*=ie)?Math.max(Qt*Kt*dt/ie,ie/(Qt*Ut*dt)):1/0}function Jt(Vt,Qt,Rt,ie){var Kt,Ut=-1,pe=Vt.length,ve=Rt.x,Ee=Rt.y,Ie=Qt?O(Vt.area/Qt):0;if(Qt==Rt.dx){for((ie||Ie>Rt.dy)&&(Ie=Rt.dy);++Ut<pe;)(Kt=Vt[Ut]).x=ve,Kt.y=Ee,Kt.dy=Ie,ve+=Kt.dx=Math.min(Rt.x+Rt.dx-ve,Ie?O(Kt.area/Ie):0);Kt.z=!0,Kt.dx+=Rt.x+Rt.dx-ve,Rt.y+=Ie,Rt.dy-=Ie}else{for((ie||Ie>Rt.dx)&&(Ie=Rt.dx);++Ut<pe;)(Kt=Vt[Ut]).x=ve,Kt.y=Ee,Kt.dx=Ie,Ee+=Kt.dy=Math.min(Rt.y+Rt.dy-Ee,Ie?O(Kt.area/Ie):0);Kt.z=!1,Kt.dy+=Rt.y+Rt.dy-Ee,Rt.x+=Ie,Rt.dx-=Ie}}function te(Vt){var Qt=f||_(Vt),Rt=Qt[0];return Rt.x=Rt.y=0,Rt.value?(Rt.dx=V[0],Rt.dy=V[1]):Rt.dx=Rt.dy=0,f&&_.revalue(Rt),pt([Rt],Rt.dx*Rt.dy/Rt.value),(f?zt:yt)(Rt),it&&(f=Qt),Qt}return te.size=function(Vt){return arguments.length?(V=Vt,te):V},te.padding=function(Vt){if(!arguments.length)return W;function Qt(Kt){var Ut=Vt.call(te,Kt,Kt.depth);return Ut==null?Hr(Kt):ka(Kt,typeof Ut=="number"?[Ut,Ut,Ut,Ut]:Ut)}function Rt(Kt){return ka(Kt,Vt)}var ie;return K=(W=Vt)==null?Hr:(ie=typeof Vt)=="function"?Qt:(ie==="number"&&(Vt=[Vt,Vt,Vt,Vt]),Rt),te},te.round=function(Vt){return arguments.length?(O=Vt?Math.round:Number,te):O!=Number},te.sticky=function(Vt){return arguments.length?(it=Vt,f=null,te):it},te.ratio=function(Vt){return arguments.length?(dt=Vt,te):dt},te.mode=function(Vt){return arguments.length?(ft=Vt+"",te):ft},ir(te,_)},t.random={normal:function(f,_){var O=arguments.length;return O<2&&(_=1),O<1&&(f=0),function(){var V,W,K;do K=(V=2*Math.random()-1)*V+(W=2*Math.random()-1)*W;while(!K||K>1);return f+_*V*Math.sqrt(-2*Math.log(K)/K)}},logNormal:function(){var f=t.random.normal.apply(t,arguments);return function(){return Math.exp(f())}},bates:function(f){var _=t.random.irwinHall(f);return function(){return _()/f}},irwinHall:function(f){return function(){for(var _=0,O=0;O<f;O++)_+=Math.random();return _}}},t.scale={};var to={floor:Y,ceil:Y};function eo(f,_,O,V){var W=[],K=[],it=0,ft=Math.min(f.length,_.length)-1;for(f[ft]<f[0]&&(f=f.slice().reverse(),_=_.slice().reverse());++it<=ft;)W.push(O(f[it-1],f[it])),K.push(V(_[it-1],_[it]));return function(dt){var pt=t.bisect(f,dt,1,ft)-1;return K[pt](W[pt](dt))}}function La(f,_){return t.rebind(f,_,"range","rangeRound","interpolate","clamp")}function Sa(f,_){return Br(f,Aa(Yr(f,_)[2])),Br(f,Aa(Yr(f,_)[2])),f}function Yr(f,_){_==null&&(_=10);var O=mr(f),V=O[1]-O[0],W=Math.pow(10,Math.floor(Math.log(V/_)/Math.LN10)),K=_/V*W;return K<=.15?W*=10:K<=.35?W*=5:K<=.75&&(W*=2),O[0]=Math.ceil(O[0]/W)*W,O[1]=Math.floor(O[1]/W)*W+.5*W,O[2]=W,O}function Vr(f,_){return t.range.apply(t,Yr(f,_))}t.scale.linear=function(){return function f(_,O,V,W){var K,it;function ft(){var pt=Math.min(_.length,O.length)>2?eo:Ki,yt=W?ki:Mi;return K=pt(_,O,yt,V),it=pt(O,_,yt,qn),dt}function dt(pt){return K(pt)}return dt.invert=function(pt){return it(pt)},dt.domain=function(pt){return arguments.length?(_=pt.map(Number),ft()):_},dt.range=function(pt){return arguments.length?(O=pt,ft()):O},dt.rangeRound=function(pt){return dt.range(pt).interpolate(fa)},dt.clamp=function(pt){return arguments.length?(W=pt,ft()):W},dt.interpolate=function(pt){return arguments.length?(V=pt,ft()):V},dt.ticks=function(pt){return Vr(_,pt)},dt.tickFormat=function(pt,yt){return d3_scale_linearTickFormat(_,pt,yt)},dt.nice=function(pt){return Sa(_,pt),ft()},dt.copy=function(){return f(_,O,V,W)},ft()}([0,1],[0,1],qn,!1)},t.scale.log=function(){return function f(_,O,V,W){function K(dt){return(V?Math.log(dt<0?0:dt):-Math.log(dt>0?0:-dt))/Math.log(O)}function it(dt){return V?Math.pow(O,dt):-Math.pow(O,-dt)}function ft(dt){return _(K(dt))}return ft.invert=function(dt){return it(_.invert(dt))},ft.domain=function(dt){return arguments.length?(V=dt[0]>=0,_.domain((W=dt.map(Number)).map(K)),ft):W},ft.base=function(dt){return arguments.length?(O=+dt,_.domain(W.map(K)),ft):O},ft.nice=function(){var dt=Br(W.map(K),V?Math:no);return _.domain(dt),W=dt.map(it),ft},ft.ticks=function(){var dt=mr(W),pt=[],yt=dt[0],zt=dt[1],Ft=Math.floor(K(yt)),Jt=Math.ceil(K(zt)),te=O%1?2:O;if(isFinite(Jt-Ft)){if(V){for(;Ft<Jt;Ft++)for(var Vt=1;Vt<te;Vt++)pt.push(it(Ft)*Vt);pt.push(it(Ft))}else for(pt.push(it(Ft));Ft++<Jt;)for(Vt=te-1;Vt>0;Vt--)pt.push(it(Ft)*Vt);for(Ft=0;pt[Ft]<yt;Ft++);for(Jt=pt.length;pt[Jt-1]>zt;Jt--);pt=pt.slice(Ft,Jt)}return pt},ft.copy=function(){return f(_.copy(),O,V,W)},La(ft,_)}(t.scale.linear().domain([0,1]),10,!0,[1,10])};var no={floor:function(f){return-Math.ceil(-f)},ceil:function(f){return-Math.floor(-f)}};function vr(f){return function(_){return _<0?-Math.pow(-_,f):Math.pow(_,f)}}t.scale.pow=function(){return function f(_,O,V){var W=vr(O),K=vr(1/O);function it(ft){return _(W(ft))}return it.invert=function(ft){return K(_.invert(ft))},it.domain=function(ft){return arguments.length?(_.domain((V=ft.map(Number)).map(W)),it):V},it.ticks=function(ft){return Vr(V,ft)},it.tickFormat=function(ft,dt){return d3_scale_linearTickFormat(V,ft,dt)},it.nice=function(ft){return it.domain(Sa(V,ft))},it.exponent=function(ft){return arguments.length?(W=vr(O=ft),K=vr(1/O),_.domain(V.map(W)),it):O},it.copy=function(){return f(_.copy(),O,V)},La(it,_)}(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return function f(_,O){var V,W,K;function it(dt){return W[((V.get(dt)||(O.t==="range"?V.set(dt,_.push(dt)):NaN))-1)%W.length]}function ft(dt,pt){return t.range(_.length).map(function(yt){return dt+pt*yt})}return it.domain=function(dt){if(!arguments.length)return _;_=[],V=new T;for(var pt,yt=-1,zt=dt.length;++yt<zt;)V.has(pt=dt[yt])||V.set(pt,_.push(pt));return it[O.t].apply(it,O.a)},it.range=function(dt){return arguments.length?(W=dt,K=0,O={t:"range",a:arguments},it):W},it.rangePoints=function(dt,pt){arguments.length<2&&(pt=0);var yt=dt[0],zt=dt[1],Ft=_.length<2?(yt=(yt+zt)/2,0):(zt-yt)/(_.length-1+pt);return W=ft(yt+Ft*pt/2,Ft),K=0,O={t:"rangePoints",a:arguments},it},it.rangeRoundPoints=function(dt,pt){arguments.length<2&&(pt=0);var yt=dt[0],zt=dt[1],Ft=_.length<2?(yt=zt=Math.round((yt+zt)/2),0):(zt-yt)/(_.length-1+pt)|0;return W=ft(yt+Math.round(Ft*pt/2+(zt-yt-(_.length-1+pt)*Ft)/2),Ft),K=0,O={t:"rangeRoundPoints",a:arguments},it},it.rangeBands=function(dt,pt,yt){arguments.length<2&&(pt=0),arguments.length<3&&(yt=pt);var zt=dt[1]<dt[0],Ft=dt[zt-0],Jt=dt[1-zt],te=(Jt-Ft)/(_.length-pt+2*yt);return W=ft(Ft+te*yt,te),zt&&W.reverse(),K=te*(1-pt),O={t:"rangeBands",a:arguments},it},it.rangeRoundBands=function(dt,pt,yt){arguments.length<2&&(pt=0),arguments.length<3&&(yt=pt);var zt=dt[1]<dt[0],Ft=dt[zt-0],Jt=dt[1-zt],te=Math.floor((Jt-Ft)/(_.length-pt+2*yt));return W=ft(Ft+Math.round((Jt-Ft-(_.length-pt)*te)/2),te),zt&&W.reverse(),K=Math.round(te*(1-pt)),O={t:"rangeRoundBands",a:arguments},it},it.rangeBand=function(){return K},it.rangeExtent=function(){return mr(O.a[0])},it.copy=function(){return f(_,O)},it.domain(_)}([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(ro)},t.scale.category20=function(){return t.scale.ordinal().range(ao)},t.scale.category20b=function(){return t.scale.ordinal().range(io)},t.scale.category20c=function(){return t.scale.ordinal().range(oo)};var ro=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(De),ao=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(De),io=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(De),oo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(De);function lo(){return 0}t.scale.quantile=function(){return function f(_,O){var V;function W(){var it=0,ft=O.length;for(V=[];++it<ft;)V[it-1]=t.quantile(_,it/ft);return K}function K(it){if(!isNaN(it=+it))return O[t.bisect(V,it)]}return K.domain=function(it){return arguments.length?(_=it.map(m).filter(M).sort(p),W()):_},K.range=function(it){return arguments.length?(O=it,W()):O},K.quantiles=function(){return V},K.invertExtent=function(it){return(it=O.indexOf(it))<0?[NaN,NaN]:[it>0?V[it-1]:_[0],it<V.length?V[it]:_[_.length-1]]},K.copy=function(){return f(_,O)},W()}([],[])},t.scale.quantize=function(){return function f(_,O,V){var W,K;function it(dt){return V[Math.max(0,Math.min(K,Math.floor(W*(dt-_))))]}function ft(){return W=V.length/(O-_),K=V.length-1,it}return it.domain=function(dt){return arguments.length?(_=+dt[0],O=+dt[dt.length-1],ft()):[_,O]},it.range=function(dt){return arguments.length?(V=dt,ft()):V},it.invertExtent=function(dt){return[dt=(dt=V.indexOf(dt))<0?NaN:dt/W+_,dt+1/W]},it.copy=function(){return f(_,O,V)},ft()}(0,1,[0,1])},t.scale.threshold=function(){return function f(_,O){function V(W){if(W<=W)return O[t.bisect(_,W)]}return V.domain=function(W){return arguments.length?(_=W,V):_},V.range=function(W){return arguments.length?(O=W,V):O},V.invertExtent=function(W){return W=O.indexOf(W),[_[W-1],_[W]]},V.copy=function(){return f(_,O)},V}([.5],[0,1])},t.scale.identity=function(){return function f(_){function O(V){return+V}return O.invert=O,O.domain=O.range=function(V){return arguments.length?(_=V.map(O),O):_},O.ticks=function(V){return Vr(_,V)},O.tickFormat=function(V,W){return d3_scale_linearTickFormat(_,V,W)},O.copy=function(){return f(_)},O}([0,1])},t.svg={},t.svg.arc=function(){var f=so,_=co,O=lo,V=yr,W=Da,K=Ca,it=uo;function ft(){var pt=Math.max(0,+f.apply(this,arguments)),yt=Math.max(0,+_.apply(this,arguments)),zt=W.apply(this,arguments)-st,Ft=K.apply(this,arguments)-st,Jt=Math.abs(Ft-zt),te=zt>Ft?0:1;if(yt<pt&&(Vt=yt,yt=pt,pt=Vt),Jt>=at)return dt(yt,te)+(pt?dt(pt,1-te):"")+"Z";var Vt,Qt,Rt,ie,Kt,Ut,pe,ve,Ee,Ie,We,Xe,on=0,$e=0,sn=[];if((ie=(+it.apply(this,arguments)||0)/2)&&(Rt=V===yr?Math.sqrt(pt*pt+yt*yt):+V.apply(this,arguments),te||($e*=-1),yt&&($e=Nt(Rt/yt*Math.sin(ie))),pt&&(on=Nt(Rt/pt*Math.sin(ie)))),yt){Kt=yt*Math.cos(zt+$e),Ut=yt*Math.sin(zt+$e),pe=yt*Math.cos(Ft-$e),ve=yt*Math.sin(Ft-$e);var mn=Math.abs(Ft-zt-2*$e)<=re?0:1;if($e&&xr(Kt,Ut,pe,ve)===te^mn){var yn=(zt+Ft)/2;Kt=yt*Math.cos(yn),Ut=yt*Math.sin(yn),pe=ve=null}}else Kt=Ut=0;if(pt){Ee=pt*Math.cos(Ft-on),Ie=pt*Math.sin(Ft-on),We=pt*Math.cos(zt+on),Xe=pt*Math.sin(zt+on);var Pe=Math.abs(zt-Ft+2*on)<=re?0:1;if(on&&xr(Ee,Ie,We,Xe)===1-te^Pe){var Qe=(zt+Ft)/2;Ee=pt*Math.cos(Qe),Ie=pt*Math.sin(Qe),We=Xe=null}}else Ee=Ie=0;if(Jt>Gt&&(Vt=Math.min(Math.abs(yt-pt)/2,+O.apply(this,arguments)))>.001){Qt=pt<yt^te?0:1;var ln=Vt,an=Vt;if(Jt<re){var fn=We==null?[Ee,Ie]:pe==null?[Kt,Ut]:vn([Kt,Ut],[We,Xe],[pe,ve],[Ee,Ie]),pn=Kt-fn[0],gn=Ut-fn[1],_n=pe-fn[0],Tn=ve-fn[1],Mn=1/Math.sin(Math.acos((pn*_n+gn*Tn)/(Math.sqrt(pn*pn+gn*gn)*Math.sqrt(_n*_n+Tn*Tn)))/2),zn=Math.sqrt(fn[0]*fn[0]+fn[1]*fn[1]);an=Math.min(Vt,(pt-zn)/(Mn-1)),ln=Math.min(Vt,(yt-zn)/(Mn+1))}if(pe!=null){var Ln=br(We==null?[Ee,Ie]:[We,Xe],[Kt,Ut],yt,ln,te),Cn=br([pe,ve],[Ee,Ie],yt,ln,te);Vt===ln?sn.push("M",Ln[0],"A",ln,",",ln," 0 0,",Qt," ",Ln[1],"A",yt,",",yt," 0 ",1-te^xr(Ln[1][0],Ln[1][1],Cn[1][0],Cn[1][1]),",",te," ",Cn[1],"A",ln,",",ln," 0 0,",Qt," ",Cn[0]):sn.push("M",Ln[0],"A",ln,",",ln," 0 1,",Qt," ",Cn[0])}else sn.push("M",Kt,",",Ut);if(We!=null){var jn=br([Kt,Ut],[We,Xe],pt,-an,te),Zn=br([Ee,Ie],pe==null?[Kt,Ut]:[pe,ve],pt,-an,te);Vt===an?sn.push("L",Zn[0],"A",an,",",an," 0 0,",Qt," ",Zn[1],"A",pt,",",pt," 0 ",te^xr(Zn[1][0],Zn[1][1],jn[1][0],jn[1][1]),",",1-te," ",jn[1],"A",an,",",an," 0 0,",Qt," ",jn[0]):sn.push("L",Zn[0],"A",an,",",an," 0 0,",Qt," ",jn[0])}else sn.push("L",Ee,",",Ie)}else sn.push("M",Kt,",",Ut),pe!=null&&sn.push("A",yt,",",yt," 0 ",mn,",",te," ",pe,",",ve),sn.push("L",Ee,",",Ie),We!=null&&sn.push("A",pt,",",pt," 0 ",Pe,",",1-te," ",We,",",Xe);return sn.push("Z"),sn.join("")}function dt(pt,yt){return"M0,"+pt+"A"+pt+","+pt+" 0 1,"+yt+" 0,"+-pt+"A"+pt+","+pt+" 0 1,"+yt+" 0,"+pt}return ft.innerRadius=function(pt){return arguments.length?(f=fe(pt),ft):f},ft.outerRadius=function(pt){return arguments.length?(_=fe(pt),ft):_},ft.cornerRadius=function(pt){return arguments.length?(O=fe(pt),ft):O},ft.padRadius=function(pt){return arguments.length?(V=pt==yr?yr:fe(pt),ft):V},ft.startAngle=function(pt){return arguments.length?(W=fe(pt),ft):W},ft.endAngle=function(pt){return arguments.length?(K=fe(pt),ft):K},ft.padAngle=function(pt){return arguments.length?(it=fe(pt),ft):it},ft.centroid=function(){var pt=(+f.apply(this,arguments)+ +_.apply(this,arguments))/2,yt=(+W.apply(this,arguments)+ +K.apply(this,arguments))/2-st;return[Math.cos(yt)*pt,Math.sin(yt)*pt]},ft};var yr="auto";function so(f){return f.innerRadius}function co(f){return f.outerRadius}function Da(f){return f.startAngle}function Ca(f){return f.endAngle}function uo(f){return f&&f.padAngle}function xr(f,_,O,V){return(f-O)*_-(_-V)*f>0?0:1}function br(f,_,O,V,W){var K=f[0]-_[0],it=f[1]-_[1],ft=(W?V:-V)/Math.sqrt(K*K+it*it),dt=ft*it,pt=-ft*K,yt=f[0]+dt,zt=f[1]+pt,Ft=_[0]+dt,Jt=_[1]+pt,te=(yt+Ft)/2,Vt=(zt+Jt)/2,Qt=Ft-yt,Rt=Jt-zt,ie=Qt*Qt+Rt*Rt,Kt=O-V,Ut=yt*Jt-Ft*zt,pe=(Rt<0?-1:1)*Math.sqrt(Math.max(0,Kt*Kt*ie-Ut*Ut)),ve=(Ut*Rt-Qt*pe)/ie,Ee=(-Ut*Qt-Rt*pe)/ie,Ie=(Ut*Rt+Qt*pe)/ie,We=(-Ut*Qt+Rt*pe)/ie,Xe=ve-te,on=Ee-Vt,$e=Ie-te,sn=We-Vt;return Xe*Xe+on*on>$e*$e+sn*sn&&(ve=Ie,Ee=We),[[ve-dt,Ee-pt],[ve*O/Kt,Ee*O/Kt]]}function Oa(){return!0}function Pa(f){var _=Ve,O=Ge,V=Oa,W=Fn,K=W.key,it=.7;function ft(dt){var pt,yt=[],zt=[],Ft=-1,Jt=dt.length,te=fe(_),Vt=fe(O);function Qt(){yt.push("M",W(f(zt),it))}for(;++Ft<Jt;)V.call(this,pt=dt[Ft],Ft)?zt.push([+te.call(this,pt,Ft),+Vt.call(this,pt,Ft)]):zt.length&&(Qt(),zt=[]);return zt.length&&Qt(),yt.length?yt.join(""):null}return ft.x=function(dt){return arguments.length?(_=dt,ft):_},ft.y=function(dt){return arguments.length?(O=dt,ft):O},ft.defined=function(dt){return arguments.length?(V=dt,ft):V},ft.interpolate=function(dt){return arguments.length?(K=typeof dt=="function"?W=dt:(W=Ur.get(dt)||Fn).key,ft):K},ft.tension=function(dt){return arguments.length?(it=dt,ft):it},ft}t.svg.line=function(){return Pa(Y)};var Ur=t.map({linear:Fn,"linear-closed":Ea,step:function(f){for(var _=0,O=f.length,V=f[0],W=[V[0],",",V[1]];++_<O;)W.push("H",(V[0]+(V=f[_])[0])/2,"V",V[1]);return O>1&&W.push("H",V[0]),W.join("")},"step-before":qr,"step-after":Gr,basis:Ia,"basis-open":function(f){if(f.length<4)return Fn(f);for(var _,O=[],V=-1,W=f.length,K=[0],it=[0];++V<3;)_=f[V],K.push(_[0]),it.push(_[1]);for(O.push(In(Yn,K)+","+In(Yn,it)),--V;++V<W;)_=f[V],K.shift(),K.push(_[0]),it.shift(),it.push(_[1]),Wr(O,K,it);return O.join("")},"basis-closed":function(f){for(var _,O,V=-1,W=f.length,K=W+4,it=[],ft=[];++V<4;)O=f[V%W],it.push(O[0]),ft.push(O[1]);for(_=[In(Yn,it),",",In(Yn,ft)],--V;++V<K;)O=f[V%W],it.shift(),it.push(O[0]),ft.shift(),ft.push(O[1]),Wr(_,it,ft);return _.join("")},bundle:function(f,_){var O=f.length-1;if(O)for(var V,W,K=f[0][0],it=f[0][1],ft=f[O][0]-K,dt=f[O][1]-it,pt=-1;++pt<=O;)V=f[pt],W=pt/O,V[0]=_*V[0]+(1-_)*(K+W*ft),V[1]=_*V[1]+(1-_)*(it+W*dt);return Ia(f)},cardinal:function(f,_){return f.length<3?Fn(f):f[0]+_r(f,Zr(f,_))},"cardinal-open":function(f,_){return f.length<4?Fn(f):f[1]+_r(f.slice(1,-1),Zr(f,_))},"cardinal-closed":function(f,_){return f.length<3?Ea(f):f[0]+_r((f.push(f[0]),f),Zr([f[f.length-2]].concat(f,[f[1]]),_))},monotone:function(f){return f.length<3?Fn(f):f[0]+_r(f,function(_){for(var O,V,W,K,it=[],ft=function(yt){for(var zt=0,Ft=yt.length-1,Jt=[],te=yt[0],Vt=yt[1],Qt=Jt[0]=Xr(te,Vt);++zt<Ft;)Jt[zt]=(Qt+(Qt=Xr(te=Vt,Vt=yt[zt+1])))/2;return Jt[zt]=Qt,Jt}(_),dt=-1,pt=_.length-1;++dt<pt;)O=Xr(_[dt],_[dt+1]),h(O)<Gt?ft[dt]=ft[dt+1]=0:(V=ft[dt]/O,W=ft[dt+1]/O,(K=V*V+W*W)>9&&(K=3*O/Math.sqrt(K),ft[dt]=K*V,ft[dt+1]=K*W));for(dt=-1;++dt<=pt;)K=(_[Math.min(pt,dt+1)][0]-_[Math.max(0,dt-1)][0])/(6*(1+ft[dt]*ft[dt])),it.push([K||0,ft[dt]*K||0]);return it}(f))}});function Fn(f){return f.length>1?f.join("L"):f+"Z"}function Ea(f){return f.join("L")+"Z"}function qr(f){for(var _=0,O=f.length,V=f[0],W=[V[0],",",V[1]];++_<O;)W.push("V",(V=f[_])[1],"H",V[0]);return W.join("")}function Gr(f){for(var _=0,O=f.length,V=f[0],W=[V[0],",",V[1]];++_<O;)W.push("H",(V=f[_])[0],"V",V[1]);return W.join("")}function _r(f,_){if(_.length<1||f.length!=_.length&&f.length!=_.length+2)return Fn(f);var O=f.length!=_.length,V="",W=f[0],K=f[1],it=_[0],ft=it,dt=1;if(O&&(V+="Q"+(K[0]-2*it[0]/3)+","+(K[1]-2*it[1]/3)+","+K[0]+","+K[1],W=f[1],dt=2),_.length>1){ft=_[1],K=f[dt],dt++,V+="C"+(W[0]+it[0])+","+(W[1]+it[1])+","+(K[0]-ft[0])+","+(K[1]-ft[1])+","+K[0]+","+K[1];for(var pt=2;pt<_.length;pt++,dt++)K=f[dt],ft=_[pt],V+="S"+(K[0]-ft[0])+","+(K[1]-ft[1])+","+K[0]+","+K[1]}if(O){var yt=f[dt];V+="Q"+(K[0]+2*ft[0]/3)+","+(K[1]+2*ft[1]/3)+","+yt[0]+","+yt[1]}return V}function Zr(f,_){for(var O,V=[],W=(1-_)/2,K=f[0],it=f[1],ft=1,dt=f.length;++ft<dt;)O=K,K=it,it=f[ft],V.push([W*(it[0]-O[0]),W*(it[1]-O[1])]);return V}function Ia(f){if(f.length<3)return Fn(f);var _=1,O=f.length,V=f[0],W=V[0],K=V[1],it=[W,W,W,(V=f[1])[0]],ft=[K,K,K,V[1]],dt=[W,",",K,"L",In(Yn,it),",",In(Yn,ft)];for(f.push(f[O-1]);++_<=O;)V=f[_],it.shift(),it.push(V[0]),ft.shift(),ft.push(V[1]),Wr(dt,it,ft);return f.pop(),dt.push("L",V),dt.join("")}function In(f,_){return f[0]*_[0]+f[1]*_[1]+f[2]*_[2]+f[3]*_[3]}Ur.forEach(function(f,_){_.key=f,_.closed=/-closed$/.test(f)});var za=[0,2/3,1/3,0],Na=[0,1/3,2/3,0],Yn=[0,1/6,2/3,1/6];function Wr(f,_,O){f.push("C",In(za,_),",",In(za,O),",",In(Na,_),",",In(Na,O),",",In(Yn,_),",",In(Yn,O))}function Xr(f,_){return(_[1]-f[1])/(_[0]-f[0])}function Fa(f){for(var _,O,V,W=-1,K=f.length;++W<K;)O=(_=f[W])[0],V=_[1]-st,_[0]=O*Math.cos(V),_[1]=O*Math.sin(V);return f}function Ra(f){var _=Ve,O=Ve,V=0,W=Ge,K=Oa,it=Fn,ft=it.key,dt=it,pt="L",yt=.7;function zt(Ft){var Jt,te,Vt,Qt=[],Rt=[],ie=[],Kt=-1,Ut=Ft.length,pe=fe(_),ve=fe(V),Ee=_===O?function(){return te}:fe(O),Ie=V===W?function(){return Vt}:fe(W);function We(){Qt.push("M",it(f(ie),yt),pt,dt(f(Rt.reverse()),yt),"Z")}for(;++Kt<Ut;)K.call(this,Jt=Ft[Kt],Kt)?(Rt.push([te=+pe.call(this,Jt,Kt),Vt=+ve.call(this,Jt,Kt)]),ie.push([+Ee.call(this,Jt,Kt),+Ie.call(this,Jt,Kt)])):Rt.length&&(We(),Rt=[],ie=[]);return Rt.length&&We(),Qt.length?Qt.join(""):null}return zt.x=function(Ft){return arguments.length?(_=O=Ft,zt):O},zt.x0=function(Ft){return arguments.length?(_=Ft,zt):_},zt.x1=function(Ft){return arguments.length?(O=Ft,zt):O},zt.y=function(Ft){return arguments.length?(V=W=Ft,zt):W},zt.y0=function(Ft){return arguments.length?(V=Ft,zt):V},zt.y1=function(Ft){return arguments.length?(W=Ft,zt):W},zt.defined=function(Ft){return arguments.length?(K=Ft,zt):K},zt.interpolate=function(Ft){return arguments.length?(ft=typeof Ft=="function"?it=Ft:(it=Ur.get(Ft)||Fn).key,dt=it.reverse||it,pt=it.closed?"M":"L",zt):ft},zt.tension=function(Ft){return arguments.length?(yt=Ft,zt):yt},zt}function ja(f){return f.source}function Ha(f){return f.target}function fo(f){return f.radius}function Ba(f){return[f.x,f.y]}function po(f){return function(){var _=f.apply(this,arguments),O=_[0],V=_[1]-st;return[O*Math.cos(V),O*Math.sin(V)]}}function ho(){return 64}function mo(){return"circle"}function Ya(f){var _=Math.sqrt(f/re);return"M0,"+_+"A"+_+","+_+" 0 1,1 0,"+-_+"A"+_+","+_+" 0 1,1 0,"+_+"Z"}t.svg.line.radial=function(){var f=Pa(Fa);return f.radius=f.x,delete f.x,f.angle=f.y,delete f.y,f},qr.reverse=Gr,Gr.reverse=qr,t.svg.area=function(){return Ra(Y)},t.svg.area.radial=function(){var f=Ra(Fa);return f.radius=f.x,delete f.x,f.innerRadius=f.x0,delete f.x0,f.outerRadius=f.x1,delete f.x1,f.angle=f.y,delete f.y,f.startAngle=f.y0,delete f.y0,f.endAngle=f.y1,delete f.y1,f},t.svg.chord=function(){var f=ja,_=Ha,O=fo,V=Da,W=Ca;function K(pt,yt){var zt,Ft,Jt=it(this,f,pt,yt),te=it(this,_,pt,yt);return"M"+Jt.p0+ft(Jt.r,Jt.p1,Jt.a1-Jt.a0)+(Ft=te,((zt=Jt).a0==Ft.a0&&zt.a1==Ft.a1?dt(Jt.r,Jt.p1,Jt.r,Jt.p0):dt(Jt.r,Jt.p1,te.r,te.p0)+ft(te.r,te.p1,te.a1-te.a0)+dt(te.r,te.p1,Jt.r,Jt.p0))+"Z")}function it(pt,yt,zt,Ft){var Jt=yt.call(pt,zt,Ft),te=O.call(pt,Jt,Ft),Vt=V.call(pt,Jt,Ft)-st,Qt=W.call(pt,Jt,Ft)-st;return{r:te,a0:Vt,a1:Qt,p0:[te*Math.cos(Vt),te*Math.sin(Vt)],p1:[te*Math.cos(Qt),te*Math.sin(Qt)]}}function ft(pt,yt,zt){return"A"+pt+","+pt+" 0 "+ +(zt>re)+",1 "+yt}function dt(pt,yt,zt,Ft){return"Q 0,0 "+Ft}return K.radius=function(pt){return arguments.length?(O=fe(pt),K):O},K.source=function(pt){return arguments.length?(f=fe(pt),K):f},K.target=function(pt){return arguments.length?(_=fe(pt),K):_},K.startAngle=function(pt){return arguments.length?(V=fe(pt),K):V},K.endAngle=function(pt){return arguments.length?(W=fe(pt),K):W},K},t.svg.diagonal=function(){var f=ja,_=Ha,O=Ba;function V(W,K){var it=f.call(this,W,K),ft=_.call(this,W,K),dt=(it.y+ft.y)/2,pt=[it,{x:it.x,y:dt},{x:ft.x,y:dt},ft];return"M"+(pt=pt.map(O))[0]+"C"+pt[1]+" "+pt[2]+" "+pt[3]}return V.source=function(W){return arguments.length?(f=fe(W),V):f},V.target=function(W){return arguments.length?(_=fe(W),V):_},V.projection=function(W){return arguments.length?(O=W,V):O},V},t.svg.diagonal.radial=function(){var f=t.svg.diagonal(),_=Ba,O=f.projection;return f.projection=function(V){return arguments.length?O(po(_=V)):_},f},t.svg.symbol=function(){var f=mo,_=ho;function O(V,W){return(Va.get(f.call(this,V,W))||Ya)(_.call(this,V,W))}return O.type=function(V){return arguments.length?(f=fe(V),O):f},O.size=function(V){return arguments.length?(_=fe(V),O):_},O};var Va=t.map({circle:Ya,cross:function(f){var _=Math.sqrt(f/5)/2;return"M"+-3*_+","+-_+"H"+-_+"V"+-3*_+"H"+_+"V"+-_+"H"+3*_+"V"+_+"H"+_+"V"+3*_+"H"+-_+"V"+_+"H"+-3*_+"Z"},diamond:function(f){var _=Math.sqrt(f/(2*Ua)),O=_*Ua;return"M0,"+-_+"L"+O+",0 0,"+_+" "+-O+",0Z"},square:function(f){var _=Math.sqrt(f)/2;return"M"+-_+","+-_+"L"+_+","+-_+" "+_+","+_+" "+-_+","+_+"Z"},"triangle-down":function(f){var _=Math.sqrt(f/wr),O=_*wr/2;return"M0,"+O+"L"+_+","+-O+" "+-_+","+-O+"Z"},"triangle-up":function(f){var _=Math.sqrt(f/wr),O=_*wr/2;return"M0,"+-O+"L"+_+","+O+" "+-_+","+O+"Z"}});t.svg.symbolTypes=Va.keys();var wr=Math.sqrt(3),Ua=Math.tan(30*Lt);Q.transition=function(f){for(var _,O,V=Gn||++Ga,W=$r(f),K=[],it=Mr||{time:Date.now(),ease:yi,delay:0,duration:250},ft=-1,dt=this.length;++ft<dt;){K.push(_=[]);for(var pt=this[ft],yt=-1,zt=pt.length;++yt<zt;)(O=pt[yt])&&kr(O,yt,W,V,it),_.push(O)}return lr(K,W,V)},Q.interrupt=function(f){return this.each(f==null?Tr:qa($r(f)))};var Tr=qa($r());function qa(f){return function(){var _,O,V;(_=this[f])&&(V=_[O=_.active])&&(V.timer.c=null,V.timer.t=NaN,--_.count?delete _[O]:delete this[f],_.active+=.5,V.event&&V.event.interrupt.call(this,this.__data__,V.index))}}function lr(f,_,O){return Z(f,bn),f.namespace=_,f.id=O,f}var Gn,Mr,bn=[],Ga=0;function Jr(f,_,O,V){var W=f.id,K=f.namespace;return xt(f,typeof O=="function"?function(it,ft,dt){it[K][W].tween.set(_,V(O.call(it,it.__data__,ft,dt)))}:(O=V(O),function(it){it[K][W].tween.set(_,O)}))}function go(f){return f==null&&(f=""),function(){this.textContent=f}}function $r(f){return f==null?"__transition__":"__transition_"+f+"__"}function kr(f,_,O,V,W){var K,it,ft,dt,pt,yt=f[O]||(f[O]={active:0,count:0}),zt=yt[V];function Ft(te){var Vt=yt.active,Qt=yt[Vt];for(var Rt in Qt&&(Qt.timer.c=null,Qt.timer.t=NaN,--yt.count,delete yt[Vt],Qt.event&&Qt.event.interrupt.call(f,f.__data__,Qt.index)),yt)if(+Rt<V){var ie=yt[Rt];ie.timer.c=null,ie.timer.t=NaN,--yt.count,delete yt[Rt]}it.c=Jt,Ue(function(){return it.c&&Jt(te||1)&&(it.c=null,it.t=NaN),1},0,K),yt.active=V,zt.event&&zt.event.start.call(f,f.__data__,_),pt=[],zt.tween.forEach(function(Kt,Ut){(Ut=Ut.call(f,f.__data__,_))&&pt.push(Ut)}),dt=zt.ease,ft=zt.duration}function Jt(te){for(var Vt=te/ft,Qt=dt(Vt),Rt=pt.length;Rt>0;)pt[--Rt].call(f,Qt);if(Vt>=1)return zt.event&&zt.event.end.call(f,f.__data__,_),--yt.count?delete yt[V]:delete f[O],1}zt||(K=W.time,it=Ue(function(te){var Vt=zt.delay;if(it.t=Vt+K,Vt<=te)return Ft(te-Vt);it.c=Ft},0,K),zt=yt[V]={tween:new T,time:K,timer:it,delay:W.delay,duration:W.duration,ease:W.ease,index:_},W=null,++yt.count)}bn.call=Q.call,bn.empty=Q.empty,bn.node=Q.node,bn.size=Q.size,t.transition=function(f,_){return f&&f.transition?Gn?f.transition(_):f:t.selection().transition(f)},t.transition.prototype=bn,bn.select=function(f){var _,O,V,W=this.id,K=this.namespace,it=[];f=et(f);for(var ft=-1,dt=this.length;++ft<dt;){it.push(_=[]);for(var pt=this[ft],yt=-1,zt=pt.length;++yt<zt;)(V=pt[yt])&&(O=f.call(V,V.__data__,yt,ft))?("__data__"in V&&(O.__data__=V.__data__),kr(O,yt,K,W,V[K][W]),_.push(O)):_.push(null)}return lr(it,K,W)},bn.selectAll=function(f){var _,O,V,W,K,it=this.id,ft=this.namespace,dt=[];f=tt(f);for(var pt=-1,yt=this.length;++pt<yt;)for(var zt=this[pt],Ft=-1,Jt=zt.length;++Ft<Jt;)if(V=zt[Ft]){K=V[ft][it],O=f.call(V,V.__data__,Ft,pt),dt.push(_=[]);for(var te=-1,Vt=O.length;++te<Vt;)(W=O[te])&&kr(W,te,ft,it,K),_.push(W)}return lr(dt,ft,it)},bn.filter=function(f){var _,O,V=[];typeof f!="function"&&(f=Dt(f));for(var W=0,K=this.length;W<K;W++){V.push(_=[]);for(var it,ft=0,dt=(it=this[W]).length;ft<dt;ft++)(O=it[ft])&&f.call(O,O.__data__,ft,W)&&_.push(O)}return lr(V,this.namespace,this.id)},bn.tween=function(f,_){var O=this.id,V=this.namespace;return arguments.length<2?this.node()[V][O].tween.get(f):xt(this,_==null?function(W){W[V][O].tween.remove(f)}:function(W){W[V][O].tween.set(f,_)})},bn.attr=function(f,_){if(arguments.length<2){for(_ in f)this.attr(_,f[_]);return this}var O=f=="transform"?ga:qn,V=t.ns.qualify(f);function W(){this.removeAttribute(V)}function K(){this.removeAttributeNS(V.space,V.local)}function it(dt){return dt==null?W:(dt+="",function(){var pt,yt=this.getAttribute(V);return yt!==dt&&(pt=O(yt,dt),function(zt){this.setAttribute(V,pt(zt))})})}function ft(dt){return dt==null?K:(dt+="",function(){var pt,yt=this.getAttributeNS(V.space,V.local);return yt!==dt&&(pt=O(yt,dt),function(zt){this.setAttributeNS(V.space,V.local,pt(zt))})})}return Jr(this,"attr."+f,_,V.local?ft:it)},bn.attrTween=function(f,_){var O=t.ns.qualify(f);return this.tween("attr."+f,O.local?function(V,W){var K=_.call(this,V,W,this.getAttributeNS(O.space,O.local));return K&&function(it){this.setAttributeNS(O.space,O.local,K(it))}}:function(V,W){var K=_.call(this,V,W,this.getAttribute(O));return K&&function(it){this.setAttribute(O,K(it))}})},bn.style=function(f,_,O){var V=arguments.length;if(V<3){if(typeof f!="string"){for(O in V<2&&(_=""),f)this.style(O,f[O],_);return this}O=""}function W(){this.style.removeProperty(f)}function K(it){return it==null?W:(it+="",function(){var ft,dt=l(this).getComputedStyle(this,null).getPropertyValue(f);return dt!==it&&(ft=qn(dt,it),function(pt){this.style.setProperty(f,ft(pt),O)})})}return Jr(this,"style."+f,_,K)},bn.styleTween=function(f,_,O){function V(W,K){var it=_.call(this,W,K,l(this).getComputedStyle(this,null).getPropertyValue(f));return it&&function(ft){this.style.setProperty(f,it(ft),O)}}return arguments.length<3&&(O=""),this.tween("style."+f,V)},bn.text=function(f){return Jr(this,"text",f,go)},bn.remove=function(){var f=this.namespace;return this.each("end.transition",function(){var _;this[f].count<2&&(_=this.parentNode)&&_.removeChild(this)})},bn.ease=function(f){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].ease:(typeof f!="function"&&(f=t.ease.apply(t,arguments)),xt(this,function(V){V[O][_].ease=f}))},bn.delay=function(f){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].delay:xt(this,typeof f=="function"?function(V,W,K){V[O][_].delay=+f.call(V,V.__data__,W,K)}:(f=+f,function(V){V[O][_].delay=f}))},bn.duration=function(f){var _=this.id,O=this.namespace;return arguments.length<1?this.node()[O][_].duration:xt(this,typeof f=="function"?function(V,W,K){V[O][_].duration=Math.max(1,f.call(V,V.__data__,W,K))}:(f=Math.max(1,f),function(V){V[O][_].duration=f}))},bn.each=function(f,_){var O=this.id,V=this.namespace;if(arguments.length<2){var W=Mr,K=Gn;try{Gn=O,xt(this,function(it,ft,dt){Mr=it[V][O],f.call(it,it.__data__,ft,dt)})}finally{Mr=W,Gn=K}}else xt(this,function(it){var ft=it[V][O];(ft.event||(ft.event=t.dispatch("start","end","interrupt"))).on(f,_)});return this},bn.transition=function(){for(var f,_,O,V=this.id,W=++Ga,K=this.namespace,it=[],ft=0,dt=this.length;ft<dt;ft++){it.push(f=[]);for(var pt,yt=0,zt=(pt=this[ft]).length;yt<zt;yt++)(_=pt[yt])&&kr(_,yt,K,W,{time:(O=_[K][V]).time,ease:O.ease,delay:O.delay+O.duration,duration:O.duration}),f.push(_)}return lr(it,K,W)},t.svg.axis=function(){var f,_=t.scale.linear(),O=Za,V=6,W=6,K=3,it=[10],ft=null;function dt(pt){pt.each(function(){var yt,zt=t.select(this),Ft=this.__chart__||_,Jt=this.__chart__=_.copy(),te=ft??(Jt.ticks?Jt.ticks.apply(Jt,it):Jt.domain()),Vt=f??(Jt.tickFormat?Jt.tickFormat.apply(Jt,it):Y),Qt=zt.selectAll(".tick").data(te,Jt),Rt=Qt.enter().insert("g",".domain").attr("class","tick").style("opacity",Gt),ie=t.transition(Qt.exit()).style("opacity",Gt).remove(),Kt=t.transition(Qt.order()).style("opacity",1),Ut=Math.max(V,0)+K,pe=gr(Jt),ve=zt.selectAll(".domain").data([0]),Ee=(ve.enter().append("path").attr("class","domain"),t.transition(ve));Rt.append("line"),Rt.append("text");var Ie,We,Xe,on,$e=Rt.select("line"),sn=Kt.select("line"),mn=Qt.select("text").text(Vt),yn=Rt.select("text"),Pe=Kt.select("text"),Qe=O==="top"||O==="left"?-1:1;if(O==="bottom"||O==="top"?(yt=yo,Ie="x",Xe="y",We="x2",on="y2",mn.attr("dy",Qe<0?"0em":".71em").style("text-anchor","middle"),Ee.attr("d","M"+pe[0]+","+Qe*W+"V0H"+pe[1]+"V"+Qe*W)):(yt=xo,Ie="y",Xe="x",We="y2",on="x2",mn.attr("dy",".32em").style("text-anchor",Qe<0?"end":"start"),Ee.attr("d","M"+Qe*W+","+pe[0]+"H0V"+pe[1]+"H"+Qe*W)),$e.attr(on,Qe*V),yn.attr(Xe,Qe*Ut),sn.attr(We,0).attr(on,Qe*V),Pe.attr(Ie,0).attr(Xe,Qe*Ut),Jt.rangeBand){var ln=Jt,an=ln.rangeBand()/2;Ft=Jt=function(fn){return ln(fn)+an}}else Ft.rangeBand?Ft=Jt:ie.call(yt,Jt,Ft);Rt.call(yt,Ft,Jt),Kt.call(yt,Jt,Jt)})}return dt.scale=function(pt){return arguments.length?(_=pt,dt):_},dt.orient=function(pt){return arguments.length?(O=pt in vo?pt+"":Za,dt):O},dt.ticks=function(){return arguments.length?(it=o(arguments),dt):it},dt.tickValues=function(pt){return arguments.length?(ft=pt,dt):ft},dt.tickFormat=function(pt){return arguments.length?(f=pt,dt):f},dt.tickSize=function(pt){var yt=arguments.length;return yt?(V=+pt,W=+arguments[yt-1],dt):V},dt.innerTickSize=function(pt){return arguments.length?(V=+pt,dt):V},dt.outerTickSize=function(pt){return arguments.length?(W=+pt,dt):W},dt.tickPadding=function(pt){return arguments.length?(K=+pt,dt):K},dt.tickSubdivide=function(){return arguments.length&&dt},dt};var Za="bottom",vo={top:1,right:1,bottom:1,left:1};function yo(f,_,O){f.attr("transform",function(V){var W=_(V);return"translate("+(isFinite(W)?W:O(V))+",0)"})}function xo(f,_,O){f.attr("transform",function(V){var W=_(V);return"translate(0,"+(isFinite(W)?W:O(V))+")"})}t.svg.brush=function(){var f,_,O=X(yt,"brushstart","brush","brushend"),V=null,W=null,K=[0,0],it=[0,0],ft=!0,dt=!0,pt=Qr[0];function yt(Vt){Vt.each(function(){var Qt=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",te).on("touchstart.brush",te),Rt=Qt.selectAll(".background").data([0]);Rt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Qt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ie=Qt.selectAll(".resize").data(pt,Y);ie.exit().remove(),ie.enter().append("g").attr("class",function(ve){return"resize "+ve}).style("cursor",function(ve){return bo[ve]}).append("rect").attr("x",function(ve){return/[ew]$/.test(ve)?-3:null}).attr("y",function(ve){return/^[ns]/.test(ve)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),ie.style("display",yt.empty()?"none":null);var Kt,Ut=t.transition(Qt),pe=t.transition(Rt);V&&(Kt=gr(V),pe.attr("x",Kt[0]).attr("width",Kt[1]-Kt[0]),Ft(Ut)),W&&(Kt=gr(W),pe.attr("y",Kt[0]).attr("height",Kt[1]-Kt[0]),Jt(Ut)),zt(Ut)})}function zt(Vt){Vt.selectAll(".resize").attr("transform",function(Qt){return"translate("+K[+/e$/.test(Qt)]+","+it[+/^s/.test(Qt)]+")"})}function Ft(Vt){Vt.select(".extent").attr("x",K[0]),Vt.selectAll(".extent,.n>rect,.s>rect").attr("width",K[1]-K[0])}function Jt(Vt){Vt.select(".extent").attr("y",it[0]),Vt.selectAll(".extent,.e>rect,.w>rect").attr("height",it[1]-it[0])}function te(){var Vt,Qt,Rt=this,ie=t.select(t.event.target),Kt=O.of(Rt,arguments),Ut=t.select(Rt),pe=ie.datum(),ve=!/^(n|s)$/.test(pe)&&V,Ee=!/^(e|w)$/.test(pe)&&W,Ie=ie.classed("extent"),We=ee(Rt),Xe=t.mouse(Rt),on=t.select(l(Rt)).on("keydown.brush",mn).on("keyup.brush",yn);if(t.event.changedTouches?on.on("touchmove.brush",Pe).on("touchend.brush",ln):on.on("mousemove.brush",Pe).on("mouseup.brush",ln),Ut.interrupt().selectAll("*").interrupt(),Ie)Xe[0]=K[0]-Xe[0],Xe[1]=it[0]-Xe[1];else if(pe){var $e=+/w$/.test(pe),sn=+/^n/.test(pe);Qt=[K[1-$e]-Xe[0],it[1-sn]-Xe[1]],Xe[0]=K[$e],Xe[1]=it[sn]}else t.event.altKey&&(Vt=Xe.slice());function mn(){t.event.keyCode==32&&(Ie||(Vt=null,Xe[0]-=K[1],Xe[1]-=it[1],Ie=2),F())}function yn(){t.event.keyCode==32&&Ie==2&&(Xe[0]+=K[1],Xe[1]+=it[1],Ie=0,F())}function Pe(){var an=t.mouse(Rt),fn=!1;Qt&&(an[0]+=Qt[0],an[1]+=Qt[1]),Ie||(t.event.altKey?(Vt||(Vt=[(K[0]+K[1])/2,(it[0]+it[1])/2]),Xe[0]=K[+(an[0]<Vt[0])],Xe[1]=it[+(an[1]<Vt[1])]):Vt=null),ve&&Qe(an,V,0)&&(Ft(Ut),fn=!0),Ee&&Qe(an,W,1)&&(Jt(Ut),fn=!0),fn&&(zt(Ut),Kt({type:"brush",mode:Ie?"move":"resize"}))}function Qe(an,fn,pn){var gn,_n,Tn=gr(fn),Mn=Tn[0],zn=Tn[1],Ln=Xe[pn],Cn=pn?it:K,jn=Cn[1]-Cn[0];if(Ie&&(Mn-=Ln,zn-=jn+Ln),gn=(pn?dt:ft)?Math.max(Mn,Math.min(zn,an[pn])):an[pn],Ie?_n=(gn+=Ln)+jn:(Vt&&(Ln=Math.max(Mn,Math.min(zn,2*Vt[pn]-gn))),Ln<gn?(_n=gn,gn=Ln):_n=Ln),Cn[0]!=gn||Cn[1]!=_n)return pn?_=null:f=null,Cn[0]=gn,Cn[1]=_n,!0}function ln(){Pe(),Ut.style("pointer-events","all").selectAll(".resize").style("display",yt.empty()?"none":null),t.select("body").style("cursor",null),on.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),We(),Kt({type:"brushend"})}Ut.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",ie.style("cursor")),Kt({type:"brushstart"}),Pe()}return yt.event=function(Vt){Vt.each(function(){var Qt=O.of(this,arguments),Rt={x:K,y:it,i:f,j:_},ie=this.__chart__||Rt;this.__chart__=Rt,Gn?t.select(this).transition().each("start.brush",function(){f=ie.i,_=ie.j,K=ie.x,it=ie.y,Qt({type:"brushstart"})}).tween("brush:brush",function(){var Kt=hr(K,Rt.x),Ut=hr(it,Rt.y);return f=_=null,function(pe){K=Rt.x=Kt(pe),it=Rt.y=Ut(pe),Qt({type:"brush",mode:"resize"})}}).each("end.brush",function(){f=Rt.i,_=Rt.j,Qt({type:"brush",mode:"resize"}),Qt({type:"brushend"})}):(Qt({type:"brushstart"}),Qt({type:"brush",mode:"resize"}),Qt({type:"brushend"}))})},yt.x=function(Vt){return arguments.length?(pt=Qr[!(V=Vt)<<1|!W],yt):V},yt.y=function(Vt){return arguments.length?(pt=Qr[!V<<1|!(W=Vt)],yt):W},yt.clamp=function(Vt){return arguments.length?(V&&W?(ft=!!Vt[0],dt=!!Vt[1]):V?ft=!!Vt:W&&(dt=!!Vt),yt):V&&W?[ft,dt]:V?ft:W?dt:null},yt.extent=function(Vt){var Qt,Rt,ie,Kt,Ut;return arguments.length?(V&&(Qt=Vt[0],Rt=Vt[1],W&&(Qt=Qt[0],Rt=Rt[0]),f=[Qt,Rt],V.invert&&(Qt=V(Qt),Rt=V(Rt)),Rt<Qt&&(Ut=Qt,Qt=Rt,Rt=Ut),Qt==K[0]&&Rt==K[1]||(K=[Qt,Rt])),W&&(ie=Vt[0],Kt=Vt[1],V&&(ie=ie[1],Kt=Kt[1]),_=[ie,Kt],W.invert&&(ie=W(ie),Kt=W(Kt)),Kt<ie&&(Ut=ie,ie=Kt,Kt=Ut),ie==it[0]&&Kt==it[1]||(it=[ie,Kt])),yt):(V&&(f?(Qt=f[0],Rt=f[1]):(Qt=K[0],Rt=K[1],V.invert&&(Qt=V.invert(Qt),Rt=V.invert(Rt)),Rt<Qt&&(Ut=Qt,Qt=Rt,Rt=Ut))),W&&(_?(ie=_[0],Kt=_[1]):(ie=it[0],Kt=it[1],W.invert&&(ie=W.invert(ie),Kt=W.invert(Kt)),Kt<ie&&(Ut=ie,ie=Kt,Kt=Ut))),V&&W?[[Qt,ie],[Rt,Kt]]:V?[Qt,Rt]:W&&[ie,Kt])},yt.clear=function(){return yt.empty()||(K=[0,0],it=[0,0],f=_=null),yt},yt.empty=function(){return!!V&&K[0]==K[1]||!!W&&it[0]==it[1]},t.rebind(yt,O,"on")};var bo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qr=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function _o(f){return JSON.parse(f.responseText)}function wo(f){var _=e.createRange();return _.selectNode(e.body),_.createContextualFragment(f.responseText)}t.text=Fe(function(f){return f.responseText}),t.json=function(f,_){return Ye(f,"application/json",_o,_)},t.html=function(f,_){return Ye(f,"text/html",wo,_)},t.xml=Fe(function(f){return f.responseXML}),typeof J=="object"&&J.exports?J.exports=t:this.d3=t}).apply(self)},{}],12:[function(c,J,N){var t,s=typeof Reflect=="object"?Reflect:null,o=s&&typeof s.apply=="function"?s.apply:function(w,b,v){return Function.prototype.apply.call(w,b,v)};t=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var e=Number.isNaN||function(w){return w!=w};function n(){n.init.call(this)}J.exports=n,J.exports.once=function(w,b){return new Promise(function(v,h){function A(){y!==void 0&&w.removeListener("error",y),v([].slice.call(arguments))}var y;b!=="error"&&(y=function(T){w.removeListener(b,A),h(T)},w.once("error",y)),w.once(b,A)})},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var l=10;function i(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function a(w){return w._maxListeners===void 0?n.defaultMaxListeners:w._maxListeners}function r(w,b,v,h){var A,y,T,k;if(i(v),(y=w._events)===void 0?(y=w._events=Object.create(null),w._eventsCount=0):(y.newListener!==void 0&&(w.emit("newListener",b,v.listener?v.listener:v),y=w._events),T=y[b]),T===void 0)T=y[b]=v,++w._eventsCount;else if(typeof T=="function"?T=y[b]=h?[v,T]:[T,v]:h?T.unshift(v):T.push(v),(A=a(w))>0&&T.length>A&&!T.warned){T.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=w,x.type=b,x.count=T.length,k=x,console&&console.warn&&console.warn(k)}return w}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(w,b,v){var h={fired:!1,wrapFn:void 0,target:w,type:b,listener:v},A=u.bind(h);return A.listener=v,h.wrapFn=A,A}function p(w,b,v){var h=w._events;if(h===void 0)return[];var A=h[b];return A===void 0?[]:typeof A=="function"?v?[A.listener||A]:[A]:v?function(y){for(var T=new Array(y.length),k=0;k<T.length;++k)T[k]=y[k].listener||y[k];return T}(A):M(A,A.length)}function m(w){var b=this._events;if(b!==void 0){var v=b[w];if(typeof v=="function")return 1;if(v!==void 0)return v.length}return 0}function M(w,b){for(var v=new Array(b),h=0;h<b;++h)v[h]=w[h];return v}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(w){if(typeof w!="number"||w<0||e(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");l=w}}),n.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||e(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},n.prototype.getMaxListeners=function(){return a(this)},n.prototype.emit=function(w){for(var b=[],v=1;v<arguments.length;v++)b.push(arguments[v]);var h=w==="error",A=this._events;if(A!==void 0)h=h&&A.error===void 0;else if(!h)return!1;if(h){var y;if(b.length>0&&(y=b[0]),y instanceof Error)throw y;var T=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw T.context=y,T}var k=A[w];if(k===void 0)return!1;if(typeof k=="function")o(k,this,b);else{var x=k.length,D=M(k,x);for(v=0;v<x;++v)o(D[v],this,b)}return!0},n.prototype.addListener=function(w,b){return r(this,w,b,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(w,b){return r(this,w,b,!0)},n.prototype.once=function(w,b){return i(b),this.on(w,d(this,w,b)),this},n.prototype.prependOnceListener=function(w,b){return i(b),this.prependListener(w,d(this,w,b)),this},n.prototype.removeListener=function(w,b){var v,h,A,y,T;if(i(b),(h=this._events)===void 0)return this;if((v=h[w])===void 0)return this;if(v===b||v.listener===b)--this._eventsCount==0?this._events=Object.create(null):(delete h[w],h.removeListener&&this.emit("removeListener",w,v.listener||b));else if(typeof v!="function"){for(A=-1,y=v.length-1;y>=0;y--)if(v[y]===b||v[y].listener===b){T=v[y].listener,A=y;break}if(A<0)return this;A===0?v.shift():function(k,x){for(;x+1<k.length;x++)k[x]=k[x+1];k.pop()}(v,A),v.length===1&&(h[w]=v[0]),h.removeListener!==void 0&&this.emit("removeListener",w,T||b)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(w){var b,v,h;if((v=this._events)===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete v[w]),this;if(arguments.length===0){var A,y=Object.keys(v);for(h=0;h<y.length;++h)(A=y[h])!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(b=v[w])=="function")this.removeListener(w,b);else if(b!==void 0)for(h=b.length-1;h>=0;h--)this.removeListener(w,b[h]);return this},n.prototype.listeners=function(w){return p(this,w,!0)},n.prototype.rawListeners=function(w){return p(this,w,!1)},n.listenerCount=function(w,b){return typeof w.listenerCount=="function"?w.listenerCount(b):m.call(w,b)},n.prototype.listenerCount=m,n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},{}],13:[function(c,J,N){(function(t,s){s(typeof N=="object"&&J!==void 0?N:(t=typeof globalThis<"u"?globalThis:t||self).d3=t.d3||{})})(this,function(t){function s(b,v){if((h=(b=v?b.toExponential(v-1):b.toExponential()).indexOf("e"))<0)return null;var h,A=b.slice(0,h);return[A.length>1?A[0]+A.slice(2):A,+b.slice(h+1)]}function o(b){return(b=s(Math.abs(b)))?b[1]:NaN}var e,n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(b){if(!(v=n.exec(b)))throw new Error("invalid format: "+b);var v;return new i({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}function i(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}function a(b,v){var h=s(b,v);if(!h)return b+"";var A=h[0],y=h[1];return y<0?"0."+new Array(-y).join("0")+A:A.length>y+1?A.slice(0,y+1)+"."+A.slice(y+1):A+new Array(y-A.length+2).join("0")}l.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var r={"%":function(b,v){return(100*b).toFixed(v)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)},e:function(b,v){return b.toExponential(v)},f:function(b,v){return b.toFixed(v)},g:function(b,v){return b.toPrecision(v)},o:function(b){return Math.round(b).toString(8)},p:function(b,v){return a(100*b,v)},r:a,s:function(b,v){var h=s(b,v);if(!h)return b+"";var A=h[0],y=h[1],T=y-(e=3*Math.max(-8,Math.min(8,Math.floor(y/3))))+1,k=A.length;return T===k?A:T>k?A+new Array(T-k+1).join("0"):T>0?A.slice(0,T)+"."+A.slice(T):"0."+new Array(1-T).join("0")+s(b,Math.max(0,v+T-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function u(b){return b}var d,p=Array.prototype.map,m=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M(b){var v,h,A=b.grouping===void 0||b.thousands===void 0?u:(v=p.call(b.grouping,Number),h=b.thousands+"",function(I,j){for(var Y=I.length,B=[],$=0,rt=v[0],q=0;Y>0&&rt>0&&(q+rt+1>j&&(rt=Math.max(1,j-q)),B.push(I.substring(Y-=rt,Y+rt)),!((q+=rt+1)>j));)rt=v[$=($+1)%v.length];return B.reverse().join(h)}),y=b.currency===void 0?"":b.currency[0]+"",T=b.currency===void 0?"":b.currency[1]+"",k=b.decimal===void 0?".":b.decimal+"",x=b.numerals===void 0?u:function(I){return function(j){return j.replace(/[0-9]/g,function(Y){return I[+Y]})}}(p.call(b.numerals,String)),D=b.percent===void 0?"%":b.percent+"",z=b.minus===void 0?"-":b.minus+"",g=b.nan===void 0?"NaN":b.nan+"";function R(I){var j=(I=l(I)).fill,Y=I.align,B=I.sign,$=I.symbol,rt=I.zero,q=I.width,H=I.comma,C=I.precision,F=I.trim,L=I.type;L==="n"?(H=!0,L="g"):r[L]||(C===void 0&&(C=12),F=!0,L="g"),(rt||j==="0"&&Y==="=")&&(rt=!0,j="0",Y="=");var X=$==="$"?y:$==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",E=$==="$"?T:/[%p]/.test(L)?D:"",Z=r[L],S=/[defgprs%]/.test(L);function U(P){var G,Q,et,tt=X,lt=E;if(L==="c")lt=Z(P)+lt,P="";else{var ct=(P=+P)<0||1/P<0;if(P=isNaN(P)?g:Z(Math.abs(P),C),F&&(P=function(St){t:for(var _t,Yt=St.length,Et=1,gt=-1;Et<Yt;++Et)switch(St[Et]){case".":gt=_t=Et;break;case"0":gt===0&&(gt=Et),_t=Et;break;default:if(!+St[Et])break t;gt>0&&(gt=0)}return gt>0?St.slice(0,gt)+St.slice(_t+1):St}(P)),ct&&+P==0&&B!=="+"&&(ct=!1),tt=(ct?B==="("?B:z:B==="-"||B==="("?"":B)+tt,lt=(L==="s"?m[8+e/3]:"")+lt+(ct&&B==="("?")":""),S){for(G=-1,Q=P.length;++G<Q;)if(48>(et=P.charCodeAt(G))||et>57){lt=(et===46?k+P.slice(G+1):P.slice(G))+lt,P=P.slice(0,G);break}}}H&&!rt&&(P=A(P,1/0));var mt=tt.length+P.length+lt.length,Mt=mt<q?new Array(q-mt+1).join(j):"";switch(H&&rt&&(P=A(Mt+P,Mt.length?q-lt.length:1/0),Mt=""),Y){case"<":P=tt+P+lt+Mt;break;case"=":P=tt+Mt+P+lt;break;case"^":P=Mt.slice(0,mt=Mt.length>>1)+tt+P+lt+Mt.slice(mt);break;default:P=Mt+tt+P+lt}return x(P)}return C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C)),U.toString=function(){return I+""},U}return{format:R,formatPrefix:function(I,j){var Y=R(((I=l(I)).type="f",I)),B=3*Math.max(-8,Math.min(8,Math.floor(o(j)/3))),$=Math.pow(10,-B),rt=m[8+B/3];return function(q){return Y($*q)+rt}}}}function w(b){return d=M(b),t.format=d.format,t.formatPrefix=d.formatPrefix,d}w({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t.FormatSpecifier=i,t.formatDefaultLocale=w,t.formatLocale=M,t.formatSpecifier=l,t.precisionFixed=function(b){return Math.max(0,-o(Math.abs(b)))},t.precisionPrefix=function(b,v){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(v)/3)))-o(Math.abs(b)))},t.precisionRound=function(b,v){return b=Math.abs(b),v=Math.abs(v)-b,Math.max(0,o(v)-o(b))+1},Object.defineProperty(t,"__esModule",{value:!0})})},{}],14:[function(c,J,N){(function(t,s){typeof N=="object"&&J!==void 0?s(N,c("d3-time")):s((t=t||self).d3=t.d3||{},t.d3)})(this,function(t,s){function o(vt){if(0<=vt.y&&vt.y<100){var bt=new Date(-1,vt.m,vt.d,vt.H,vt.M,vt.S,vt.L);return bt.setFullYear(vt.y),bt}return new Date(vt.y,vt.m,vt.d,vt.H,vt.M,vt.S,vt.L)}function e(vt){if(0<=vt.y&&vt.y<100){var bt=new Date(Date.UTC(-1,vt.m,vt.d,vt.H,vt.M,vt.S,vt.L));return bt.setUTCFullYear(vt.y),bt}return new Date(Date.UTC(vt.y,vt.m,vt.d,vt.H,vt.M,vt.S,vt.L))}function n(vt,bt,Gt){return{y:vt,m:bt,d:Gt,H:0,M:0,S:0,L:0}}function l(vt){var bt=vt.dateTime,Gt=vt.date,re=vt.time,xe=vt.periods,at=vt.days,st=vt.shortDays,Lt=vt.months,Ct=vt.shortMonths,Nt=M(xe),Pt=w(xe),jt=M(at),$t=w(at),ne=M(st),se=w(st),Wt=M(Lt),ae=w(Lt),ce=M(Ct),be=w(Ct),he={a:function(oe){return st[oe.getDay()]},A:function(oe){return at[oe.getDay()]},b:function(oe){return Ct[oe.getMonth()]},B:function(oe){return Lt[oe.getMonth()]},c:null,d:C,e:C,f:Z,H:F,I:L,j:X,L:E,m:S,M:U,p:function(oe){return xe[+(oe.getHours()>=12)]},q:function(oe){return 1+~~(oe.getMonth()/3)},Q:Bt,s:Zt,S:P,u:G,U:Q,V:et,w:tt,W:lt,x:null,X:null,y:ct,Y:mt,Z:Mt,"%":kt},me={a:function(oe){return st[oe.getUTCDay()]},A:function(oe){return at[oe.getUTCDay()]},b:function(oe){return Ct[oe.getUTCMonth()]},B:function(oe){return Lt[oe.getUTCMonth()]},c:null,d:St,e:St,f:ot,H:_t,I:Yt,j:Et,L:gt,m:nt,M:ut,p:function(oe){return xe[+(oe.getUTCHours()>=12)]},q:function(oe){return 1+~~(oe.getUTCMonth()/3)},Q:Bt,s:Zt,S:ht,u:Dt,U:Tt,V:xt,w:Ot,W:It,x:null,X:null,y:wt,Y:At,Z:Xt,"%":kt},le={a:function(oe,de,Ae){var ye=ne.exec(de.slice(Ae));return ye?(oe.w=se[ye[0].toLowerCase()],Ae+ye[0].length):-1},A:function(oe,de,Ae){var ye=jt.exec(de.slice(Ae));return ye?(oe.w=$t[ye[0].toLowerCase()],Ae+ye[0].length):-1},b:function(oe,de,Ae){var ye=ce.exec(de.slice(Ae));return ye?(oe.m=be[ye[0].toLowerCase()],Ae+ye[0].length):-1},B:function(oe,de,Ae){var ye=Wt.exec(de.slice(Ae));return ye?(oe.m=ae[ye[0].toLowerCase()],Ae+ye[0].length):-1},c:function(oe,de,Ae){return ge(oe,bt,de,Ae)},d:g,e:g,f:$,H:I,I,j:R,L:B,m:z,M:j,p:function(oe,de,Ae){var ye=Nt.exec(de.slice(Ae));return ye?(oe.p=Pt[ye[0].toLowerCase()],Ae+ye[0].length):-1},q:D,Q:q,s:H,S:Y,u:v,U:h,V:A,w:b,W:y,x:function(oe,de,Ae){return ge(oe,Gt,de,Ae)},X:function(oe,de,Ae){return ge(oe,re,de,Ae)},y:k,Y:T,Z:x,"%":rt};function Te(oe,de){return function(Ae){var ye,Ce,ue,Re=[],De=-1,Oe=0,Ne=oe.length;for(Ae instanceof Date||(Ae=new Date(+Ae));++De<Ne;)oe.charCodeAt(De)===37&&(Re.push(oe.slice(Oe,De)),(Ce=a[ye=oe.charAt(++De)])!=null?ye=oe.charAt(++De):Ce=ye==="e"?" ":"0",(ue=de[ye])&&(ye=ue(Ae,Ce)),Re.push(ye),Oe=De+1);return Re.push(oe.slice(Oe,De)),Re.join("")}}function Me(oe,de){return function(Ae){var ye,Ce,ue=n(1900,void 0,1);if(ge(ue,oe,Ae+="",0)!=Ae.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(1e3*ue.s+("L"in ue?ue.L:0));if(de&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+12*ue.p),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ce=(ye=e(n(ue.y,0,1))).getUTCDay(),ye=Ce>4||Ce===0?s.utcMonday.ceil(ye):s.utcMonday(ye),ye=s.utcDay.offset(ye,7*(ue.V-1)),ue.y=ye.getUTCFullYear(),ue.m=ye.getUTCMonth(),ue.d=ye.getUTCDate()+(ue.w+6)%7):(Ce=(ye=o(n(ue.y,0,1))).getDay(),ye=Ce>4||Ce===0?s.timeMonday.ceil(ye):s.timeMonday(ye),ye=s.timeDay.offset(ye,7*(ue.V-1)),ue.y=ye.getFullYear(),ue.m=ye.getMonth(),ue.d=ye.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ce="Z"in ue?e(n(ue.y,0,1)).getUTCDay():o(n(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+7*ue.W-(Ce+5)%7:ue.w+7*ue.U-(Ce+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,e(ue)):o(ue)}}function ge(oe,de,Ae,ye){for(var Ce,ue,Re=0,De=de.length,Oe=Ae.length;Re<De;){if(ye>=Oe)return-1;if((Ce=de.charCodeAt(Re++))===37){if(Ce=de.charAt(Re++),!(ue=le[Ce in a?de.charAt(Re++):Ce])||(ye=ue(oe,Ae,ye))<0)return-1}else if(Ce!=Ae.charCodeAt(ye++))return-1}return ye}return he.x=Te(Gt,he),he.X=Te(re,he),he.c=Te(bt,he),me.x=Te(Gt,me),me.X=Te(re,me),me.c=Te(bt,me),{format:function(oe){var de=Te(oe+="",he);return de.toString=function(){return oe},de},parse:function(oe){var de=Me(oe+="",!1);return de.toString=function(){return oe},de},utcFormat:function(oe){var de=Te(oe+="",me);return de.toString=function(){return oe},de},utcParse:function(oe){var de=Me(oe+="",!0);return de.toString=function(){return oe},de}}}var i,a={"-":"",_:" ",0:"0"},r=/^\s*\d+/,u=/^%/,d=/[\\^$*+?|[\]().{}]/g;function p(vt,bt,Gt){var re=vt<0?"-":"",xe=(re?-vt:vt)+"",at=xe.length;return re+(at<Gt?new Array(Gt-at+1).join(bt)+xe:xe)}function m(vt){return vt.replace(d,"\\$&")}function M(vt){return new RegExp("^(?:"+vt.map(m).join("|")+")","i")}function w(vt){for(var bt={},Gt=-1,re=vt.length;++Gt<re;)bt[vt[Gt].toLowerCase()]=Gt;return bt}function b(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+1));return re?(vt.w=+re[0],Gt+re[0].length):-1}function v(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+1));return re?(vt.u=+re[0],Gt+re[0].length):-1}function h(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.U=+re[0],Gt+re[0].length):-1}function A(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.V=+re[0],Gt+re[0].length):-1}function y(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.W=+re[0],Gt+re[0].length):-1}function T(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+4));return re?(vt.y=+re[0],Gt+re[0].length):-1}function k(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.y=+re[0]+(+re[0]>68?1900:2e3),Gt+re[0].length):-1}function x(vt,bt,Gt){var re=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(bt.slice(Gt,Gt+6));return re?(vt.Z=re[1]?0:-(re[2]+(re[3]||"00")),Gt+re[0].length):-1}function D(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+1));return re?(vt.q=3*re[0]-3,Gt+re[0].length):-1}function z(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.m=re[0]-1,Gt+re[0].length):-1}function g(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.d=+re[0],Gt+re[0].length):-1}function R(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+3));return re?(vt.m=0,vt.d=+re[0],Gt+re[0].length):-1}function I(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.H=+re[0],Gt+re[0].length):-1}function j(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.M=+re[0],Gt+re[0].length):-1}function Y(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+2));return re?(vt.S=+re[0],Gt+re[0].length):-1}function B(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+3));return re?(vt.L=+re[0],Gt+re[0].length):-1}function $(vt,bt,Gt){var re=r.exec(bt.slice(Gt,Gt+6));return re?(vt.L=Math.floor(re[0]/1e3),Gt+re[0].length):-1}function rt(vt,bt,Gt){var re=u.exec(bt.slice(Gt,Gt+1));return re?Gt+re[0].length:-1}function q(vt,bt,Gt){var re=r.exec(bt.slice(Gt));return re?(vt.Q=+re[0],Gt+re[0].length):-1}function H(vt,bt,Gt){var re=r.exec(bt.slice(Gt));return re?(vt.s=+re[0],Gt+re[0].length):-1}function C(vt,bt){return p(vt.getDate(),bt,2)}function F(vt,bt){return p(vt.getHours(),bt,2)}function L(vt,bt){return p(vt.getHours()%12||12,bt,2)}function X(vt,bt){return p(1+s.timeDay.count(s.timeYear(vt),vt),bt,3)}function E(vt,bt){return p(vt.getMilliseconds(),bt,3)}function Z(vt,bt){return E(vt,bt)+"000"}function S(vt,bt){return p(vt.getMonth()+1,bt,2)}function U(vt,bt){return p(vt.getMinutes(),bt,2)}function P(vt,bt){return p(vt.getSeconds(),bt,2)}function G(vt){var bt=vt.getDay();return bt===0?7:bt}function Q(vt,bt){return p(s.timeSunday.count(s.timeYear(vt)-1,vt),bt,2)}function et(vt,bt){var Gt=vt.getDay();return vt=Gt>=4||Gt===0?s.timeThursday(vt):s.timeThursday.ceil(vt),p(s.timeThursday.count(s.timeYear(vt),vt)+(s.timeYear(vt).getDay()===4),bt,2)}function tt(vt){return vt.getDay()}function lt(vt,bt){return p(s.timeMonday.count(s.timeYear(vt)-1,vt),bt,2)}function ct(vt,bt){return p(vt.getFullYear()%100,bt,2)}function mt(vt,bt){return p(vt.getFullYear()%1e4,bt,4)}function Mt(vt){var bt=vt.getTimezoneOffset();return(bt>0?"-":(bt*=-1,"+"))+p(bt/60|0,"0",2)+p(bt%60,"0",2)}function St(vt,bt){return p(vt.getUTCDate(),bt,2)}function _t(vt,bt){return p(vt.getUTCHours(),bt,2)}function Yt(vt,bt){return p(vt.getUTCHours()%12||12,bt,2)}function Et(vt,bt){return p(1+s.utcDay.count(s.utcYear(vt),vt),bt,3)}function gt(vt,bt){return p(vt.getUTCMilliseconds(),bt,3)}function ot(vt,bt){return gt(vt,bt)+"000"}function nt(vt,bt){return p(vt.getUTCMonth()+1,bt,2)}function ut(vt,bt){return p(vt.getUTCMinutes(),bt,2)}function ht(vt,bt){return p(vt.getUTCSeconds(),bt,2)}function Dt(vt){var bt=vt.getUTCDay();return bt===0?7:bt}function Tt(vt,bt){return p(s.utcSunday.count(s.utcYear(vt)-1,vt),bt,2)}function xt(vt,bt){var Gt=vt.getUTCDay();return vt=Gt>=4||Gt===0?s.utcThursday(vt):s.utcThursday.ceil(vt),p(s.utcThursday.count(s.utcYear(vt),vt)+(s.utcYear(vt).getUTCDay()===4),bt,2)}function Ot(vt){return vt.getUTCDay()}function It(vt,bt){return p(s.utcMonday.count(s.utcYear(vt)-1,vt),bt,2)}function wt(vt,bt){return p(vt.getUTCFullYear()%100,bt,2)}function At(vt,bt){return p(vt.getUTCFullYear()%1e4,bt,4)}function Xt(){return"+0000"}function kt(){return"%"}function Bt(vt){return+vt}function Zt(vt){return Math.floor(+vt/1e3)}function Ht(vt){return i=l(vt),t.timeFormat=i.format,t.timeParse=i.parse,t.utcFormat=i.utcFormat,t.utcParse=i.utcParse,i}Ht({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ee=Date.prototype.toISOString?function(vt){return vt.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),qt=+new Date("2000-01-01T00:00:00.000Z")?function(vt){var bt=new Date(vt);return isNaN(bt)?null:bt}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.isoFormat=ee,t.isoParse=qt,t.timeFormatDefaultLocale=Ht,t.timeFormatLocale=l,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":15}],15:[function(c,J,N){(function(t,s){s(typeof N=="object"&&J!==void 0?N:(t=t||self).d3=t.d3||{})})(this,function(t){var s=new Date,o=new Date;function e(nt,ut,ht,Dt){function Tt(xt){return nt(xt=arguments.length===0?new Date:new Date(+xt)),xt}return Tt.floor=function(xt){return nt(xt=new Date(+xt)),xt},Tt.ceil=function(xt){return nt(xt=new Date(xt-1)),ut(xt,1),nt(xt),xt},Tt.round=function(xt){var Ot=Tt(xt),It=Tt.ceil(xt);return xt-Ot<It-xt?Ot:It},Tt.offset=function(xt,Ot){return ut(xt=new Date(+xt),Ot==null?1:Math.floor(Ot)),xt},Tt.range=function(xt,Ot,It){var wt,At=[];if(xt=Tt.ceil(xt),It=It==null?1:Math.floor(It),!(xt<Ot&&It>0))return At;do At.push(wt=new Date(+xt)),ut(xt,It),nt(xt);while(wt<xt&&xt<Ot);return At},Tt.filter=function(xt){return e(function(Ot){if(Ot>=Ot)for(;nt(Ot),!xt(Ot);)Ot.setTime(Ot-1)},function(Ot,It){if(Ot>=Ot)if(It<0)for(;++It<=0;)for(;ut(Ot,-1),!xt(Ot););else for(;--It>=0;)for(;ut(Ot,1),!xt(Ot););})},ht&&(Tt.count=function(xt,Ot){return s.setTime(+xt),o.setTime(+Ot),nt(s),nt(o),Math.floor(ht(s,o))},Tt.every=function(xt){return xt=Math.floor(xt),isFinite(xt)&&xt>0?xt>1?Tt.filter(Dt?function(Ot){return Dt(Ot)%xt==0}:function(Ot){return Tt.count(0,Ot)%xt==0}):Tt:null}),Tt}var n=e(function(){},function(nt,ut){nt.setTime(+nt+ut)},function(nt,ut){return ut-nt});n.every=function(nt){return nt=Math.floor(nt),isFinite(nt)&&nt>0?nt>1?e(function(ut){ut.setTime(Math.floor(ut/nt)*nt)},function(ut,ht){ut.setTime(+ut+ht*nt)},function(ut,ht){return(ht-ut)/nt}):n:null};var l=n.range,i=e(function(nt){nt.setTime(nt-nt.getMilliseconds())},function(nt,ut){nt.setTime(+nt+1e3*ut)},function(nt,ut){return(ut-nt)/1e3},function(nt){return nt.getUTCSeconds()}),a=i.range,r=e(function(nt){nt.setTime(nt-nt.getMilliseconds()-1e3*nt.getSeconds())},function(nt,ut){nt.setTime(+nt+6e4*ut)},function(nt,ut){return(ut-nt)/6e4},function(nt){return nt.getMinutes()}),u=r.range,d=e(function(nt){nt.setTime(nt-nt.getMilliseconds()-1e3*nt.getSeconds()-6e4*nt.getMinutes())},function(nt,ut){nt.setTime(+nt+36e5*ut)},function(nt,ut){return(ut-nt)/36e5},function(nt){return nt.getHours()}),p=d.range,m=e(function(nt){nt.setHours(0,0,0,0)},function(nt,ut){nt.setDate(nt.getDate()+ut)},function(nt,ut){return(ut-nt-6e4*(ut.getTimezoneOffset()-nt.getTimezoneOffset()))/864e5},function(nt){return nt.getDate()-1}),M=m.range;function w(nt){return e(function(ut){ut.setDate(ut.getDate()-(ut.getDay()+7-nt)%7),ut.setHours(0,0,0,0)},function(ut,ht){ut.setDate(ut.getDate()+7*ht)},function(ut,ht){return(ht-ut-6e4*(ht.getTimezoneOffset()-ut.getTimezoneOffset()))/6048e5})}var b=w(0),v=w(1),h=w(2),A=w(3),y=w(4),T=w(5),k=w(6),x=b.range,D=v.range,z=h.range,g=A.range,R=y.range,I=T.range,j=k.range,Y=e(function(nt){nt.setDate(1),nt.setHours(0,0,0,0)},function(nt,ut){nt.setMonth(nt.getMonth()+ut)},function(nt,ut){return ut.getMonth()-nt.getMonth()+12*(ut.getFullYear()-nt.getFullYear())},function(nt){return nt.getMonth()}),B=Y.range,$=e(function(nt){nt.setMonth(0,1),nt.setHours(0,0,0,0)},function(nt,ut){nt.setFullYear(nt.getFullYear()+ut)},function(nt,ut){return ut.getFullYear()-nt.getFullYear()},function(nt){return nt.getFullYear()});$.every=function(nt){return isFinite(nt=Math.floor(nt))&&nt>0?e(function(ut){ut.setFullYear(Math.floor(ut.getFullYear()/nt)*nt),ut.setMonth(0,1),ut.setHours(0,0,0,0)},function(ut,ht){ut.setFullYear(ut.getFullYear()+ht*nt)}):null};var rt=$.range,q=e(function(nt){nt.setUTCSeconds(0,0)},function(nt,ut){nt.setTime(+nt+6e4*ut)},function(nt,ut){return(ut-nt)/6e4},function(nt){return nt.getUTCMinutes()}),H=q.range,C=e(function(nt){nt.setUTCMinutes(0,0,0)},function(nt,ut){nt.setTime(+nt+36e5*ut)},function(nt,ut){return(ut-nt)/36e5},function(nt){return nt.getUTCHours()}),F=C.range,L=e(function(nt){nt.setUTCHours(0,0,0,0)},function(nt,ut){nt.setUTCDate(nt.getUTCDate()+ut)},function(nt,ut){return(ut-nt)/864e5},function(nt){return nt.getUTCDate()-1}),X=L.range;function E(nt){return e(function(ut){ut.setUTCDate(ut.getUTCDate()-(ut.getUTCDay()+7-nt)%7),ut.setUTCHours(0,0,0,0)},function(ut,ht){ut.setUTCDate(ut.getUTCDate()+7*ht)},function(ut,ht){return(ht-ut)/6048e5})}var Z=E(0),S=E(1),U=E(2),P=E(3),G=E(4),Q=E(5),et=E(6),tt=Z.range,lt=S.range,ct=U.range,mt=P.range,Mt=G.range,St=Q.range,_t=et.range,Yt=e(function(nt){nt.setUTCDate(1),nt.setUTCHours(0,0,0,0)},function(nt,ut){nt.setUTCMonth(nt.getUTCMonth()+ut)},function(nt,ut){return ut.getUTCMonth()-nt.getUTCMonth()+12*(ut.getUTCFullYear()-nt.getUTCFullYear())},function(nt){return nt.getUTCMonth()}),Et=Yt.range,gt=e(function(nt){nt.setUTCMonth(0,1),nt.setUTCHours(0,0,0,0)},function(nt,ut){nt.setUTCFullYear(nt.getUTCFullYear()+ut)},function(nt,ut){return ut.getUTCFullYear()-nt.getUTCFullYear()},function(nt){return nt.getUTCFullYear()});gt.every=function(nt){return isFinite(nt=Math.floor(nt))&&nt>0?e(function(ut){ut.setUTCFullYear(Math.floor(ut.getUTCFullYear()/nt)*nt),ut.setUTCMonth(0,1),ut.setUTCHours(0,0,0,0)},function(ut,ht){ut.setUTCFullYear(ut.getUTCFullYear()+ht*nt)}):null};var ot=gt.range;t.timeDay=m,t.timeDays=M,t.timeFriday=T,t.timeFridays=I,t.timeHour=d,t.timeHours=p,t.timeInterval=e,t.timeMillisecond=n,t.timeMilliseconds=l,t.timeMinute=r,t.timeMinutes=u,t.timeMonday=v,t.timeMondays=D,t.timeMonth=Y,t.timeMonths=B,t.timeSaturday=k,t.timeSaturdays=j,t.timeSecond=i,t.timeSeconds=a,t.timeSunday=b,t.timeSundays=x,t.timeThursday=y,t.timeThursdays=R,t.timeTuesday=h,t.timeTuesdays=z,t.timeWednesday=A,t.timeWednesdays=g,t.timeWeek=b,t.timeWeeks=x,t.timeYear=$,t.timeYears=rt,t.utcDay=L,t.utcDays=X,t.utcFriday=Q,t.utcFridays=St,t.utcHour=C,t.utcHours=F,t.utcMillisecond=n,t.utcMilliseconds=l,t.utcMinute=q,t.utcMinutes=H,t.utcMonday=S,t.utcMondays=lt,t.utcMonth=Yt,t.utcMonths=Et,t.utcSaturday=et,t.utcSaturdays=_t,t.utcSecond=i,t.utcSeconds=a,t.utcSunday=Z,t.utcSundays=tt,t.utcThursday=G,t.utcThursdays=Mt,t.utcTuesday=U,t.utcTuesdays=ct,t.utcWednesday=P,t.utcWednesdays=mt,t.utcWeek=Z,t.utcWeeks=tt,t.utcYear=gt,t.utcYears=ot,Object.defineProperty(t,"__esModule",{value:!0})})},{}],16:[function(c,J,N){arguments[4][15][0].apply(N,arguments)},{dup:15}],17:[function(c,J,N){var t=c("is-string-blank");J.exports=function(s){var o=typeof s;if(o==="string"){var e=s;if((s=+s)==0&&t(e))return!1}else if(o!=="number")return!1;return s-s<1}},{"is-string-blank":52}],18:[function(c,J,N){J.exports=function(t,s){var o=s[0],e=s[1],n=s[2],l=s[3],i=s[4],a=s[5],r=s[6],u=s[7],d=s[8],p=s[9],m=s[10],M=s[11],w=s[12],b=s[13],v=s[14],h=s[15];return t[0]=a*(m*h-M*v)-p*(r*h-u*v)+b*(r*M-u*m),t[1]=-(e*(m*h-M*v)-p*(n*h-l*v)+b*(n*M-l*m)),t[2]=e*(r*h-u*v)-a*(n*h-l*v)+b*(n*u-l*r),t[3]=-(e*(r*M-u*m)-a*(n*M-l*m)+p*(n*u-l*r)),t[4]=-(i*(m*h-M*v)-d*(r*h-u*v)+w*(r*M-u*m)),t[5]=o*(m*h-M*v)-d*(n*h-l*v)+w*(n*M-l*m),t[6]=-(o*(r*h-u*v)-i*(n*h-l*v)+w*(n*u-l*r)),t[7]=o*(r*M-u*m)-i*(n*M-l*m)+d*(n*u-l*r),t[8]=i*(p*h-M*b)-d*(a*h-u*b)+w*(a*M-u*p),t[9]=-(o*(p*h-M*b)-d*(e*h-l*b)+w*(e*M-l*p)),t[10]=o*(a*h-u*b)-i*(e*h-l*b)+w*(e*u-l*a),t[11]=-(o*(a*M-u*p)-i*(e*M-l*p)+d*(e*u-l*a)),t[12]=-(i*(p*v-m*b)-d*(a*v-r*b)+w*(a*m-r*p)),t[13]=o*(p*v-m*b)-d*(e*v-n*b)+w*(e*m-n*p),t[14]=-(o*(a*v-r*b)-i*(e*v-n*b)+w*(e*r-n*a)),t[15]=o*(a*m-r*p)-i*(e*m-n*p)+d*(e*r-n*a),t}},{}],19:[function(c,J,N){J.exports=function(t){var s=new Float32Array(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},{}],20:[function(c,J,N){J.exports=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},{}],21:[function(c,J,N){J.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],22:[function(c,J,N){J.exports=function(t){var s=t[0],o=t[1],e=t[2],n=t[3],l=t[4],i=t[5],a=t[6],r=t[7],u=t[8],d=t[9],p=t[10],m=t[11],M=t[12],w=t[13],b=t[14],v=t[15];return(s*i-o*l)*(p*v-m*b)-(s*a-e*l)*(d*v-m*w)+(s*r-n*l)*(d*b-p*w)+(o*a-e*i)*(u*v-m*M)-(o*r-n*i)*(u*b-p*M)+(e*r-n*a)*(u*w-d*M)}},{}],23:[function(c,J,N){J.exports=function(t,s){var o=s[0],e=s[1],n=s[2],l=s[3],i=o+o,a=e+e,r=n+n,u=o*i,d=e*i,p=e*a,m=n*i,M=n*a,w=n*r,b=l*i,v=l*a,h=l*r;return t[0]=1-p-w,t[1]=d+h,t[2]=m-v,t[3]=0,t[4]=d-h,t[5]=1-u-w,t[6]=M+b,t[7]=0,t[8]=m+v,t[9]=M-b,t[10]=1-u-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],24:[function(c,J,N){J.exports=function(t,s,o){var e,n,l,i=o[0],a=o[1],r=o[2],u=Math.sqrt(i*i+a*a+r*r);return Math.abs(u)<1e-6?null:(i*=u=1/u,a*=u,r*=u,e=Math.sin(s),n=Math.cos(s),l=1-n,t[0]=i*i*l+n,t[1]=a*i*l+r*e,t[2]=r*i*l-a*e,t[3]=0,t[4]=i*a*l-r*e,t[5]=a*a*l+n,t[6]=r*a*l+i*e,t[7]=0,t[8]=i*r*l+a*e,t[9]=a*r*l-i*e,t[10]=r*r*l+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},{}],25:[function(c,J,N){J.exports=function(t,s,o){var e=s[0],n=s[1],l=s[2],i=s[3],a=e+e,r=n+n,u=l+l,d=e*a,p=e*r,m=e*u,M=n*r,w=n*u,b=l*u,v=i*a,h=i*r,A=i*u;return t[0]=1-(M+b),t[1]=p+A,t[2]=m-h,t[3]=0,t[4]=p-A,t[5]=1-(d+b),t[6]=w+v,t[7]=0,t[8]=m+h,t[9]=w-v,t[10]=1-(d+M),t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t}},{}],26:[function(c,J,N){J.exports=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],27:[function(c,J,N){J.exports=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}},{}],28:[function(c,J,N){J.exports=function(t,s){var o=Math.sin(s),e=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=o,t[7]=0,t[8]=0,t[9]=-o,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],29:[function(c,J,N){J.exports=function(t,s){var o=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=0,t[2]=-o,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=o,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],30:[function(c,J,N){J.exports=function(t,s){var o=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=o,t[2]=0,t[3]=0,t[4]=-o,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],31:[function(c,J,N){J.exports=function(t,s,o,e,n,l,i){var a=1/(o-s),r=1/(n-e),u=1/(l-i);return t[0]=2*l*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*l*r,t[6]=0,t[7]=0,t[8]=(o+s)*a,t[9]=(n+e)*r,t[10]=(i+l)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*l*2*u,t[15]=0,t}},{}],32:[function(c,J,N){J.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],33:[function(c,J,N){J.exports={create:c("./create"),clone:c("./clone"),copy:c("./copy"),identity:c("./identity"),transpose:c("./transpose"),invert:c("./invert"),adjoint:c("./adjoint"),determinant:c("./determinant"),multiply:c("./multiply"),translate:c("./translate"),scale:c("./scale"),rotate:c("./rotate"),rotateX:c("./rotateX"),rotateY:c("./rotateY"),rotateZ:c("./rotateZ"),fromRotation:c("./fromRotation"),fromRotationTranslation:c("./fromRotationTranslation"),fromScaling:c("./fromScaling"),fromTranslation:c("./fromTranslation"),fromXRotation:c("./fromXRotation"),fromYRotation:c("./fromYRotation"),fromZRotation:c("./fromZRotation"),fromQuat:c("./fromQuat"),frustum:c("./frustum"),perspective:c("./perspective"),perspectiveFromFieldOfView:c("./perspectiveFromFieldOfView"),ortho:c("./ortho"),lookAt:c("./lookAt"),str:c("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(c,J,N){J.exports=function(t,s){var o=s[0],e=s[1],n=s[2],l=s[3],i=s[4],a=s[5],r=s[6],u=s[7],d=s[8],p=s[9],m=s[10],M=s[11],w=s[12],b=s[13],v=s[14],h=s[15],A=o*a-e*i,y=o*r-n*i,T=o*u-l*i,k=e*r-n*a,x=e*u-l*a,D=n*u-l*r,z=d*b-p*w,g=d*v-m*w,R=d*h-M*w,I=p*v-m*b,j=p*h-M*b,Y=m*h-M*v,B=A*Y-y*j+T*I+k*R-x*g+D*z;return B?(B=1/B,t[0]=(a*Y-r*j+u*I)*B,t[1]=(n*j-e*Y-l*I)*B,t[2]=(b*D-v*x+h*k)*B,t[3]=(m*x-p*D-M*k)*B,t[4]=(r*R-i*Y-u*g)*B,t[5]=(o*Y-n*R+l*g)*B,t[6]=(v*T-w*D-h*y)*B,t[7]=(d*D-m*T+M*y)*B,t[8]=(i*j-a*R+u*z)*B,t[9]=(e*R-o*j-l*z)*B,t[10]=(w*x-b*T+h*A)*B,t[11]=(p*T-d*x-M*A)*B,t[12]=(a*g-i*I-r*z)*B,t[13]=(o*I-e*g+n*z)*B,t[14]=(b*y-w*k-v*A)*B,t[15]=(d*k-p*y+m*A)*B,t):null}},{}],35:[function(c,J,N){var t=c("./identity");J.exports=function(s,o,e,n){var l,i,a,r,u,d,p,m,M,w,b=o[0],v=o[1],h=o[2],A=n[0],y=n[1],T=n[2],k=e[0],x=e[1],D=e[2];return Math.abs(b-k)<1e-6&&Math.abs(v-x)<1e-6&&Math.abs(h-D)<1e-6?t(s):(p=b-k,m=v-x,M=h-D,w=1/Math.sqrt(p*p+m*m+M*M),l=y*(M*=w)-T*(m*=w),i=T*(p*=w)-A*M,a=A*m-y*p,(w=Math.sqrt(l*l+i*i+a*a))?(l*=w=1/w,i*=w,a*=w):(l=0,i=0,a=0),r=m*a-M*i,u=M*l-p*a,d=p*i-m*l,(w=Math.sqrt(r*r+u*u+d*d))?(r*=w=1/w,u*=w,d*=w):(r=0,u=0,d=0),s[0]=l,s[1]=r,s[2]=p,s[3]=0,s[4]=i,s[5]=u,s[6]=m,s[7]=0,s[8]=a,s[9]=d,s[10]=M,s[11]=0,s[12]=-(l*b+i*v+a*h),s[13]=-(r*b+u*v+d*h),s[14]=-(p*b+m*v+M*h),s[15]=1,s)}},{"./identity":32}],36:[function(c,J,N){J.exports=function(t,s,o){var e=s[0],n=s[1],l=s[2],i=s[3],a=s[4],r=s[5],u=s[6],d=s[7],p=s[8],m=s[9],M=s[10],w=s[11],b=s[12],v=s[13],h=s[14],A=s[15],y=o[0],T=o[1],k=o[2],x=o[3];return t[0]=y*e+T*a+k*p+x*b,t[1]=y*n+T*r+k*m+x*v,t[2]=y*l+T*u+k*M+x*h,t[3]=y*i+T*d+k*w+x*A,y=o[4],T=o[5],k=o[6],x=o[7],t[4]=y*e+T*a+k*p+x*b,t[5]=y*n+T*r+k*m+x*v,t[6]=y*l+T*u+k*M+x*h,t[7]=y*i+T*d+k*w+x*A,y=o[8],T=o[9],k=o[10],x=o[11],t[8]=y*e+T*a+k*p+x*b,t[9]=y*n+T*r+k*m+x*v,t[10]=y*l+T*u+k*M+x*h,t[11]=y*i+T*d+k*w+x*A,y=o[12],T=o[13],k=o[14],x=o[15],t[12]=y*e+T*a+k*p+x*b,t[13]=y*n+T*r+k*m+x*v,t[14]=y*l+T*u+k*M+x*h,t[15]=y*i+T*d+k*w+x*A,t}},{}],37:[function(c,J,N){J.exports=function(t,s,o,e,n,l,i){var a=1/(s-o),r=1/(e-n),u=1/(l-i);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(s+o)*a,t[13]=(n+e)*r,t[14]=(i+l)*u,t[15]=1,t}},{}],38:[function(c,J,N){J.exports=function(t,s,o,e,n){var l=1/Math.tan(s/2),i=1/(e-n);return t[0]=l/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+e)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*e*i,t[15]=0,t}},{}],39:[function(c,J,N){J.exports=function(t,s,o,e){var n=Math.tan(s.upDegrees*Math.PI/180),l=Math.tan(s.downDegrees*Math.PI/180),i=Math.tan(s.leftDegrees*Math.PI/180),a=Math.tan(s.rightDegrees*Math.PI/180),r=2/(i+a),u=2/(n+l);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(i-a)*r*.5,t[9]=(n-l)*u*.5,t[10]=e/(o-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*o/(o-e),t[15]=0,t}},{}],40:[function(c,J,N){J.exports=function(t,s,o,e){var n,l,i,a,r,u,d,p,m,M,w,b,v,h,A,y,T,k,x,D,z,g,R,I,j=e[0],Y=e[1],B=e[2],$=Math.sqrt(j*j+Y*Y+B*B);return Math.abs($)<1e-6?null:(j*=$=1/$,Y*=$,B*=$,n=Math.sin(o),l=Math.cos(o),i=1-l,a=s[0],r=s[1],u=s[2],d=s[3],p=s[4],m=s[5],M=s[6],w=s[7],b=s[8],v=s[9],h=s[10],A=s[11],y=j*j*i+l,T=Y*j*i+B*n,k=B*j*i-Y*n,x=j*Y*i-B*n,D=Y*Y*i+l,z=B*Y*i+j*n,g=j*B*i+Y*n,R=Y*B*i-j*n,I=B*B*i+l,t[0]=a*y+p*T+b*k,t[1]=r*y+m*T+v*k,t[2]=u*y+M*T+h*k,t[3]=d*y+w*T+A*k,t[4]=a*x+p*D+b*z,t[5]=r*x+m*D+v*z,t[6]=u*x+M*D+h*z,t[7]=d*x+w*D+A*z,t[8]=a*g+p*R+b*I,t[9]=r*g+m*R+v*I,t[10]=u*g+M*R+h*I,t[11]=d*g+w*R+A*I,s!==t&&(t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t)}},{}],41:[function(c,J,N){J.exports=function(t,s,o){var e=Math.sin(o),n=Math.cos(o),l=s[4],i=s[5],a=s[6],r=s[7],u=s[8],d=s[9],p=s[10],m=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=l*n+u*e,t[5]=i*n+d*e,t[6]=a*n+p*e,t[7]=r*n+m*e,t[8]=u*n-l*e,t[9]=d*n-i*e,t[10]=p*n-a*e,t[11]=m*n-r*e,t}},{}],42:[function(c,J,N){J.exports=function(t,s,o){var e=Math.sin(o),n=Math.cos(o),l=s[0],i=s[1],a=s[2],r=s[3],u=s[8],d=s[9],p=s[10],m=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=l*n-u*e,t[1]=i*n-d*e,t[2]=a*n-p*e,t[3]=r*n-m*e,t[8]=l*e+u*n,t[9]=i*e+d*n,t[10]=a*e+p*n,t[11]=r*e+m*n,t}},{}],43:[function(c,J,N){J.exports=function(t,s,o){var e=Math.sin(o),n=Math.cos(o),l=s[0],i=s[1],a=s[2],r=s[3],u=s[4],d=s[5],p=s[6],m=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=l*n+u*e,t[1]=i*n+d*e,t[2]=a*n+p*e,t[3]=r*n+m*e,t[4]=u*n-l*e,t[5]=d*n-i*e,t[6]=p*n-a*e,t[7]=m*n-r*e,t}},{}],44:[function(c,J,N){J.exports=function(t,s,o){var e=o[0],n=o[1],l=o[2];return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*n,t[5]=s[5]*n,t[6]=s[6]*n,t[7]=s[7]*n,t[8]=s[8]*l,t[9]=s[9]*l,t[10]=s[10]*l,t[11]=s[11]*l,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},{}],45:[function(c,J,N){J.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},{}],46:[function(c,J,N){J.exports=function(t,s,o){var e,n,l,i,a,r,u,d,p,m,M,w,b=o[0],v=o[1],h=o[2];return s===t?(t[12]=s[0]*b+s[4]*v+s[8]*h+s[12],t[13]=s[1]*b+s[5]*v+s[9]*h+s[13],t[14]=s[2]*b+s[6]*v+s[10]*h+s[14],t[15]=s[3]*b+s[7]*v+s[11]*h+s[15]):(e=s[0],n=s[1],l=s[2],i=s[3],a=s[4],r=s[5],u=s[6],d=s[7],p=s[8],m=s[9],M=s[10],w=s[11],t[0]=e,t[1]=n,t[2]=l,t[3]=i,t[4]=a,t[5]=r,t[6]=u,t[7]=d,t[8]=p,t[9]=m,t[10]=M,t[11]=w,t[12]=e*b+a*v+p*h+s[12],t[13]=n*b+r*v+m*h+s[13],t[14]=l*b+u*v+M*h+s[14],t[15]=i*b+d*v+w*h+s[15]),t}},{}],47:[function(c,J,N){J.exports=function(t,s){if(t===s){var o=s[1],e=s[2],n=s[3],l=s[6],i=s[7],a=s[11];t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=o,t[6]=s[9],t[7]=s[13],t[8]=e,t[9]=l,t[11]=s[14],t[12]=n,t[13]=i,t[14]=a}else t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15];return t}},{}],48:[function(c,J,N){(function(t){(function(){var s,o=c("is-browser");s=typeof t.matchMedia=="function"?!t.matchMedia("(hover: none)").matches:o,J.exports=s}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{"is-browser":50}],49:[function(c,J,N){var t=c("is-browser");J.exports=t&&function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{s=!1}return s}()},{"is-browser":50}],50:[function(c,J,N){J.exports=!0},{}],51:[function(c,J,N){J.exports=o,J.exports.isMobile=o,J.exports.default=o;var t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(e){e||(e={});var n=e.ua;if(n||typeof navigator>"u"||(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),typeof n!="string")return!1;var l=e.tablet?s.test(n):t.test(n);return!l&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&n.indexOf("Macintosh")!==-1&&n.indexOf("Safari")!==-1&&(l=!0),l}},{}],52:[function(c,J,N){J.exports=function(t){for(var s,o=t.length,e=0;e<o;e++)if(((s=t.charCodeAt(e))<9||s>13)&&s!==32&&s!==133&&s!==160&&s!==5760&&s!==6158&&(s<8192||s>8205)&&s!==8232&&s!==8233&&s!==8239&&s!==8287&&s!==8288&&s!==12288&&s!==65279)return!1;return!0}},{}],53:[function(c,J,N){var t={left:0,top:0};J.exports=function(s,o,e){o=o||s.currentTarget||s.srcElement,Array.isArray(e)||(e=[0,0]);var n=s.clientX||0,l=s.clientY||0,i=(a=o,a===window||a===document||a===document.body?t:a.getBoundingClientRect()),a;return e[0]=n-i.left,e[1]=l-i.top,e}},{}],54:[function(c,J,N){(function(t,s){(function(){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/var o,e,n;n=function(){var l,i,a,r=Object.prototype.toString,u=s!==void 0?function(k){return s(k)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(k,x,D,z){return Object.defineProperty(k,x,{value:D,writable:!0,configurable:z!==!1})}}catch{l=function(x,D,z){return x[D]=z,x}}function d(k,x){a.add(k,x),i||(i=u(a.drain))}function p(k){var x,D=typeof k;return k==null||D!="object"&&D!="function"||(x=k.then),typeof x=="function"&&x}function m(){for(var k=0;k<this.chain.length;k++)M(this,this.state===1?this.chain[k].success:this.chain[k].failure,this.chain[k]);this.chain.length=0}function M(k,x,D){var z,g;try{x===!1?D.reject(k.msg):(z=x===!0?k.msg:x.call(void 0,k.msg))===D.promise?D.reject(TypeError("Promise-chain cycle")):(g=p(z))?g.call(z,D.resolve,D.reject):D.resolve(z)}catch(R){D.reject(R)}}function w(k){var x,D=this;if(!D.triggered){D.triggered=!0,D.def&&(D=D.def);try{(x=p(k))?d(function(){var z=new h(D);try{x.call(k,function(){w.apply(z,arguments)},function(){b.apply(z,arguments)})}catch(g){b.call(z,g)}}):(D.msg=k,D.state=1,D.chain.length>0&&d(m,D))}catch(z){b.call(new h(D),z)}}}function b(k){var x=this;x.triggered||(x.triggered=!0,x.def&&(x=x.def),x.msg=k,x.state=2,x.chain.length>0&&d(m,x))}function v(k,x,D,z){for(var g=0;g<x.length;g++)(function(R){k.resolve(x[R]).then(function(I){D(R,I)},z)})(g)}function h(k){this.def=k,this.triggered=!1}function A(k){this.promise=k,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(k){if(typeof k!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var x=new A(this);this.then=function(D,z){var g={success:typeof D!="function"||D,failure:typeof z=="function"&&z};return g.promise=new this.constructor(function(R,I){if(typeof R!="function"||typeof I!="function")throw TypeError("Not a function");g.resolve=R,g.reject=I}),x.chain.push(g),x.state!==0&&d(m,x),g.promise},this.catch=function(D){return this.then(void 0,D)};try{k.call(void 0,function(D){w.call(x,D)},function(D){b.call(x,D)})}catch(D){b.call(x,D)}}a=function(){var k,x,D;function z(g,R){this.fn=g,this.self=R,this.next=void 0}return{add:function(g,R){D=new z(g,R),x?x.next=D:k=D,x=D,D=void 0},drain:function(){var g=k;for(k=x=i=void 0;g;)g.fn.call(g.self),g=g.next}}}();var T=l({},"constructor",y,!1);return y.prototype=T,l(T,"__NPO__",0,!1),l(y,"resolve",function(k){return k&&typeof k=="object"&&k.__NPO__===1?k:new this(function(x,D){if(typeof x!="function"||typeof D!="function")throw TypeError("Not a function");x(k)})}),l(y,"reject",function(k){return new this(function(x,D){if(typeof x!="function"||typeof D!="function")throw TypeError("Not a function");D(k)})}),l(y,"all",function(k){var x=this;return r.call(k)!="[object Array]"?x.reject(TypeError("Not an array")):k.length===0?x.resolve([]):new x(function(D,z){if(typeof D!="function"||typeof z!="function")throw TypeError("Not a function");var g=k.length,R=Array(g),I=0;v(x,k,function(j,Y){R[j]=Y,++I===g&&D(R)},z)})}),l(y,"race",function(k){var x=this;return r.call(k)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(D,z){if(typeof D!="function"||typeof z!="function")throw TypeError("Not a function");v(x,k,function(g,R){D(R)},z)})}),y},(e=t!==void 0?t:this)[o="Promise"]=e[o]||n(),J!==void 0&&J.exports&&(J.exports=e[o])}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{},c("timers").setImmediate)},{timers:66}],55:[function(c,J,N){var t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function e(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}J.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var l={},i=0;i<10;i++)l["_"+String.fromCharCode(i)]=i;if(Object.getOwnPropertyNames(l).map(function(r){return l[r]}).join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(r){a[r]=r}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(n,l){for(var i,a,r=e(n),u=1;u<arguments.length;u++){for(var d in i=Object(arguments[u]))s.call(i,d)&&(r[d]=i[d]);if(t){a=t(i);for(var p=0;p<a.length;p++)o.call(i,a[p])&&(r[a[p]]=i[a[p]])}}return r}},{}],56:[function(c,J,N){J.exports=function(e){var n=[];return e.replace(s,function(l,i,a){var r=i.toLowerCase();for(a=function(u){var d=u.match(o);return d?d.map(Number):[]}(a),r=="m"&&a.length>2&&(n.push([i].concat(a.splice(0,2))),r="l",i=i=="m"?"l":"L");;){if(a.length==t[r])return a.unshift(i),n.push(a);if(a.length<t[r])throw new Error("malformed path data");n.push([i].concat(a.splice(0,t[r])))}}),n};var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(c,J,N){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var t,s=c("./lib/build-log"),o=c("./lib/epsilon"),e=c("./lib/intersecter"),n=c("./lib/segment-chainer"),l=c("./lib/segment-selector"),i=c("./lib/geojson"),a=!1,r=o();function u(d,p,m){var M=t.segments(d),w=t.segments(p),b=m(t.combine(M,w));return t.polygon(b)}t={buildLog:function(d){return d===!0?a=s():d===!1&&(a=!1),a!==!1&&a.list},epsilon:function(d){return r.epsilon(d)},segments:function(d){var p=e(!0,r,a);return d.regions.forEach(p.addRegion),{segments:p.calculate(d.inverted),inverted:d.inverted}},combine:function(d,p){return{combined:e(!1,r,a).calculate(d.segments,d.inverted,p.segments,p.inverted),inverted1:d.inverted,inverted2:p.inverted}},selectUnion:function(d){return{segments:l.union(d.combined,a),inverted:d.inverted1||d.inverted2}},selectIntersect:function(d){return{segments:l.intersect(d.combined,a),inverted:d.inverted1&&d.inverted2}},selectDifference:function(d){return{segments:l.difference(d.combined,a),inverted:d.inverted1&&!d.inverted2}},selectDifferenceRev:function(d){return{segments:l.differenceRev(d.combined,a),inverted:!d.inverted1&&d.inverted2}},selectXor:function(d){return{segments:l.xor(d.combined,a),inverted:d.inverted1!==d.inverted2}},polygon:function(d){return{regions:n(d.segments,r,a),inverted:d.inverted}},polygonFromGeoJSON:function(d){return i.toPolygon(t,d)},polygonToGeoJSON:function(d){return i.fromPolygon(t,r,d)},union:function(d,p){return u(d,p,t.selectUnion)},intersect:function(d,p){return u(d,p,t.selectIntersect)},difference:function(d,p){return u(d,p,t.selectDifference)},differenceRev:function(d,p){return u(d,p,t.selectDifferenceRev)},xor:function(d,p){return u(d,p,t.selectXor)}},typeof window=="object"&&(window.PolyBool=t),J.exports=t},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(c,J,N){J.exports=function(){var t,s=0,o=!1;function e(n,l){return t.list.push({type:n,data:l?JSON.parse(JSON.stringify(l)):void 0}),t}return t={list:[],segmentId:function(){return s++},checkIntersection:function(n,l){return e("check",{seg1:n,seg2:l})},segmentChop:function(n,l){return e("div_seg",{seg:n,pt:l}),e("chop",{seg:n,pt:l})},statusRemove:function(n){return e("pop_seg",{seg:n})},segmentUpdate:function(n){return e("seg_update",{seg:n})},segmentNew:function(n,l){return e("new_seg",{seg:n,primary:l})},segmentRemove:function(n){return e("rem_seg",{seg:n})},tempStatus:function(n,l,i){return e("temp_status",{seg:n,above:l,below:i})},rewind:function(n){return e("rewind",{seg:n})},status:function(n,l,i){return e("status",{seg:n,above:l,below:i})},vert:function(n){return n===o?t:(o=n,e("vert",{x:n}))},log:function(n){return typeof n!="string"&&(n=JSON.stringify(n,!1,"  ")),e("log",{txt:n})},reset:function(){return e("reset")},selected:function(n){return e("selected",{segs:n})},chainStart:function(n){return e("chain_start",{seg:n})},chainRemoveHead:function(n,l){return e("chain_rem_head",{index:n,pt:l})},chainRemoveTail:function(n,l){return e("chain_rem_tail",{index:n,pt:l})},chainNew:function(n,l){return e("chain_new",{pt1:n,pt2:l})},chainMatch:function(n){return e("chain_match",{index:n})},chainClose:function(n){return e("chain_close",{index:n})},chainAddHead:function(n,l){return e("chain_add_head",{index:n,pt:l})},chainAddTail:function(n,l){return e("chain_add_tail",{index:n,pt:l})},chainConnect:function(n,l){return e("chain_con",{index1:n,index2:l})},chainReverse:function(n){return e("chain_rev",{index:n})},chainJoin:function(n,l){return e("chain_join",{index1:n,index2:l})},done:function(){return e("done")}}}},{}],59:[function(c,J,N){J.exports=function(t){typeof t!="number"&&(t=1e-10);var s={epsilon:function(o){return typeof o=="number"&&(t=o),t},pointAboveOrOnLine:function(o,e,n){var l=e[0],i=e[1],a=n[0],r=n[1],u=o[0];return(a-l)*(o[1]-i)-(r-i)*(u-l)>=-t},pointBetween:function(o,e,n){var l=o[1]-e[1],i=n[0]-e[0],a=o[0]-e[0],r=n[1]-e[1],u=a*i+l*r;return!(u<t)&&!(u-(i*i+r*r)>-t)},pointsSameX:function(o,e){return Math.abs(o[0]-e[0])<t},pointsSameY:function(o,e){return Math.abs(o[1]-e[1])<t},pointsSame:function(o,e){return s.pointsSameX(o,e)&&s.pointsSameY(o,e)},pointsCompare:function(o,e){return s.pointsSameX(o,e)?s.pointsSameY(o,e)?0:o[1]<e[1]?-1:1:o[0]<e[0]?-1:1},pointsCollinear:function(o,e,n){var l=o[0]-e[0],i=o[1]-e[1],a=e[0]-n[0],r=e[1]-n[1];return Math.abs(l*r-a*i)<t},linesIntersect:function(o,e,n,l){var i=e[0]-o[0],a=e[1]-o[1],r=l[0]-n[0],u=l[1]-n[1],d=i*u-a*r;if(Math.abs(d)<t)return!1;var p=o[0]-n[0],m=o[1]-n[1],M=(r*m-u*p)/d,w=(i*m-a*p)/d,b={alongA:0,alongB:0,pt:[o[0]+M*i,o[1]+M*a]};return b.alongA=M<=-t?-2:M<t?-1:M-1<=-t?0:M-1<t?1:2,b.alongB=w<=-t?-2:w<t?-1:w-1<=-t?0:w-1<t?1:2,b},pointInsideRegion:function(o,e){for(var n=o[0],l=o[1],i=e[e.length-1][0],a=e[e.length-1][1],r=!1,u=0;u<e.length;u++){var d=e[u][0],p=e[u][1];p-l>t!=a-l>t&&(i-d)*(l-p)/(a-p)+d-n>t&&(r=!r),i=d,a=p}return r}};return s}},{}],60:[function(c,J,N){var t={toPolygon:function(s,o){function e(i){if(i.length<=0)return s.segments({inverted:!1,regions:[]});function a(d){var p=d.slice(0,d.length-1);return s.segments({inverted:!1,regions:[p]})}for(var r=a(i[0]),u=1;u<i.length;u++)r=s.selectDifference(s.combine(r,a(i[u])));return r}if(o.type==="Polygon")return s.polygon(e(o.coordinates));if(o.type==="MultiPolygon"){for(var n=s.segments({inverted:!1,regions:[]}),l=0;l<o.coordinates.length;l++)n=s.selectUnion(s.combine(n,e(o.coordinates[l])));return s.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(s,o,e){function n(w,b){return o.pointInsideRegion([.5*(w[0][0]+w[1][0]),.5*(w[0][1]+w[1][1])],b)}function l(w){return{region:w,children:[]}}e=s.polygon(s.segments(e));var i=l(null);function a(w,b){for(var v=0;v<w.children.length;v++)if(n(b,(A=w.children[v]).region))return void a(A,b);var h=l(b);for(v=0;v<w.children.length;v++){var A;n((A=w.children[v]).region,b)&&(h.children.push(A),w.children.splice(v,1),v--)}w.children.push(h)}for(var r=0;r<e.regions.length;r++){var u=e.regions[r];u.length<3||a(i,u)}function d(w,b){for(var v=0,h=w[w.length-1][0],A=w[w.length-1][1],y=[],T=0;T<w.length;T++){var k=w[T][0],x=w[T][1];y.push([k,x]),v+=x*h-k*A,h=k,A=x}return v<0!==b&&y.reverse(),y.push([y[0][0],y[0][1]]),y}var p=[];function m(w){var b=[d(w.region,!1)];p.push(b);for(var v=0;v<w.children.length;v++)b.push(M(w.children[v]))}function M(w){for(var b=0;b<w.children.length;b++)m(w.children[b]);return d(w.region,!0)}for(r=0;r<i.children.length;r++)m(i.children[r]);return p.length<=0?{type:"Polygon",coordinates:[]}:p.length==1?{type:"Polygon",coordinates:p[0]}:{type:"MultiPolygon",coordinates:p}}};J.exports=t},{}],61:[function(c,J,N){var t=c("./linked-list");J.exports=function(s,o,e){function n(d,p,m){return{id:e?e.segmentId():-1,start:d,end:p,myFill:{above:m.myFill.above,below:m.myFill.below},otherFill:null}}var l=t.create();function i(d,p){l.insertBefore(d,function(m){return function(M,w,b,v,h,A){var y=o.pointsCompare(w,h);return y!==0?y:o.pointsSame(b,A)?0:M!==v?M?1:-1:o.pointAboveOrOnLine(b,v?h:A,v?A:h)?1:-1}(d.isStart,d.pt,p,m.isStart,m.pt,m.other.pt)<0})}function a(d,p){var m=function(M,w){var b=t.node({isStart:!0,pt:M.start,seg:M,primary:w,other:null,status:null});return i(b,M.end),b}(d,p);return function(M,w,b){var v=t.node({isStart:!1,pt:w.end,seg:w,primary:b,other:M,status:null});M.other=v,i(v,M.pt)}(m,d,p),m}function r(d,p){var m=n(p,d.seg.end,d.seg);return function(M,w){e&&e.segmentChop(M.seg,w),M.other.remove(),M.seg.end=w,M.other.pt=w,i(M.other,M.pt)}(d,p),a(m,d.primary)}function u(d,p){var m=t.create();function M(g){return m.findTransition(function(R){var I,j,Y,B,$,rt;return I=g,j=R.ev,Y=I.seg.start,B=I.seg.end,$=j.seg.start,rt=j.seg.end,(o.pointsCollinear(Y,$,rt)?o.pointsCollinear(B,$,rt)||o.pointAboveOrOnLine(B,$,rt)?1:-1:o.pointAboveOrOnLine(Y,$,rt)?1:-1)>0})}function w(g,R){var I=g.seg,j=R.seg,Y=I.start,B=I.end,$=j.start,rt=j.end;e&&e.checkIntersection(I,j);var q=o.linesIntersect(Y,B,$,rt);if(q===!1){if(!o.pointsCollinear(Y,B,$)||o.pointsSame(Y,rt)||o.pointsSame(B,$))return!1;var H=o.pointsSame(Y,$),C=o.pointsSame(B,rt);if(H&&C)return R;var F=!H&&o.pointBetween(Y,$,rt),L=!C&&o.pointBetween(B,$,rt);if(H)return L?r(R,B):r(g,rt),R;F&&(C||(L?r(R,B):r(g,rt)),r(R,Y))}else q.alongA===0&&(q.alongB===-1?r(g,$):q.alongB===0?r(g,q.pt):q.alongB===1&&r(g,rt)),q.alongB===0&&(q.alongA===-1?r(R,Y):q.alongA===0?r(R,q.pt):q.alongA===1&&r(R,B));return!1}for(var b=[];!l.isEmpty();){var v=l.getHead();if(e&&e.vert(v.pt[0]),v.isStart){let g=function(){if(A){var R=w(v,A);if(R)return R}return!!y&&w(v,y)};e&&e.segmentNew(v.seg,v.primary);var h=M(v),A=h.before?h.before.ev:null,y=h.after?h.after.ev:null;e&&e.tempStatus(v.seg,!!A&&A.seg,!!y&&y.seg);var T,k=g();if(k){var x;s?(x=v.seg.myFill.below===null||v.seg.myFill.above!==v.seg.myFill.below)&&(k.seg.myFill.above=!k.seg.myFill.above):k.seg.otherFill=v.seg.myFill,e&&e.segmentUpdate(k.seg),v.other.remove(),v.remove()}if(l.getHead()!==v){e&&e.rewind(v.seg);continue}s?(x=v.seg.myFill.below===null||v.seg.myFill.above!==v.seg.myFill.below,v.seg.myFill.below=y?y.seg.myFill.above:d,v.seg.myFill.above=x?!v.seg.myFill.below:v.seg.myFill.below):v.seg.otherFill===null&&(T=y?v.primary===y.primary?y.seg.otherFill.above:y.seg.myFill.above:v.primary?p:d,v.seg.otherFill={above:T,below:T}),e&&e.status(v.seg,!!A&&A.seg,!!y&&y.seg),v.other.status=h.insert(t.node({ev:v}))}else{var D=v.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(m.exists(D.prev)&&m.exists(D.next)&&w(D.prev.ev,D.next.ev),e&&e.statusRemove(D.ev.seg),D.remove(),!v.primary){var z=v.seg.myFill;v.seg.myFill=v.seg.otherFill,v.seg.otherFill=z}b.push(v.seg)}l.getHead().remove()}return e&&e.done(),b}return s?{addRegion:function(d){for(var p,m,M,w=d[d.length-1],b=0;b<d.length;b++){p=w,w=d[b];var v=o.pointsCompare(p,w);v!==0&&a((m=v<0?p:w,M=v<0?w:p,{id:e?e.segmentId():-1,start:m,end:M,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(d){return u(d,!1)}}:{calculate:function(d,p,m,M){return d.forEach(function(w){a(n(w.start,w.end,w),!0)}),m.forEach(function(w){a(n(w.start,w.end,w),!1)}),u(p,M)}}}},{"./linked-list":62}],62:[function(c,J,N){J.exports={create:function(){var t={root:{root:!0,next:null},exists:function(s){return s!==null&&s!==t.root},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(s,o){for(var e=t.root,n=t.root.next;n!==null;){if(o(n))return s.prev=n.prev,s.next=n,n.prev.next=s,void(n.prev=s);e=n,n=n.next}e.next=s,s.prev=e,s.next=null},findTransition:function(s){for(var o=t.root,e=t.root.next;e!==null&&!s(e);)o=e,e=e.next;return{before:o===t.root?null:o,after:e,insert:function(n){return n.prev=o,n.next=e,o.next=n,e!==null&&(e.prev=n),n}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},{}],63:[function(c,J,N){J.exports=function(t,s,o){var e=[],n=[];return t.forEach(function(l){var i=l.start,a=l.end;if(s.pointsSame(i,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{o&&o.chainStart(l);for(var r={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},d=r,p=0;p<e.length;p++){var m=(h=e[p])[0],M=(h[1],h[h.length-1]);if(h[h.length-2],s.pointsSame(m,i)){if(g(p,!0,!0))break}else if(s.pointsSame(m,a)){if(g(p,!0,!1))break}else if(s.pointsSame(M,i)){if(g(p,!1,!0))break}else if(s.pointsSame(M,a)&&g(p,!1,!1))break}if(d===r)return e.push([i,a]),void(o&&o.chainNew(i,a));if(d===u){o&&o.chainMatch(r.index);var w=r.index,b=r.matches_pt1?a:i,v=r.matches_head,h=e[w],A=v?h[0]:h[h.length-1],y=v?h[1]:h[h.length-2],T=v?h[h.length-1]:h[0],k=v?h[h.length-2]:h[1];return s.pointsCollinear(y,A,b)&&(v?(o&&o.chainRemoveHead(r.index,b),h.shift()):(o&&o.chainRemoveTail(r.index,b),h.pop()),A=y),s.pointsSame(T,b)?(e.splice(w,1),s.pointsCollinear(k,T,A)&&(v?(o&&o.chainRemoveTail(r.index,A),h.pop()):(o&&o.chainRemoveHead(r.index,A),h.shift())),o&&o.chainClose(r.index),void n.push(h)):void(v?(o&&o.chainAddHead(r.index,b),h.unshift(b)):(o&&o.chainAddTail(r.index,b),h.push(b)))}var x=r.index,D=u.index;o&&o.chainConnect(x,D);var z=e[x].length<e[D].length;r.matches_head?u.matches_head?z?(R(x),I(x,D)):(R(D),I(D,x)):I(D,x):u.matches_head?I(x,D):z?(R(x),I(D,x)):(R(D),I(x,D))}function g(j,Y,B){return d.index=j,d.matches_head=Y,d.matches_pt1=B,d===r?(d=u,!1):(d=null,!0)}function R(j){o&&o.chainReverse(j),e[j].reverse()}function I(j,Y){var B=e[j],$=e[Y],rt=B[B.length-1],q=B[B.length-2],H=$[0],C=$[1];s.pointsCollinear(q,rt,H)&&(o&&o.chainRemoveTail(j,rt),B.pop(),rt=q),s.pointsCollinear(rt,H,C)&&(o&&o.chainRemoveHead(Y,H),$.shift()),o&&o.chainJoin(j,Y),e[j]=B.concat($),e.splice(Y,1)}}),n}},{}],64:[function(c,J,N){function t(o,e,n){var l=[];return o.forEach(function(i){var a=(i.myFill.above?8:0)+(i.myFill.below?4:0)+(i.otherFill&&i.otherFill.above?2:0)+(i.otherFill&&i.otherFill.below?1:0);e[a]!==0&&l.push({id:n?n.segmentId():-1,start:i.start,end:i.end,myFill:{above:e[a]===1,below:e[a]===2},otherFill:null})}),n&&n.selected(l),l}var s={union:function(o,e){return t(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(o,e){return t(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(o,e){return t(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(o,e){return t(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(o,e){return t(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}};J.exports=s},{}],65:[function(c,J,N){var t,s,o=J.exports={};function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function l(w){if(t===setTimeout)return setTimeout(w,0);if((t===e||!t)&&setTimeout)return t=setTimeout,setTimeout(w,0);try{return t(w,0)}catch{try{return t.call(null,w,0)}catch{return t.call(this,w,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:e}catch{t=e}try{s=typeof clearTimeout=="function"?clearTimeout:n}catch{s=n}})();var i,a=[],r=!1,u=-1;function d(){r&&i&&(r=!1,i.length?a=i.concat(a):u=-1,a.length&&p())}function p(){if(!r){var w=l(d);r=!0;for(var b=a.length;b;){for(i=a,a=[];++u<b;)i&&i[u].run();u=-1,b=a.length}i=null,r=!1,function(v){if(s===clearTimeout)return clearTimeout(v);if((s===n||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(v);try{s(v)}catch{try{return s.call(null,v)}catch{return s.call(this,v)}}}(w)}}function m(w,b){this.fun=w,this.array=b}function M(){}o.nextTick=function(w){var b=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)b[v-1]=arguments[v];a.push(new m(w,b)),a.length!==1||r||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=M,o.addListener=M,o.once=M,o.off=M,o.removeListener=M,o.removeAllListeners=M,o.emit=M,o.prependListener=M,o.prependOnceListener=M,o.listeners=function(w){return[]},o.binding=function(w){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(w){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],66:[function(c,J,N){(function(t,s){(function(){var o=c("process/browser.js").nextTick,e=Function.prototype.apply,n=Array.prototype.slice,l={},i=0;function a(r,u){this._id=r,this._clearFn=u}N.setTimeout=function(){return new a(e.call(setTimeout,window,arguments),clearTimeout)},N.setInterval=function(){return new a(e.call(setInterval,window,arguments),clearInterval)},N.clearTimeout=N.clearInterval=function(r){r.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},N.enroll=function(r,u){clearTimeout(r._idleTimeoutId),r._idleTimeout=u},N.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},N._unrefActive=N.active=function(r){clearTimeout(r._idleTimeoutId);var u=r._idleTimeout;u>=0&&(r._idleTimeoutId=setTimeout(function(){r._onTimeout&&r._onTimeout()},u))},N.setImmediate=typeof t=="function"?t:function(r){var u=i++,d=!(arguments.length<2)&&n.call(arguments,1);return l[u]=!0,o(function(){l[u]&&(d?r.apply(null,d):r.call(null),N.clearImmediate(u))}),u},N.clearImmediate=typeof s=="function"?s:function(r){delete l[r]}}).call(this)}).call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(c,J,N){(function(t){var s=/^\s+/,o=/\s+$/,e=0,n=t.round,l=t.min,i=t.max,a=t.random;function r(S,U){if(U=U||{},(S=S||"")instanceof r)return S;if(!(this instanceof r))return new r(S,U);var P=function(G){var Q={r:0,g:0,b:0},et=1,tt=null,lt=null,ct=null,mt=!1,Mt=!1;typeof G=="string"&&(G=function(Et){Et=Et.replace(s,"").replace(o,"").toLowerCase();var gt,ot=!1;if(R[Et])Et=R[Et],ot=!0;else if(Et=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(gt=E.rgb.exec(Et))?{r:gt[1],g:gt[2],b:gt[3]}:(gt=E.rgba.exec(Et))?{r:gt[1],g:gt[2],b:gt[3],a:gt[4]}:(gt=E.hsl.exec(Et))?{h:gt[1],s:gt[2],l:gt[3]}:(gt=E.hsla.exec(Et))?{h:gt[1],s:gt[2],l:gt[3],a:gt[4]}:(gt=E.hsv.exec(Et))?{h:gt[1],s:gt[2],v:gt[3]}:(gt=E.hsva.exec(Et))?{h:gt[1],s:gt[2],v:gt[3],a:gt[4]}:(gt=E.hex8.exec(Et))?{r:$(gt[1]),g:$(gt[2]),b:$(gt[3]),a:C(gt[4]),format:ot?"name":"hex8"}:(gt=E.hex6.exec(Et))?{r:$(gt[1]),g:$(gt[2]),b:$(gt[3]),format:ot?"name":"hex"}:(gt=E.hex4.exec(Et))?{r:$(gt[1]+""+gt[1]),g:$(gt[2]+""+gt[2]),b:$(gt[3]+""+gt[3]),a:C(gt[4]+""+gt[4]),format:ot?"name":"hex8"}:(gt=E.hex3.exec(Et))?{r:$(gt[1]+""+gt[1]),g:$(gt[2]+""+gt[2]),b:$(gt[3]+""+gt[3]),format:ot?"name":"hex"}:!1}(G)),typeof G=="object"&&(Z(G.r)&&Z(G.g)&&Z(G.b)?(St=G.r,_t=G.g,Yt=G.b,Q={r:255*Y(St,255),g:255*Y(_t,255),b:255*Y(Yt,255)},mt=!0,Mt=String(G.r).substr(-1)==="%"?"prgb":"rgb"):Z(G.h)&&Z(G.s)&&Z(G.v)?(tt=q(G.s),lt=q(G.v),Q=function(Et,gt,ot){Et=6*Y(Et,360),gt=Y(gt,100),ot=Y(ot,100);var nt=t.floor(Et),ut=Et-nt,ht=ot*(1-gt),Dt=ot*(1-ut*gt),Tt=ot*(1-(1-ut)*gt),xt=nt%6;return{r:255*[ot,Dt,ht,ht,Tt,ot][xt],g:255*[Tt,ot,ot,Dt,ht,ht][xt],b:255*[ht,ht,Tt,ot,ot,Dt][xt]}}(G.h,tt,lt),mt=!0,Mt="hsv"):Z(G.h)&&Z(G.s)&&Z(G.l)&&(tt=q(G.s),ct=q(G.l),Q=function(Et,gt,ot){var nt,ut,ht;function Dt(Ot,It,wt){return wt<0&&(wt+=1),wt>1&&(wt-=1),wt<1/6?Ot+6*(It-Ot)*wt:wt<.5?It:wt<2/3?Ot+(It-Ot)*(2/3-wt)*6:Ot}if(Et=Y(Et,360),gt=Y(gt,100),ot=Y(ot,100),gt===0)nt=ut=ht=ot;else{var Tt=ot<.5?ot*(1+gt):ot+gt-ot*gt,xt=2*ot-Tt;nt=Dt(xt,Tt,Et+1/3),ut=Dt(xt,Tt,Et),ht=Dt(xt,Tt,Et-1/3)}return{r:255*nt,g:255*ut,b:255*ht}}(G.h,tt,ct),mt=!0,Mt="hsl"),G.hasOwnProperty("a")&&(et=G.a));var St,_t,Yt;return et=j(et),{ok:mt,format:G.format||Mt,r:l(255,i(Q.r,0)),g:l(255,i(Q.g,0)),b:l(255,i(Q.b,0)),a:et}}(S);this._originalInput=S,this._r=P.r,this._g=P.g,this._b=P.b,this._a=P.a,this._roundA=n(100*this._a)/100,this._format=U.format||P.format,this._gradientType=U.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=P.ok,this._tc_id=e++}function u(S,U,P){S=Y(S,255),U=Y(U,255),P=Y(P,255);var G,Q,et=i(S,U,P),tt=l(S,U,P),lt=(et+tt)/2;if(et==tt)G=Q=0;else{var ct=et-tt;switch(Q=lt>.5?ct/(2-et-tt):ct/(et+tt),et){case S:G=(U-P)/ct+(U<P?6:0);break;case U:G=(P-S)/ct+2;break;case P:G=(S-U)/ct+4}G/=6}return{h:G,s:Q,l:lt}}function d(S,U,P){S=Y(S,255),U=Y(U,255),P=Y(P,255);var G,Q,et=i(S,U,P),tt=l(S,U,P),lt=et,ct=et-tt;if(Q=et===0?0:ct/et,et==tt)G=0;else{switch(et){case S:G=(U-P)/ct+(U<P?6:0);break;case U:G=(P-S)/ct+2;break;case P:G=(S-U)/ct+4}G/=6}return{h:G,s:Q,v:lt}}function p(S,U,P,G){var Q=[rt(n(S).toString(16)),rt(n(U).toString(16)),rt(n(P).toString(16))];return G&&Q[0].charAt(0)==Q[0].charAt(1)&&Q[1].charAt(0)==Q[1].charAt(1)&&Q[2].charAt(0)==Q[2].charAt(1)?Q[0].charAt(0)+Q[1].charAt(0)+Q[2].charAt(0):Q.join("")}function m(S,U,P,G){return[rt(H(G)),rt(n(S).toString(16)),rt(n(U).toString(16)),rt(n(P).toString(16))].join("")}function M(S,U){U=U===0?0:U||10;var P=r(S).toHsl();return P.s-=U/100,P.s=B(P.s),r(P)}function w(S,U){U=U===0?0:U||10;var P=r(S).toHsl();return P.s+=U/100,P.s=B(P.s),r(P)}function b(S){return r(S).desaturate(100)}function v(S,U){U=U===0?0:U||10;var P=r(S).toHsl();return P.l+=U/100,P.l=B(P.l),r(P)}function h(S,U){U=U===0?0:U||10;var P=r(S).toRgb();return P.r=i(0,l(255,P.r-n(-U/100*255))),P.g=i(0,l(255,P.g-n(-U/100*255))),P.b=i(0,l(255,P.b-n(-U/100*255))),r(P)}function A(S,U){U=U===0?0:U||10;var P=r(S).toHsl();return P.l-=U/100,P.l=B(P.l),r(P)}function y(S,U){var P=r(S).toHsl(),G=(P.h+U)%360;return P.h=G<0?360+G:G,r(P)}function T(S){var U=r(S).toHsl();return U.h=(U.h+180)%360,r(U)}function k(S){var U=r(S).toHsl(),P=U.h;return[r(S),r({h:(P+120)%360,s:U.s,l:U.l}),r({h:(P+240)%360,s:U.s,l:U.l})]}function x(S){var U=r(S).toHsl(),P=U.h;return[r(S),r({h:(P+90)%360,s:U.s,l:U.l}),r({h:(P+180)%360,s:U.s,l:U.l}),r({h:(P+270)%360,s:U.s,l:U.l})]}function D(S){var U=r(S).toHsl(),P=U.h;return[r(S),r({h:(P+72)%360,s:U.s,l:U.l}),r({h:(P+216)%360,s:U.s,l:U.l})]}function z(S,U,P){U=U||6,P=P||30;var G=r(S).toHsl(),Q=360/P,et=[r(S)];for(G.h=(G.h-(Q*U>>1)+720)%360;--U;)G.h=(G.h+Q)%360,et.push(r(G));return et}function g(S,U){U=U||6;for(var P=r(S).toHsv(),G=P.h,Q=P.s,et=P.v,tt=[],lt=1/U;U--;)tt.push(r({h:G,s:Q,v:et})),et=(et+lt)%1;return tt}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var S=this.toRgb();return(299*S.r+587*S.g+114*S.b)/1e3},getLuminance:function(){var S,U,P,G=this.toRgb();return S=G.r/255,U=G.g/255,P=G.b/255,.2126*(S<=.03928?S/12.92:t.pow((S+.055)/1.055,2.4))+.7152*(U<=.03928?U/12.92:t.pow((U+.055)/1.055,2.4))+.0722*(P<=.03928?P/12.92:t.pow((P+.055)/1.055,2.4))},setAlpha:function(S){return this._a=j(S),this._roundA=n(100*this._a)/100,this},toHsv:function(){var S=d(this._r,this._g,this._b);return{h:360*S.h,s:S.s,v:S.v,a:this._a}},toHsvString:function(){var S=d(this._r,this._g,this._b),U=n(360*S.h),P=n(100*S.s),G=n(100*S.v);return this._a==1?"hsv("+U+", "+P+"%, "+G+"%)":"hsva("+U+", "+P+"%, "+G+"%, "+this._roundA+")"},toHsl:function(){var S=u(this._r,this._g,this._b);return{h:360*S.h,s:S.s,l:S.l,a:this._a}},toHslString:function(){var S=u(this._r,this._g,this._b),U=n(360*S.h),P=n(100*S.s),G=n(100*S.l);return this._a==1?"hsl("+U+", "+P+"%, "+G+"%)":"hsla("+U+", "+P+"%, "+G+"%, "+this._roundA+")"},toHex:function(S){return p(this._r,this._g,this._b,S)},toHexString:function(S){return"#"+this.toHex(S)},toHex8:function(S){return function(U,P,G,Q,et){var tt=[rt(n(U).toString(16)),rt(n(P).toString(16)),rt(n(G).toString(16)),rt(H(Q))];return et&&tt[0].charAt(0)==tt[0].charAt(1)&&tt[1].charAt(0)==tt[1].charAt(1)&&tt[2].charAt(0)==tt[2].charAt(1)&&tt[3].charAt(0)==tt[3].charAt(1)?tt[0].charAt(0)+tt[1].charAt(0)+tt[2].charAt(0)+tt[3].charAt(0):tt.join("")}(this._r,this._g,this._b,this._a,S)},toHex8String:function(S){return"#"+this.toHex8(S)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(100*Y(this._r,255))+"%",g:n(100*Y(this._g,255))+"%",b:n(100*Y(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+n(100*Y(this._r,255))+"%, "+n(100*Y(this._g,255))+"%, "+n(100*Y(this._b,255))+"%)":"rgba("+n(100*Y(this._r,255))+"%, "+n(100*Y(this._g,255))+"%, "+n(100*Y(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(I[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(S){var U="#"+m(this._r,this._g,this._b,this._a),P=U,G=this._gradientType?"GradientType = 1, ":"";if(S){var Q=r(S);P="#"+m(Q._r,Q._g,Q._b,Q._a)}return"progid:DXImageTransform.Microsoft.gradient("+G+"startColorstr="+U+",endColorstr="+P+")"},toString:function(S){var U=!!S;S=S||this._format;var P=!1,G=this._a<1&&this._a>=0;return U||!G||S!=="hex"&&S!=="hex6"&&S!=="hex3"&&S!=="hex4"&&S!=="hex8"&&S!=="name"?(S==="rgb"&&(P=this.toRgbString()),S==="prgb"&&(P=this.toPercentageRgbString()),S!=="hex"&&S!=="hex6"||(P=this.toHexString()),S==="hex3"&&(P=this.toHexString(!0)),S==="hex4"&&(P=this.toHex8String(!0)),S==="hex8"&&(P=this.toHex8String()),S==="name"&&(P=this.toName()),S==="hsl"&&(P=this.toHslString()),S==="hsv"&&(P=this.toHsvString()),P||this.toHexString()):S==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(S,U){var P=S.apply(null,[this].concat([].slice.call(U)));return this._r=P._r,this._g=P._g,this._b=P._b,this.setAlpha(P._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(S,U){return S.apply(null,[this].concat([].slice.call(U)))},analogous:function(){return this._applyCombination(z,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(g,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},r.fromRatio=function(S,U){if(typeof S=="object"){var P={};for(var G in S)S.hasOwnProperty(G)&&(P[G]=G==="a"?S[G]:q(S[G]));S=P}return r(S,U)},r.equals=function(S,U){return!(!S||!U)&&r(S).toRgbString()==r(U).toRgbString()},r.random=function(){return r.fromRatio({r:a(),g:a(),b:a()})},r.mix=function(S,U,P){P=P===0?0:P||50;var G=r(S).toRgb(),Q=r(U).toRgb(),et=P/100;return r({r:(Q.r-G.r)*et+G.r,g:(Q.g-G.g)*et+G.g,b:(Q.b-G.b)*et+G.b,a:(Q.a-G.a)*et+G.a})},r.readability=function(S,U){var P=r(S),G=r(U);return(t.max(P.getLuminance(),G.getLuminance())+.05)/(t.min(P.getLuminance(),G.getLuminance())+.05)},r.isReadable=function(S,U,P){var G,Q,et=r.readability(S,U);switch(Q=!1,(G=function(tt){var lt,ct;return lt=((tt=tt||{level:"AA",size:"small"}).level||"AA").toUpperCase(),ct=(tt.size||"small").toLowerCase(),lt!=="AA"&&lt!=="AAA"&&(lt="AA"),ct!=="small"&&ct!=="large"&&(ct="small"),{level:lt,size:ct}}(P)).level+G.size){case"AAsmall":case"AAAlarge":Q=et>=4.5;break;case"AAlarge":Q=et>=3;break;case"AAAsmall":Q=et>=7}return Q},r.mostReadable=function(S,U,P){var G,Q,et,tt,lt=null,ct=0;Q=(P=P||{}).includeFallbackColors,et=P.level,tt=P.size;for(var mt=0;mt<U.length;mt++)(G=r.readability(S,U[mt]))>ct&&(ct=G,lt=r(U[mt]));return r.isReadable(S,lt,{level:et,size:tt})||!Q?lt:(P.includeFallbackColors=!1,r.mostReadable(S,["#fff","#000"],P))};var R=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=r.hexNames=function(S){var U={};for(var P in S)S.hasOwnProperty(P)&&(U[S[P]]=P);return U}(R);function j(S){return S=parseFloat(S),(isNaN(S)||S<0||S>1)&&(S=1),S}function Y(S,U){(function(G){return typeof G=="string"&&G.indexOf(".")!=-1&&parseFloat(G)===1})(S)&&(S="100%");var P=function(G){return typeof G=="string"&&G.indexOf("%")!=-1}(S);return S=l(U,i(0,parseFloat(S))),P&&(S=parseInt(S*U,10)/100),t.abs(S-U)<1e-6?1:S%U/parseFloat(U)}function B(S){return l(1,i(0,S))}function $(S){return parseInt(S,16)}function rt(S){return S.length==1?"0"+S:""+S}function q(S){return S<=1&&(S=100*S+"%"),S}function H(S){return t.round(255*parseFloat(S)).toString(16)}function C(S){return $(S)/255}var F,L,X,E=(L="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",X="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+X),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+X),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+X),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Z(S){return!!E.CSS_UNIT.exec(S)}J!==void 0&&J.exports?J.exports=r:window.tinycolor=r})(Math)},{}],68:[function(c,J,N){var t=c("../main"),s=c("object-assign"),o=t.instance();function e(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}e.prototype=new t.baseCalendar,s(e.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(d,p){if(typeof d=="string"){var m=d.match(l);return m?m[0]:""}var M=this._validateYear(d),w=d.month(),b=""+this.toChineseMonth(M,w);return p&&b.length<2&&(b="0"+b),this.isIntercalaryMonth(M,w)&&(b+="i"),b},monthNames:function(d){if(typeof d=="string"){var p=d.match(i);return p?p[0]:""}var m=this._validateYear(d),M=d.month(),w=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(m,M)-1];return this.isIntercalaryMonth(m,M)&&(w="闰"+w),w},monthNamesShort:function(d){if(typeof d=="string"){var p=d.match(a);return p?p[0]:""}var m=this._validateYear(d),M=d.month(),w=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(m,M)-1];return this.isIntercalaryMonth(m,M)&&(w="闰"+w),w},parseMonth:function(d,p){d=this._validateYear(d);var m,M=parseInt(p);if(isNaN(M))p[0]==="闰"&&(m=!0,p=p.substring(1)),p[p.length-1]==="月"&&(p=p.substring(0,p.length-1)),M=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(p);else{var w=p[p.length-1];m=w==="i"||w==="I"}return this.toMonthIndex(d,M,m)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(d,p){if(d.year&&(d=d.year()),typeof d!="number"||d<1888||d>2111)throw p.replace(/\{0\}/,this.local.name);return d},toMonthIndex:function(d,p,m){var M=this.intercalaryMonth(d);if(m&&p!==M||p<1||p>12)throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return M?!m&&p<=M?p-1:p:p-1},toChineseMonth:function(d,p){d.year&&(p=(d=d.year()).month());var m=this.intercalaryMonth(d);if(p<0||p>(m?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return m?p<m?p+1:p:p+1},intercalaryMonth:function(d){return d=this._validateYear(d),r[d-r[0]]>>13},isIntercalaryMonth:function(d,p){d.year&&(p=(d=d.year()).month());var m=this.intercalaryMonth(d);return!!m&&m===p},leapYear:function(d){return this.intercalaryMonth(d)!==0},weekOfYear:function(d,p,m){var M,w=this._validateYear(d,t.local.invalidyear),b=u[w-u[0]],v=b>>9&4095,h=b>>5&15,A=31&b;(M=o.newDate(v,h,A)).add(4-(M.dayOfWeek()||7),"d");var y=this.toJD(d,p,m)-M.toJD();return 1+Math.floor(y/7)},monthsInYear:function(d){return this.leapYear(d)?13:12},daysInMonth:function(d,p){d.year&&(p=d.month(),d=d.year()),d=this._validateYear(d);var m=r[d-r[0]];if(p>(m>>13?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return m&1<<12-p?30:29},weekDay:function(d,p,m){return(this.dayOfWeek(d,p,m)||7)<6},toJD:function(d,p,m){var M=this._validate(d,b,m,t.local.invalidDate);d=this._validateYear(M.year()),p=M.month(),m=M.day();var w=this.isIntercalaryMonth(d,p),b=this.toChineseMonth(d,p),v=function(h,A,y,T,k){var x,D,z;if(typeof h=="object")D=h,x=A||{};else{var g;if(!(typeof h=="number"&&h>=1888&&h<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof A=="number"&&A>=1&&A<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof y=="number"&&y>=1&&y<=30))throw new Error("Lunar day outside range 1 - 30");typeof T=="object"?(g=!1,x=T):(g=!!T,x=k||{}),D={year:h,month:A,day:y,isIntercalary:g}}z=D.day-1;var R,I=r[D.year-r[0]],j=I>>13;R=j&&(D.month>j||D.isIntercalary)?D.month:D.month-1;for(var Y=0;Y<R;Y++)z+=I&1<<12-Y?30:29;var B=u[D.year-u[0]],$=new Date(B>>9&4095,(B>>5&15)-1,(31&B)+z);return x.year=$.getFullYear(),x.month=1+$.getMonth(),x.day=$.getDate(),x}(d,b,m,w);return o.toJD(v.year,v.month,v.day)},fromJD:function(d){var p=o.fromJD(d),m=function(w,b,v,h){var A,y;if(typeof w=="object")A=w,y=b||{};else{if(!(typeof w=="number"&&w>=1888&&w<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof b=="number"&&b>=1&&b<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof v=="number"&&v>=1&&v<=31))throw new Error("Solar day outside range 1 - 31");A={year:w,month:b,day:v},y=h||{}}var T=u[A.year-u[0]],k=A.year<<9|A.month<<5|A.day;y.year=k>=T?A.year:A.year-1,T=u[y.year-u[0]];var x,D=new Date(T>>9&4095,(T>>5&15)-1,31&T),z=new Date(A.year,A.month-1,A.day);x=Math.round((z-D)/864e5);var g,R=r[y.year-r[0]];for(g=0;g<13;g++){var I=R&1<<12-g?30:29;if(x<I)break;x-=I}var j=R>>13;return!j||g<j?(y.isIntercalary=!1,y.month=1+g):g===j?(y.isIntercalary=!0,y.month=g):(y.isIntercalary=!1,y.month=g),y.day=1+x,y}(p.year(),p.month(),p.day()),M=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,M,m.day)},fromString:function(d){var p=d.match(n),m=this._validateYear(+p[1]),M=+p[2],w=!!p[3],b=this.toMonthIndex(m,M,w),v=+p[4];return this.newDate(m,b,v)},add:function(d,p,m){var M=d.year(),w=d.month(),b=this.isIntercalaryMonth(M,w),v=this.toChineseMonth(M,w),h=Object.getPrototypeOf(e.prototype).add.call(this,d,p,m);if(m==="y"){var A=h.year(),y=h.month(),T=this.isIntercalaryMonth(A,v),k=b&&T?this.toMonthIndex(A,v,!0):this.toMonthIndex(A,v,!1);k!==y&&h.month(k)}return h}});var n=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,l=/^\d?\d[iI]?/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,a=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;t.calendars.chinese=e;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],u=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,l){var i=this.newDate(e,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===13&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return(this.dayOfWeek(e,n,l)||7)<6},toJD:function(e,n,l){var i=this._validate(e,n,l,t.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,l=Math.floor((n-Math.floor((n+366)/1461))/365)+1;l<=0&&l--,n=Math.floor(e)+.5-this.newDate(l,1,1).toJD();var i=Math.floor(n/30)+1,a=n-30*(i-1)+1;return this.newDate(l,i,a)}}),t.calendars.coptic=o},{"../main":82,"object-assign":55}],70:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),!1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),13},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),400},weekOfYear:function(n,l,i){var a=this.newDate(n,l,i);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/8)+1},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,t.local.invalidMonth);return this.daysPerMonth[i.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(n,l,i){return(this._validate(n,l,i,t.local.invalidDate).day()+1)%8},weekDay:function(n,l,i){var a=this.dayOfWeek(n,l,i);return a>=2&&a<=6},extraInfo:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate);return{century:e[Math.floor((a.year()-1)/100)+1]||""}},toJD:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate);return n=a.year()+(a.year()<0?1:0),l=a.month(),(i=a.day())+(l>1?16:0)+(l>2?32*(l-2):0)+400*(n-1)+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n+.5)-Math.floor(this.jdEpoch)-1;var l=Math.floor(n/400)+1;n-=400*(l-1),n+=n>15?16:0;var i=Math.floor(n/32)+1,a=n-32*(i-1)+1;return this.newDate(l<=0?l-1:l,i,a)}});var e={20:"Fruitbat",21:"Anchovy"};t.calendars.discworld=o},{"../main":82,"object-assign":55}],71:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,l){var i=this.newDate(e,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===13&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return(this.dayOfWeek(e,n,l)||7)<6},toJD:function(e,n,l){var i=this._validate(e,n,l,t.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,l=Math.floor((n-Math.floor((n+366)/1461))/365)+1;l<=0&&l--,n=Math.floor(e)+.5-this.newDate(l,1,1).toJD();var i=Math.floor(n/30)+1,a=n-30*(i-1)+1;return this.newDate(l,i,a)}}),t.calendars.ethiopian=o},{"../main":82,"object-assign":55}],72:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function e(n,l){return n-l*Math.floor(n/l)}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return this._leapYear(l.year())},_leapYear:function(n){return e(7*(n=n<0?n+1:n)+1,19)<7},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,t.local.invalidYear),this._leapYear(n.year?n.year():n)?13:12},weekOfYear:function(n,l,i){var a=this.newDate(n,l,i);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(n){return n=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear).year(),this.toJD(n===-1?1:n+1,7,1)-this.toJD(n,7,1)},daysInMonth:function(n,l){return n.year&&(l=n.month(),n=n.year()),this._validate(n,l,this.minDay,t.local.invalidMonth),l===12&&this.leapYear(n)||l===8&&e(this.daysInYear(n),10)===5?30:l===9&&e(this.daysInYear(n),10)===3?29:this.daysPerMonth[l-1]},weekDay:function(n,l,i){return this.dayOfWeek(n,l,i)!==6},extraInfo:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate);return{yearType:(this.leapYear(a)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(a)%10-3]}},toJD:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate);n=a.year(),l=a.month(),i=a.day();var r=n<=0?n+1:n,u=this.jdEpoch+this._delay1(r)+this._delay2(r)+i+1;if(l<7){for(var d=7;d<=this.monthsInYear(n);d++)u+=this.daysInMonth(n,d);for(d=1;d<l;d++)u+=this.daysInMonth(n,d)}else for(d=7;d<l;d++)u+=this.daysInMonth(n,d);return u},_delay1:function(n){var l=Math.floor((235*n-234)/19),i=12084+13753*l,a=29*l+Math.floor(i/25920);return e(3*(a+1),7)<3&&a++,a},_delay2:function(n){var l=this._delay1(n-1),i=this._delay1(n);return this._delay1(n+1)-i==356?2:i-l==382?1:0},fromJD:function(n){n=Math.floor(n)+.5;for(var l=Math.floor(98496*(n-this.jdEpoch)/35975351)-1;n>=this.toJD(l===-1?1:l+1,7,1);)l++;for(var i=n<this.toJD(l,1,1)?7:1;n>this.toJD(l,i,this.daysInMonth(l,i));)i++;var a=n-this.toJD(l,i,1)+1;return this.newDate(l,i,a)}}),t.calendars.hebrew=o},{"../main":82,"object-assign":55}],73:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){return(11*this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year()+14)%30<11},weekOfYear:function(e,n,l){var i=this.newDate(e,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return this.dayOfWeek(e,n,l)!==5},toJD:function(e,n,l){var i=this._validate(e,n,l,t.local.invalidDate);return e=i.year(),n=i.month(),e=e<=0?e+1:e,(l=i.day())+Math.ceil(29.5*(n-1))+354*(e-1)+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var n=Math.floor((30*(e-this.jdEpoch)+10646)/10631);n=n<=0?n-1:n;var l=Math.min(12,Math.ceil((e-29-this.toJD(n,1,1))/29.5)+1),i=e-this.toJD(n,l,1)+1;return this.newDate(n,l,i)}}),t.calendars.islamic=o},{"../main":82,"object-assign":55}],74:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()<0?n.year()+1:n.year())%4==0},weekOfYear:function(e,n,l){var i=this.newDate(e,n,l);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var l=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(e,n,l){return(this.dayOfWeek(e,n,l)||7)<6},toJD:function(e,n,l){var i=this._validate(e,n,l,t.local.invalidDate);return e=i.year(),n=i.month(),l=i.day(),e<0&&e++,n<=2&&(e--,n+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(n+1))+l-1524.5},fromJD:function(e){var n=Math.floor(e+.5)+1524,l=Math.floor((n-122.1)/365.25),i=Math.floor(365.25*l),a=Math.floor((n-i)/30.6001),r=a-Math.floor(a<14?1:13),u=l-Math.floor(r>2?4716:4715),d=n-i-Math.floor(30.6001*a);return u<=0&&u--,this.newDate(u,r,d)}}),t.calendars.julian=o},{"../main":82,"object-assign":55}],75:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function e(l,i){return l-i*Math.floor(l/i)}function n(l,i){return e(l-1,i)+1}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,t.local.invalidYear),!1},formatYear:function(l){l=this._validate(l,this.minMonth,this.minDay,t.local.invalidYear).year();var i=Math.floor(l/400);return l%=400,l+=l<0?400:0,i+"."+Math.floor(l/20)+"."+l%20},forYear:function(l){if((l=l.split(".")).length<3)throw"Invalid Mayan year";for(var i=0,a=0;a<l.length;a++){var r=parseInt(l[a],10);if(Math.abs(r)>19||a>0&&r<0)throw"Invalid Mayan year";i=20*i+r}return i},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,t.local.invalidYear),18},weekOfYear:function(l,i,a){return this._validate(l,i,a,t.local.invalidDate),0},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,t.local.invalidYear),360},daysInMonth:function(l,i){return this._validate(l,i,this.minDay,t.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(l,i,a){return this._validate(l,i,a,t.local.invalidDate).day()},weekDay:function(l,i,a){return this._validate(l,i,a,t.local.invalidDate),!0},extraInfo:function(l,i,a){var r=this._validate(l,i,a,t.local.invalidDate).toJD(),u=this._toHaab(r),d=this._toTzolkin(r);return{haabMonthName:this.local.haabMonths[u[0]-1],haabMonth:u[0],haabDay:u[1],tzolkinDayName:this.local.tzolkinMonths[d[0]-1],tzolkinDay:d[0],tzolkinTrecena:d[1]}},_toHaab:function(l){var i=e((l-=this.jdEpoch)+8+340,365);return[Math.floor(i/20)+1,e(i,20)]},_toTzolkin:function(l){return[n((l-=this.jdEpoch)+20,20),n(l+4,13)]},toJD:function(l,i,a){var r=this._validate(l,i,a,t.local.invalidDate);return r.day()+20*r.month()+360*r.year()+this.jdEpoch},fromJD:function(l){l=Math.floor(l)+.5-this.jdEpoch;var i=Math.floor(l/360);l%=360,l+=l<0?360:0;var a=Math.floor(l/20),r=l%20;return this.newDate(i,a,r)}}),t.calendars.mayan=o},{"../main":82,"object-assign":55}],76:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar;var e=t.instance("gregorian");s(o.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear);return e.leapYear(l.year()+(l.year()<1?1:0)+1469)},weekOfYear:function(n,l,i){var a=this.newDate(n,l,i);return a.add(1-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,t.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===12&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return(this.dayOfWeek(n,l,i)||7)<6},toJD:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidMonth);(n=a.year())<0&&n++;for(var r=a.day(),u=1;u<a.month();u++)r+=this.daysPerMonth[u-1];return r+e.toJD(n+1468,3,13)},fromJD:function(n){n=Math.floor(n+.5);for(var l=Math.floor((n-(this.jdEpoch-1))/366);n>=this.toJD(l+1,1,1);)l++;for(var i=n-Math.floor(this.toJD(l,1,1)+.5)+1,a=1;i>this.daysInMonth(l,a);)i-=this.daysInMonth(l,a),a++;return this.newDate(l,a,i)}}),t.calendars.nanakshahi=o},{"../main":82,"object-assign":55}],77:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,n,l){var i=this.newDate(e,n,l);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[e]===void 0)return this.daysPerYear;for(var n=0,l=this.minMonth;l<=12;l++)n+=this.NEPALI_CALENDAR_DATA[e][l];return n},daysInMonth:function(e,n){return e.year&&(n=e.month(),e=e.year()),this._validate(e,n,this.minDay,t.local.invalidMonth),this.NEPALI_CALENDAR_DATA[e]===void 0?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[e][n]},weekDay:function(e,n,l){return this.dayOfWeek(e,n,l)!==6},toJD:function(e,n,l){var i=this._validate(e,n,l,t.local.invalidDate);e=i.year(),n=i.month(),l=i.day();var a=t.instance(),r=0,u=n,d=e;this._createMissingCalendarData(e);var p=e-(u>9||u===9&&l>=this.NEPALI_CALENDAR_DATA[d][0]?56:57);for(n!==9&&(r=l,u--);u!==9;)u<=0&&(u=12,d--),r+=this.NEPALI_CALENDAR_DATA[d][u],u--;return n===9?(r+=l-this.NEPALI_CALENDAR_DATA[d][0])<0&&(r+=a.daysInYear(p)):r+=this.NEPALI_CALENDAR_DATA[d][9]-this.NEPALI_CALENDAR_DATA[d][0],a.newDate(p,1,1).add(r,"d").toJD()},fromJD:function(e){var n=t.instance().fromJD(e),l=n.year(),i=n.dayOfYear(),a=l+56;this._createMissingCalendarData(a);for(var r=9,u=this.NEPALI_CALENDAR_DATA[a][0],d=this.NEPALI_CALENDAR_DATA[a][r]-u+1;i>d;)++r>12&&(r=1,a++),d+=this.NEPALI_CALENDAR_DATA[a][r];var p=this.NEPALI_CALENDAR_DATA[a][r]-(d-i);return this.newDate(a,r,p)},_createMissingCalendarData:function(e){var n=this.daysPerMonth.slice(0);n.unshift(17);for(var l=e-1;l<e+2;l++)this.NEPALI_CALENDAR_DATA[l]===void 0&&(this.NEPALI_CALENDAR_DATA[l]=n)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),t.calendars.nepali=o},{"../main":82,"object-assign":55}],78:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function e(n,l){return n-l*Math.floor(n/l)}o.prototype=new t.baseCalendar,s(o.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return 682*((l.year()-(l.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(n,l,i){var a=this.newDate(n,l,i);return a.add(-(a.dayOfWeek()+1)%7,"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,t.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===12&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return this.dayOfWeek(n,l,i)!==5},toJD:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate);n=a.year(),l=a.month(),i=a.day();var r=n-(n>=0?474:473),u=474+e(r,2820);return i+(l<=7?31*(l-1):30*(l-1)+6)+Math.floor((682*u-110)/2816)+365*(u-1)+1029983*Math.floor(r/2820)+this.jdEpoch-1},fromJD:function(n){var l=(n=Math.floor(n)+.5)-this.toJD(475,1,1),i=Math.floor(l/1029983),a=e(l,1029983),r=2820;if(a!==1029982){var u=Math.floor(a/366),d=e(a,366);r=Math.floor((2134*u+2816*d+2815)/1028522)+u+1}var p=r+2820*i+474;p=p<=0?p-1:p;var m=n-this.toJD(p,1,1)+1,M=m<=186?Math.ceil(m/31):Math.ceil((m-6)/30),w=n-this.toJD(p,M,1)+1;return this.newDate(p,M,w)}}),t.calendars.persian=o,t.calendars.jalali=o},{"../main":82,"object-assign":55}],79:[function(c,J,N){var t=c("../main"),s=c("object-assign"),o=t.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}e.prototype=new t.baseCalendar,s(e.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(l.year()),o.leapYear(n)},weekOfYear:function(n,l,i){var a=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(a.year()),o.weekOfYear(n,a.month(),a.day())},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,t.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return(this.dayOfWeek(n,l,i)||7)<6},toJD:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate);return n=this._t2gYear(a.year()),o.toJD(n,a.month(),a.day())},fromJD:function(n){var l=o.fromJD(n),i=this._g2tYear(l.year());return this.newDate(i,l.month(),l.day())},_t2gYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)},_g2tYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)}}),t.calendars.taiwan=e},{"../main":82,"object-assign":55}],80:[function(c,J,N){var t=c("../main"),s=c("object-assign"),o=t.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}e.prototype=new t.baseCalendar,s(e.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(l.year()),o.leapYear(n)},weekOfYear:function(n,l,i){var a=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return n=this._t2gYear(a.year()),o.weekOfYear(n,a.month(),a.day())},daysInMonth:function(n,l){var i=this._validate(n,l,this.minDay,t.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(n,l,i){return(this.dayOfWeek(n,l,i)||7)<6},toJD:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate);return n=this._t2gYear(a.year()),o.toJD(n,a.month(),a.day())},fromJD:function(n){var l=o.fromJD(n),i=this._g2tYear(l.year());return this.newDate(i,l.month(),l.day())},_t2gYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)},_g2tYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)}}),t.calendars.thai=e},{"../main":82,"object-assign":55}],81:[function(c,J,N){var t=c("../main"),s=c("object-assign");function o(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,s(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,t.local.invalidYear);return this.daysInYear(l.year())===355},weekOfYear:function(n,l,i){var a=this.newDate(n,l,i);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(n){for(var l=0,i=1;i<=12;i++)l+=this.daysInMonth(n,i);return l},daysInMonth:function(n,l){for(var i=this._validate(n,l,this.minDay,t.local.invalidMonth).toJD()-24e5+.5,a=0,r=0;r<e.length;r++){if(e[r]>i)return e[a]-e[a-1];a++}return 30},weekDay:function(n,l,i){return this.dayOfWeek(n,l,i)!==5},toJD:function(n,l,i){var a=this._validate(n,l,i,t.local.invalidDate),r=12*(a.year()-1)+a.month()-15292;return a.day()+e[r-1]-1+24e5-.5},fromJD:function(n){for(var l=n-24e5+.5,i=0,a=0;a<e.length&&!(e[a]>l);a++)i++;var r=i+15292,u=Math.floor((r-1)/12),d=u+1,p=r-12*u,m=l-e[i-1]+1;return this.newDate(d,p,m)},isValid:function(n,l,i){var a=t.baseCalendar.prototype.isValid.apply(this,arguments);return a&&(a=(n=n.year!=null?n.year:n)>=1276&&n<=1500),a},_validate:function(n,l,i,a){var r=t.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw a.replace(/\{0\}/,this.local.name);return r}}),t.calendars.ummalqura=o;var e=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(c,J,N){var t=c("object-assign");function s(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(a,r,u,d){if(this._calendar=a,this._year=r,this._month=u,this._day=d,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(i.local.invalidDate||i.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function e(a,r){return"000000".substring(0,r-(a=""+a).length)+a}function n(){this.shortYearCutoff="+10"}function l(a){this.local=this.regionalOptions[a]||this.regionalOptions[""]}t(s.prototype,{instance:function(a,r){a=(a||"gregorian").toLowerCase(),r=r||"";var u=this._localCals[a+"-"+r];if(!u&&this.calendars[a]&&(u=new this.calendars[a](r),this._localCals[a+"-"+r]=u),!u)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,a);return u},newDate:function(a,r,u,d,p){return(d=(a!=null&&a.year?a.calendar():typeof d=="string"?this.instance(d,p):d)||this.instance()).newDate(a,r,u)},substituteDigits:function(a){return function(r){return(r+"").replace(/[0-9]/g,function(u){return a[u]})}},substituteChineseDigits:function(a,r){return function(u){for(var d="",p=0;u>0;){var m=u%10;d=(m===0?"":a[m]+r[p])+d,p++,u=Math.floor(u/10)}return d.indexOf(a[1]+r[1])===0&&(d=d.substr(1)),d||a[0]}}}),t(o.prototype,{newDate:function(a,r,u){return this._calendar.newDate(a??this,r,u)},year:function(a){return arguments.length===0?this._year:this.set(a,"y")},month:function(a){return arguments.length===0?this._month:this.set(a,"m")},day:function(a){return arguments.length===0?this._day:this.set(a,"d")},date:function(a,r,u){if(!this._calendar.isValid(a,r,u))throw(i.local.invalidDate||i.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=a,this._month=r,this._day=u,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(a,r){return this._calendar.add(this,a,r)},set:function(a,r){return this._calendar.set(this,a,r)},compareTo:function(a){if(this._calendar.name!==a._calendar.name)throw(i.local.differentCalendars||i.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,a._calendar.local.name);var r=this._year!==a._year?this._year-a._year:this._month!==a._month?this.monthOfYear()-a.monthOfYear():this._day-a._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(a){return this._calendar.fromJD(a)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(a){return this._calendar.fromJSDate(a)},toString:function(){return(this.year()<0?"-":"")+e(Math.abs(this.year()),4)+"-"+e(this.month(),2)+"-"+e(this.day(),2)}}),t(n.prototype,{_validateLevel:0,newDate:function(a,r,u){return a==null?this.today():(a.year&&(this._validate(a,r,u,i.local.invalidDate||i.regionalOptions[""].invalidDate),u=a.day(),r=a.month(),a=a.year()),new o(this,a,r,u))},today:function(){return this.fromJSDate(new Date)},epoch:function(a){return this._validate(a,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(a){var r=this._validate(a,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+e(Math.abs(r.year()),4)},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear),12},monthOfYear:function(a,r){var u=this._validate(a,r,this.minDay,i.local.invalidMonth||i.regionalOptions[""].invalidMonth);return(u.month()+this.monthsInYear(u)-this.firstMonth)%this.monthsInYear(u)+this.minMonth},fromMonthOfYear:function(a,r){var u=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(a)+this.minMonth;return this._validate(a,u,this.minDay,i.local.invalidMonth||i.regionalOptions[""].invalidMonth),u},daysInYear:function(a){var r=this._validate(a,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(a,r,u){var d=this._validate(a,r,u,i.local.invalidDate||i.regionalOptions[""].invalidDate);return d.toJD()-this.newDate(d.year(),this.fromMonthOfYear(d.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(a,r,u){var d=this._validate(a,r,u,i.local.invalidDate||i.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(d))+2)%this.daysInWeek()},extraInfo:function(a,r,u){return this._validate(a,r,u,i.local.invalidDate||i.regionalOptions[""].invalidDate),{}},add:function(a,r,u){return this._validate(a,this.minMonth,this.minDay,i.local.invalidDate||i.regionalOptions[""].invalidDate),this._correctAdd(a,this._add(a,r,u),r,u)},_add:function(a,r,u){if(this._validateLevel++,u==="d"||u==="w"){var d=a.toJD()+r*(u==="w"?this.daysInWeek():1),p=a.calendar().fromJD(d);return this._validateLevel--,[p.year(),p.month(),p.day()]}try{var m=a.year()+(u==="y"?r:0),M=a.monthOfYear()+(u==="m"?r:0);p=a.day(),u==="y"?(a.month()!==this.fromMonthOfYear(m,M)&&(M=this.newDate(m,a.month(),this.minDay).monthOfYear()),M=Math.min(M,this.monthsInYear(m)),p=Math.min(p,this.daysInMonth(m,this.fromMonthOfYear(m,M)))):u==="m"&&(function(b){for(;M<b.minMonth;)m--,M+=b.monthsInYear(m);for(var v=b.monthsInYear(m);M>v-1+b.minMonth;)m++,M-=v,v=b.monthsInYear(m)}(this),p=Math.min(p,this.daysInMonth(m,this.fromMonthOfYear(m,M))));var w=[m,this.fromMonthOfYear(m,M),p];return this._validateLevel--,w}catch(b){throw this._validateLevel--,b}},_correctAdd:function(a,r,u,d){if(!(this.hasYearZero||d!=="y"&&d!=="m"||r[0]!==0&&a.year()>0==r[0]>0)){var p={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[d],m=u<0?-1:1;r=this._add(a,u*p[0]+m*p[1],p[2])}return a.date(r[0],r[1],r[2])},set:function(a,r,u){this._validate(a,this.minMonth,this.minDay,i.local.invalidDate||i.regionalOptions[""].invalidDate);var d=u==="y"?r:a.year(),p=u==="m"?r:a.month(),m=u==="d"?r:a.day();return u!=="y"&&u!=="m"||(m=Math.min(m,this.daysInMonth(d,p))),a.date(d,p,m)},isValid:function(a,r,u){this._validateLevel++;var d=this.hasYearZero||a!==0;if(d){var p=this.newDate(a,r,this.minDay);d=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(p)&&u>=this.minDay&&u-this.minDay<this.daysInMonth(p)}return this._validateLevel--,d},toJSDate:function(a,r,u){var d=this._validate(a,r,u,i.local.invalidDate||i.regionalOptions[""].invalidDate);return i.instance().fromJD(this.toJD(d)).toJSDate()},fromJSDate:function(a){return this.fromJD(i.instance().fromJSDate(a).toJD())},_validate:function(a,r,u,d){if(a.year){if(this._validateLevel===0&&this.name!==a.calendar().name)throw(i.local.differentCalendars||i.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,a.calendar().local.name);return a}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(a,r,u))throw d.replace(/\{0\}/,this.local.name);var p=this.newDate(a,r,u);return this._validateLevel--,p}catch(m){throw this._validateLevel--,m}}}),l.prototype=new n,t(l.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var r=this._validate(a,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return(a=r.year()+(r.year()<0?1:0))%4==0&&(a%100!=0||a%400==0)},weekOfYear:function(a,r,u){var d=this.newDate(a,r,u);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(a,r){var u=this._validate(a,r,this.minDay,i.local.invalidMonth||i.regionalOptions[""].invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(a,r,u){return(this.dayOfWeek(a,r,u)||7)<6},toJD:function(a,r,u){var d=this._validate(a,r,u,i.local.invalidDate||i.regionalOptions[""].invalidDate);a=d.year(),r=d.month(),u=d.day(),a<0&&a++,r<3&&(r+=12,a--);var p=Math.floor(a/100),m=2-p+Math.floor(p/4);return Math.floor(365.25*(a+4716))+Math.floor(30.6001*(r+1))+u+m-1524.5},fromJD:function(a){var r=Math.floor(a+.5),u=Math.floor((r-186721625e-2)/36524.25),d=(u=r+1+u-Math.floor(u/4))+1524,p=Math.floor((d-122.1)/365.25),m=Math.floor(365.25*p),M=Math.floor((d-m)/30.6001),w=d-m-Math.floor(30.6001*M),b=M-(M>13.5?13:1),v=p-(b>2.5?4716:4715);return v<=0&&v--,this.newDate(v,b,w)},toJSDate:function(a,r,u){var d=this._validate(a,r,u,i.local.invalidDate||i.regionalOptions[""].invalidDate),p=new Date(d.year(),d.month()-1,d.day());return p.setHours(0),p.setMinutes(0),p.setSeconds(0),p.setMilliseconds(0),p.setHours(p.getHours()>12?p.getHours()+2:0),p},fromJSDate:function(a){return this.newDate(a.getFullYear(),a.getMonth()+1,a.getDate())}});var i=J.exports=new s;i.cdate=o,i.baseCalendar=n,i.calendars.gregorian=l},{"object-assign":55}],83:[function(c,J,N){var t=c("object-assign"),s=c("./main");t(s.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),s.local=s.regionalOptions[""],t(s.cdate.prototype,{formatDate:function(o,e){return typeof o!="string"&&(e=o,o=""),this._calendar.formatDate(o||"",this,e)}}),t(s.baseCalendar.prototype,{UNIX_EPOCH:s.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:s.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,e,n){if(typeof o!="string"&&(n=e,e=o,o=""),!e)return"";if(e.calendar()!==this)throw s.local.invalidFormat||s.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat;for(var l,i,a,r,u=(n=n||{}).dayNamesShort||this.local.dayNamesShort,d=n.dayNames||this.local.dayNames,p=n.monthNumbers||this.local.monthNumbers,m=n.monthNamesShort||this.local.monthNamesShort,M=n.monthNames||this.local.monthNames,w=(n.calculateWeek||this.local.calculateWeek,function(z,g){for(var R=1;D+R<o.length&&o.charAt(D+R)===z;)R++;return D+=R-1,Math.floor(R/(g||1))>1}),b=function(z,g,R,I){var j=""+g;if(w(z,I))for(;j.length<R;)j="0"+j;return j},v=this,h=function(z){return typeof p=="function"?p.call(v,z,w("m")):T(b("m",z.month(),2))},A=function(z,g){return g?typeof M=="function"?M.call(v,z):M[z.month()-v.minMonth]:typeof m=="function"?m.call(v,z):m[z.month()-v.minMonth]},y=this.local.digits,T=function(z){return n.localNumbers&&y?y(z):z},k="",x=!1,D=0;D<o.length;D++)if(x)o.charAt(D)!=="'"||w("'")?k+=o.charAt(D):x=!1;else switch(o.charAt(D)){case"d":k+=T(b("d",e.day(),2));break;case"D":k+=(l="D",i=e.dayOfWeek(),a=u,r=d,w(l)?r[i]:a[i]);break;case"o":k+=b("o",e.dayOfYear(),3);break;case"w":k+=b("w",e.weekOfYear(),2);break;case"m":k+=h(e);break;case"M":k+=A(e,w("M"));break;case"y":k+=w("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":w("Y",2),k+=e.formatYear();break;case"J":k+=e.toJD();break;case"@":k+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":k+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":w("'")?k+="'":x=!0;break;default:k+=o.charAt(D)}return k},parseDate:function(o,e,n){if(e==null)throw s.local.invalidArguments||s.regionalOptions[""].invalidArguments;if((e=typeof e=="object"?e.toString():e+"")==="")return null;o=o||this.local.dateFormat;var l=(n=n||{}).shortYearCutoff||this.shortYearCutoff;l=typeof l!="string"?l:this.today().year()%100+parseInt(l,10);for(var i=n.dayNamesShort||this.local.dayNamesShort,a=n.dayNames||this.local.dayNames,r=n.parseMonth||this.local.parseMonth,u=n.monthNumbers||this.local.monthNumbers,d=n.monthNamesShort||this.local.monthNamesShort,p=n.monthNames||this.local.monthNames,m=-1,M=-1,w=-1,b=-1,v=-1,h=!1,A=!1,y=function(B,$){for(var rt=1;I+rt<o.length&&o.charAt(I+rt)===B;)rt++;return I+=rt-1,Math.floor(rt/($||1))>1},T=function(B,$){var rt=y(B,$),q=[2,3,rt?4:2,rt?4:2,10,11,20]["oyYJ@!".indexOf(B)+1],H=new RegExp("^-?\\d{1,"+q+"}"),C=e.substring(R).match(H);if(!C)throw(s.local.missingNumberAt||s.regionalOptions[""].missingNumberAt).replace(/\{0\}/,R);return R+=C[0].length,parseInt(C[0],10)},k=this,x=function(){if(typeof u=="function"){y("m");var B=u.call(k,e.substring(R));return R+=B.length,B}return T("m")},D=function(B,$,rt,q){for(var H=y(B,q)?rt:$,C=0;C<H.length;C++)if(e.substr(R,H[C].length).toLowerCase()===H[C].toLowerCase())return R+=H[C].length,C+k.minMonth;throw(s.local.unknownNameAt||s.regionalOptions[""].unknownNameAt).replace(/\{0\}/,R)},z=function(){if(typeof p=="function"){var B=y("M")?p.call(k,e.substring(R)):d.call(k,e.substring(R));return R+=B.length,B}return D("M",d,p)},g=function(){if(e.charAt(R)!==o.charAt(I))throw(s.local.unexpectedLiteralAt||s.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,R);R++},R=0,I=0;I<o.length;I++)if(A)o.charAt(I)!=="'"||y("'")?g():A=!1;else switch(o.charAt(I)){case"d":b=T("d");break;case"D":D("D",i,a);break;case"o":v=T("o");break;case"w":T("w");break;case"m":w=x();break;case"M":w=z();break;case"y":var j=I;h=!y("y",2),I=j,M=T("y",2);break;case"Y":M=T("Y",2);break;case"J":m=T("J")+.5,e.charAt(R)==="."&&(R++,T("J"));break;case"@":m=T("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":m=T("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":R=e.length;break;case"'":y("'")?g():A=!0;break;default:g()}if(R<e.length)throw s.local.unexpectedText||s.regionalOptions[""].unexpectedText;if(M===-1?M=this.today().year():M<100&&h&&(M+=l===-1?1900:this.today().year()-this.today().year()%100-(M<=l?0:100)),typeof w=="string"&&(w=r.call(this,M,w)),v>-1){w=1,b=v;for(var Y=this.daysInMonth(M,w);b>Y;Y=this.daysInMonth(M,w))w++,b-=Y}return m>-1?this.fromJD(m):this.newDate(M,w,b)},determineDate:function(o,e,n,l,i){n&&typeof n!="object"&&(i=l,l=n,n=null),typeof l!="string"&&(i=l,l="");var a=this;return e=e?e.newDate():null,o=o==null?e:typeof o=="string"?function(r){try{return a.parseDate(l,r,i)}catch{}for(var u=((r=r.toLowerCase()).match(/^c/)&&n?n.newDate():null)||a.today(),d=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,p=d.exec(r);p;)u.add(parseInt(p[1],10),p[2]||"d"),p=d.exec(r);return u}(o):typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?e:a.today().add(o,"d"):a.newDate(o)}})},{"./main":82,"object-assign":55}],84:[function(c,J,N){J.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(c,J,N){var t=c("./arrow_paths"),s=c("../../plots/font_attributes"),o=c("../../plots/cartesian/constants"),e=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),J.exports=e("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:s({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:s({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":308,"./arrow_paths":84}],86:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/cartesian/axes"),o=c("./draw").draw;function e(l){var i=l._fullLayout;t.filterVisible(i.annotations).forEach(function(a){var r=s.getFromId(l,a.xref),u=s.getFromId(l,a.yref),d=s.getRefType(a.xref),p=s.getRefType(a.yref);a._extremes={},d==="range"&&n(a,r),p==="range"&&n(a,u)})}function n(l,i){var a,r=i._id,u=r.charAt(0),d=l[u],p=l["a"+u],m=l[u+"ref"],M=l["a"+u+"ref"],w=l["_"+u+"padplus"],b=l["_"+u+"padminus"],v={x:1,y:-1}[u]*l[u+"shift"],h=3*l.arrowsize*l.arrowwidth||0,A=h+v,y=h-v,T=3*l.startarrowsize*l.arrowwidth||0,k=T+v,x=T-v;if(M===m){var D=s.findExtremes(i,[i.r2c(d)],{ppadplus:A,ppadminus:y}),z=s.findExtremes(i,[i.r2c(p)],{ppadplus:Math.max(w,k),ppadminus:Math.max(b,x)});a={min:[D.min[0],z.min[0]],max:[D.max[0],z.max[0]]}}else k=p?k+p:k,x=p?x-p:x,a=s.findExtremes(i,[i.r2c(d)],{ppadplus:Math.max(w,A,k),ppadminus:Math.max(b,y,x)});l._extremes[r]=a}J.exports=function(l){var i=l._fullLayout;if(t.filterVisible(i.annotations).length&&l._fullData.length)return t.syncOrAsync([o,e],l)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(c,J,N){var t=c("../../lib"),s=c("../../registry"),o=c("../../plot_api/plot_template").arrayEditor;function e(l,i){var a,r,u,d,p,m,M,w=l._fullLayout.annotations,b=[],v=[],h=[],A=(i||[]).length;for(a=0;a<w.length;a++)if(d=(u=w[a]).clicktoshow){for(r=0;r<A;r++)if(m=(p=i[r]).xaxis,M=p.yaxis,m._id===u.xref&&M._id===u.yref&&m.d2r(p.x)===n(u._xclick,m)&&M.d2r(p.y)===n(u._yclick,M)){(u.visible?d==="onout"?v:h:b).push(a);break}r===A&&u.visible&&d==="onout"&&v.push(a)}return{on:b,off:v,explicitOff:h}}function n(l,i){return i.type==="log"?i.l2r(l):i.d2r(l)}J.exports={hasClickToShow:function(l,i){var a=e(l,i);return a.on.length>0||a.explicitOff.length>0},onClick:function(l,i){var a,r,u=e(l,i),d=u.on,p=u.off.concat(u.explicitOff),m={},M=l._fullLayout.annotations;if(!(!d.length&&!p.length)){for(a=0;a<d.length;a++)(r=o(l.layout,"annotations",M[d[a]])).modifyItem("visible",!0),t.extendFlat(m,r.getUpdateObj());for(a=0;a<p.length;a++)(r=o(l.layout,"annotations",M[p[a]])).modifyItem("visible",!1),t.extendFlat(m,r.getUpdateObj());return s.call("update",l,{},m)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":316}],88:[function(c,J,N){var t=c("../../lib"),s=c("../color");J.exports=function(o,e,n,l){l("opacity");var i=l("bgcolor"),a=l("bordercolor"),r=s.opacity(a);l("borderpad");var u=l("borderwidth"),d=l("showarrow");if(l("text",d?" ":n._dfltTitle.annotation),l("textangle"),t.coerceFont(l,"font",n.font),l("width"),l("align"),l("height")&&l("valign"),d){var p,m,M=l("arrowside");M.indexOf("end")!==-1&&(p=l("arrowhead"),m=l("arrowsize")),M.indexOf("start")!==-1&&(l("startarrowhead",p),l("startarrowsize",m)),l("arrowcolor",r?e.bordercolor:s.defaultLine),l("arrowwidth",2*(r&&u||1)),l("standoff"),l("startstandoff")}var w=l("hovertext"),b=n.hoverlabel||{};if(w){var v=l("hoverlabel.bgcolor",b.bgcolor||(s.opacity(i)?s.rgb(i):s.defaultLine)),h=l("hoverlabel.bordercolor",b.bordercolor||s.contrast(v));t.coerceFont(l,"hoverlabel.font",{family:b.font.family,size:b.font.size,color:b.font.color||h})}l("captureevents",!!w)}},{"../../lib":232,"../color":102}],89:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib/to_log_range");J.exports=function(o,e,n,l){e=e||{};var i=n==="log"&&e.type==="linear",a=n==="linear"&&e.type==="log";if(i||a)for(var r,u,d=o._fullLayout.annotations,p=e._id.charAt(0),m=0;m<d.length;m++)r=d[m],u="annotations["+m+"].",r[p+"ref"]===e._id&&M(p),r["a"+p+"ref"]===e._id&&M("a"+p);function M(w){var b=r[w],v=null;v=i?s(b,e.range):Math.pow(10,b),t(v)||(v=null),l(u+w,v)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./common_defaults"),n=c("./attributes");function l(i,a,r){function u(z,g){return t.coerce(i,a,n,z,g)}var d=u("visible"),p=u("clicktoshow");if(d||p){e(i,a,r,u);for(var m=a.showarrow,M=["x","y"],w=[-10,-30],b={_fullLayout:r},v=0;v<2;v++){var h=M[v],A=s.coerceRef(i,a,b,h,"","paper");if(A!=="paper"&&s.getFromId(b,A)._annIndices.push(a._index),s.coercePosition(a,b,u,A,h,.5),m){var y="a"+h,T=s.coerceRef(i,a,b,y,"pixel",["pixel","paper"]);T!=="pixel"&&T!==A&&(T=a[y]="pixel");var k=T==="pixel"?w[v]:.4;s.coercePosition(a,b,u,T,y,k)}u(h+"anchor"),u(h+"shift")}if(t.noneOrAll(i,a,["x","y"]),m&&t.noneOrAll(i,a,["ax","ay"]),p){var x=u("xclick"),D=u("yclick");a._xclick=x===void 0?a.x:s.cleanPosition(x,b,a.xref),a._yclick=D===void 0?a.y:s.cleanPosition(D,b,a.yref)}}}J.exports=function(i,a){o(i,a,{name:"annotations",handleItemDefaults:l})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../registry"),o=c("../../plots/plots"),e=c("../../lib"),n=e.strTranslate,l=c("../../plots/cartesian/axes"),i=c("../color"),a=c("../drawing"),r=c("../fx"),u=c("../../lib/svg_text_utils"),d=c("../../lib/setcursor"),p=c("../dragelement"),m=c("../../plot_api/plot_template").arrayEditor,M=c("./draw_arrow_head");function w(h,A){var y=h._fullLayout.annotations[A]||{},T=l.getFromId(h,y.xref),k=l.getFromId(h,y.yref);T&&T.setScale(),k&&k.setScale(),v(h,y,A,!1,T,k)}function b(h,A,y,T,k){var x=k[y],D=k[y+"ref"],z=y.indexOf("y")!==-1,g=l.getRefType(D)==="domain",R=z?T.h:T.w;return h?g?x+(z?-A:A)/h._length:h.p2r(h.r2p(x)+A):x+(z?-A:A)/R}function v(h,A,y,T,k,x){var D,z,g=h._fullLayout,R=h._fullLayout._size,I=h._context.edits;T?(D="annotation-"+T,z=T+".annotations"):(D="annotation",z="annotations");var j=m(h.layout,z,A),Y=j.modifyBase,B=j.modifyItem,$=j.getUpdateObj;g._infolayer.selectAll("."+D+'[data-index="'+y+'"]').remove();var rt="clip"+g._uid+"_ann"+y;if(A._input&&A.visible!==!1){var q={x:{},y:{}},H=+A.textangle||0,C=g._infolayer.append("g").classed(D,!0).attr("data-index",String(y)).style("opacity",A.opacity),F=C.append("g").classed("annotation-text-g",!0),L=I[A.showarrow?"annotationTail":"annotationPosition"],X=A.captureevents||I.annotationText||L,E=F.append("g").style("pointer-events",X?"all":null).call(d,"pointer").on("click",function(){h._dragging=!1,h.emit("plotly_clickannotation",ct(t.event))});A.hovertext&&E.on("mouseover",function(){var St=A.hoverlabel,_t=St.font,Yt=this.getBoundingClientRect(),Et=h.getBoundingClientRect();r.loneHover({x0:Yt.left-Et.left,x1:Yt.right-Et.left,y:(Yt.top+Yt.bottom)/2-Et.top,text:A.hovertext,color:St.bgcolor,borderColor:St.bordercolor,fontFamily:_t.family,fontSize:_t.size,fontColor:_t.color},{container:g._hoverlayer.node(),outerContainer:g._paper.node(),gd:h})}).on("mouseout",function(){r.loneUnhover(g._hoverlayer.node())});var Z=A.borderwidth,S=A.borderpad,U=Z+S,P=E.append("rect").attr("class","bg").style("stroke-width",Z+"px").call(i.stroke,A.bordercolor).call(i.fill,A.bgcolor),G=A.width||A.height,Q=g._topclips.selectAll("#"+rt).data(G?[0]:[]);Q.enter().append("clipPath").classed("annclip",!0).attr("id",rt).append("rect"),Q.exit().remove();var et=A.font,tt=g._meta?e.templateString(A.text,g._meta):A.text,lt=E.append("text").classed("annotation-text",!0).text(tt);I.annotationText?lt.call(u.makeEditable,{delegate:E,gd:h}).call(mt).on("edit",function(St){A.text=St,this.call(mt),B("text",St),k&&k.autorange&&Y(k._name+".autorange",!0),x&&x.autorange&&Y(x._name+".autorange",!0),s.call("_guiRelayout",h,$())}):lt.call(mt)}else t.selectAll("#"+rt).remove();function ct(St){var _t={index:y,annotation:A._input,fullAnnotation:A,event:St};return T&&(_t.subplotId=T),_t}function mt(St){return St.call(a.font,et).attr({"text-anchor":{left:"start",right:"end"}[A.align]||"middle"}),u.convertToTspans(St,h,Mt),St}function Mt(){var St=lt.selectAll("a");St.size()===1&&St.text()===lt.text()&&E.insert("a",":first-child").attr({"xlink:xlink:href":St.attr("xlink:href"),"xlink:xlink:show":St.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(P.node());var _t=E.select(".annotation-text-math-group"),Yt=!_t.empty(),Et=a.bBox((Yt?_t:lt).node()),gt=Et.width,ot=Et.height,nt=A.width||gt,ut=A.height||ot,ht=Math.round(nt+2*U),Dt=Math.round(ut+2*U);function Tt(le,Te){return Te==="auto"&&(Te=le<1/3?"left":le>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Te]}for(var xt=!1,Ot=["x","y"],It=0;It<Ot.length;It++){var wt,At,Xt,kt,Bt,Zt=Ot[It],Ht=A[Zt+"ref"]||Zt,ee=A["a"+Zt+"ref"],qt={x:k,y:x}[Zt],vt=(H+(Zt==="x"?0:-90))*Math.PI/180,bt=ht*Math.cos(vt),Gt=Dt*Math.sin(vt),re=Math.abs(bt)+Math.abs(Gt),xe=A[Zt+"anchor"],at=A[Zt+"shift"]*(Zt==="x"?1:-1),st=q[Zt],Lt=l.getRefType(Ht);if(qt&&Lt!=="domain"){var Ct=qt.r2fraction(A[Zt]);(Ct<0||Ct>1)&&(ee===Ht?((Ct=qt.r2fraction(A["a"+Zt]))<0||Ct>1)&&(xt=!0):xt=!0),wt=qt._offset+qt.r2p(A[Zt]),kt=.5}else{var Nt=Lt==="domain";Zt==="x"?(Xt=A[Zt],wt=Nt?qt._offset+qt._length*Xt:wt=R.l+R.w*Xt):(Xt=1-A[Zt],wt=Nt?qt._offset+qt._length*Xt:wt=R.t+R.h*Xt),kt=A.showarrow?.5:Xt}if(A.showarrow){st.head=wt;var Pt=A["a"+Zt];if(Bt=bt*Tt(.5,A.xanchor)-Gt*Tt(.5,A.yanchor),ee===Ht){var jt=l.getRefType(ee);jt==="domain"?(Zt==="y"&&(Pt=1-Pt),st.tail=qt._offset+qt._length*Pt):jt==="paper"?Zt==="y"?(Pt=1-Pt,st.tail=R.t+R.h*Pt):st.tail=R.l+R.w*Pt:st.tail=qt._offset+qt.r2p(Pt),At=Bt}else st.tail=wt+Pt,At=Bt+Pt;st.text=st.tail+Bt;var $t=g[Zt==="x"?"width":"height"];if(Ht==="paper"&&(st.head=e.constrain(st.head,1,$t-1)),ee==="pixel"){var ne=-Math.max(st.tail-3,st.text),se=Math.min(st.tail+3,st.text)-$t;ne>0?(st.tail+=ne,st.text+=ne):se>0&&(st.tail-=se,st.text-=se)}st.tail+=at,st.head+=at}else At=Bt=re*Tt(kt,xe),st.text=wt+Bt;st.text+=at,Bt+=at,At+=at,A["_"+Zt+"padplus"]=re/2+At,A["_"+Zt+"padminus"]=re/2-At,A["_"+Zt+"size"]=re,A["_"+Zt+"shift"]=Bt}if(xt)E.remove();else{var Wt=0,ae=0;if(A.align!=="left"&&(Wt=(nt-gt)*(A.align==="center"?.5:1)),A.valign!=="top"&&(ae=(ut-ot)*(A.valign==="middle"?.5:1)),Yt)_t.select("svg").attr({x:U+Wt-1,y:U+ae}).call(a.setClipUrl,G?rt:null,h);else{var ce=U+ae-Et.top,be=U+Wt-Et.left;lt.call(u.positionText,be,ce).call(a.setClipUrl,G?rt:null,h)}Q.select("rect").call(a.setRect,U,U,nt,ut),P.call(a.setRect,Z/2,Z/2,ht-Z,Dt-Z),E.call(a.setTranslate,Math.round(q.x.text-ht/2),Math.round(q.y.text-Dt/2)),F.attr({transform:"rotate("+H+","+q.x.text+","+q.y.text+")"});var he,me=function(le,Te){C.selectAll(".annotation-arrow-g").remove();var Me=q.x.head,ge=q.y.head,oe=q.x.tail+le,de=q.y.tail+Te,Ae=q.x.text+le,ye=q.y.text+Te,Ce=e.rotationXYMatrix(H,Ae,ye),ue=e.apply2DTransform(Ce),Re=e.apply2DTransform2(Ce),De=+P.attr("width"),Oe=+P.attr("height"),Ne=Ae-.5*De,en=Ne+De,tn=ye-.5*Oe,Se=tn+Oe,ke=[[Ne,tn,Ne,Se],[Ne,Se,en,Se],[en,Se,en,tn],[en,tn,Ne,tn]].map(Re);if(!ke.reduce(function(we,qe){return we^!!e.segmentsIntersect(Me,ge,Me+1e6,ge+1e6,qe[0],qe[1],qe[2],qe[3])},!1)){ke.forEach(function(we){var qe=e.segmentsIntersect(oe,de,Me,ge,we[0],we[1],we[2],we[3]);qe&&(oe=qe.x,de=qe.y)});var Le=A.arrowwidth,_e=A.arrowcolor,fe=A.arrowside,Fe=C.append("g").style({opacity:i.opacity(_e)}).classed("annotation-arrow-g",!0),Ye=Fe.append("path").attr("d","M"+oe+","+de+"L"+Me+","+ge).style("stroke-width",Le+"px").call(i.stroke,i.rgb(_e));if(M(Ye,fe,A),I.annotationPosition&&Ye.node().parentNode&&!T){var Je=Me,Ze=ge;if(A.standoff){var je=Math.sqrt(Math.pow(Me-oe,2)+Math.pow(ge-de,2));Je+=A.standoff*(oe-Me)/je,Ze+=A.standoff*(de-ge)/je}var Be,Ke,Ue=Fe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(oe-Je)+","+(de-Ze),transform:n(Je,Ze)}).style("stroke-width",Le+6+"px").call(i.stroke,"rgba(0,0,0,0)").call(i.fill,"rgba(0,0,0,0)");p.init({element:Ue.node(),gd:h,prepFn:function(){var we=a.getTranslate(E);Be=we.x,Ke=we.y,k&&k.autorange&&Y(k._name+".autorange",!0),x&&x.autorange&&Y(x._name+".autorange",!0)},moveFn:function(we,qe){var nn=ue(Be,Ke),Ve=nn[0]+we,Ge=nn[1]+qe;E.call(a.setTranslate,Ve,Ge),B("x",b(k,we,"x",R,A)),B("y",b(x,qe,"y",R,A)),A.axref===A.xref&&B("ax",b(k,we,"ax",R,A)),A.ayref===A.yref&&B("ay",b(x,qe,"ay",R,A)),Fe.attr("transform",n(we,qe)),F.attr({transform:"rotate("+H+","+Ve+","+Ge+")"})},doneFn:function(){s.call("_guiRelayout",h,$());var we=document.querySelector(".js-notes-box-panel");we&&we.redraw(we.selectedObj)}})}}};A.showarrow&&me(0,0),L&&p.init({element:E.node(),gd:h,prepFn:function(){he=F.attr("transform")},moveFn:function(le,Te){var Me="pointer";if(A.showarrow)A.axref===A.xref?B("ax",b(k,le,"ax",R,A)):B("ax",A.ax+le),A.ayref===A.yref?B("ay",b(x,Te,"ay",R.w,A)):B("ay",A.ay+Te),me(le,Te);else{if(T)return;var ge,oe;if(k)ge=b(k,le,"x",R,A);else{var de=A._xsize/R.w,Ae=A.x+(A._xshift-A.xshift)/R.w-de/2;ge=p.align(Ae+le/R.w,de,0,1,A.xanchor)}if(x)oe=b(x,Te,"y",R,A);else{var ye=A._ysize/R.h,Ce=A.y-(A._yshift+A.yshift)/R.h-ye/2;oe=p.align(Ce-Te/R.h,ye,0,1,A.yanchor)}B("x",ge),B("y",oe),k&&x||(Me=p.getCursor(k?.5:ge,x?.5:oe,A.xanchor,A.yanchor))}F.attr({transform:n(le,Te)+he}),d(E,Me)},clickFn:function(le,Te){A.captureevents&&h.emit("plotly_clickannotation",ct(Te))},doneFn:function(){d(E),s.call("_guiRelayout",h,$());var le=document.querySelector(".js-notes-box-panel");le&&le.redraw(le.selectedObj)}})}}}J.exports={draw:function(h){var A=h._fullLayout;A._infolayer.selectAll(".annotation").remove();for(var y=0;y<A.annotations.length;y++)A.annotations[y].visible&&w(h,y);return o.previousPromises(h)},drawOne:w,drawRaw:v}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":314,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(c,J,N){var t=c("@plotly/d3"),s=c("../color"),o=c("./arrow_paths"),e=c("../../lib"),n=e.strScale,l=e.strRotate,i=e.strTranslate;J.exports=function(a,r,u){var d,p,m,M,w=a.node(),b=o[u.arrowhead||0],v=o[u.startarrowhead||0],h=(u.arrowwidth||1)*(u.arrowsize||1),A=(u.arrowwidth||1)*(u.startarrowsize||1),y=r.indexOf("start")>=0,T=r.indexOf("end")>=0,k=b.backoff*h+u.standoff,x=v.backoff*A+u.startstandoff;if(w.nodeName==="line"){d={x:+a.attr("x1"),y:+a.attr("y1")},p={x:+a.attr("x2"),y:+a.attr("y2")};var D=d.x-p.x,z=d.y-p.y;if(M=(m=Math.atan2(z,D))+Math.PI,k&&x&&k+x>Math.sqrt(D*D+z*z))return void C();if(k){if(k*k>D*D+z*z)return void C();var g=k*Math.cos(m),R=k*Math.sin(m);p.x+=g,p.y+=R,a.attr({x2:p.x,y2:p.y})}if(x){if(x*x>D*D+z*z)return void C();var I=x*Math.cos(m),j=x*Math.sin(m);d.x-=I,d.y-=j,a.attr({x1:d.x,y1:d.y})}}else if(w.nodeName==="path"){var Y=w.getTotalLength(),B="";if(Y<k+x)return void C();var $=w.getPointAtLength(0),rt=w.getPointAtLength(.1);m=Math.atan2($.y-rt.y,$.x-rt.x),d=w.getPointAtLength(Math.min(x,Y)),B="0px,"+x+"px,";var q=w.getPointAtLength(Y),H=w.getPointAtLength(Y-.1);M=Math.atan2(q.y-H.y,q.x-H.x),p=w.getPointAtLength(Math.max(0,Y-k)),B+=Y-(B?x+k:k)+"px,"+Y+"px",a.style("stroke-dasharray",B)}function C(){a.style("stroke-dasharray","0px,100px")}function F(L,X,E,Z){L.path&&(L.noRotate&&(E=0),t.select(w.parentNode).append("path").attr({class:a.attr("class"),d:L.path,transform:i(X.x,X.y)+l(180*E/Math.PI)+n(Z)}).style({fill:s.rgb(u.arrowcolor),"stroke-width":0}))}y&&F(v,d,m,A),T&&F(b,p,M,h)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(c,J,N){var t=c("./draw"),s=c("./click");J.exports={moduleType:"component",name:"annotations",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("annotations"),calcAutorange:c("./calc_autorange"),draw:t.draw,drawOne:t.drawOne,drawRaw:t.drawRaw,hasClickToShow:s.hasClickToShow,onClick:s.onClick,convertCoords:c("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(c,J,N){var t=c("../annotations/attributes"),s=c("../../plot_api/edit_types").overrideAll,o=c("../../plot_api/plot_template").templatedArray;J.exports=s(o("annotation",{visible:t.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:t.xanchor,xshift:t.xshift,yanchor:t.yanchor,yshift:t.yshift,text:t.text,textangle:t.textangle,font:t.font,width:t.width,height:t.height,opacity:t.opacity,align:t.align,valign:t.valign,bgcolor:t.bgcolor,bordercolor:t.bordercolor,borderpad:t.borderpad,borderwidth:t.borderwidth,showarrow:t.showarrow,arrowcolor:t.arrowcolor,arrowhead:t.arrowhead,startarrowhead:t.startarrowhead,arrowside:t.arrowside,arrowsize:t.arrowsize,startarrowsize:t.startarrowsize,arrowwidth:t.arrowwidth,standoff:t.standoff,startstandoff:t.startstandoff,hovertext:t.hovertext,hoverlabel:t.hoverlabel,captureevents:t.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/cartesian/axes");function o(e,n){var l=n.fullSceneLayout.domain,i=n.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},t.extendFlat(e._xa,a),s.setConvert(e._xa),e._xa._offset=i.l+l.x[0]*i.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*i.w*(l.x[1]-l.x[0])},e._ya={},t.extendFlat(e._ya,a),s.setConvert(e._ya),e._ya._offset=i.t+(1-l.y[1])*i.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*i.h*(l.y[1]-l.y[0])}}J.exports=function(e){for(var n=e.fullSceneLayout.annotations,l=0;l<n.length;l++)o(n[l],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("../annotations/common_defaults"),n=c("./attributes");function l(i,a,r,u){function d(m,M){return t.coerce(i,a,n,m,M)}function p(m){var M=m+"axis",w={_fullLayout:{}};return w._fullLayout[M]=r[M],s.coercePosition(a,w,d,m,m,.5)}d("visible")&&(e(i,a,u.fullLayout,d),p("x"),p("y"),p("z"),t.noneOrAll(i,a,["x","y","z"]),a.xref="x",a.yref="y",a.zref="z",d("xanchor"),d("yanchor"),d("xshift"),d("yshift"),a.showarrow&&(a.axref="pixel",a.ayref="pixel",d("ax",-10),d("ay",-30),t.noneOrAll(i,a,["ax","ay"])))}J.exports=function(i,a,r){o(i,a,{name:"annotations",handleItemDefaults:l,fullLayout:r.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(c,J,N){var t=c("../annotations/draw").drawRaw,s=c("../../plots/gl3d/project"),o=["x","y","z"];J.exports=function(e){for(var n=e.fullSceneLayout,l=e.dataScale,i=n.annotations,a=0;a<i.length;a++){for(var r=i[a],u=!1,d=0;d<3;d++){var p=o[d],m=r[p],M=n[p+"axis"].r2fraction(m);if(M<0||M>1){u=!0;break}}u?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+a+'"]').remove():(r._pdata=s(e.glplot.cameraParams,[n.xaxis.r2l(r.x)*l[0],n.yaxis.r2l(r.y)*l[1],n.zaxis.r2l(r.z)*l[2]]),t(e.graphDiv,r,a,e.id,r._xa,r._ya))}}},{"../../plots/gl3d/project":311,"../annotations/draw":91}],98:[function(c,J,N){var t=c("../../registry"),s=c("../../lib");J.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:c("./attributes")}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),includeBasePlot:function(o,e){var n=t.subplotsRegistry.gl3d;if(n)for(var l=n.attrRegex,i=Object.keys(o),a=0;a<i.length;a++){var r=i[a];l.test(r)&&(o[r].annotations||[]).length&&(s.pushUnique(e._basePlotModules,n),s.pushUnique(e._subplots.gl3d,r))}},convert:c("./convert"),draw:c("./draw")}},{"../../lib":232,"../../registry":316,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(c,J,N){J.exports=c("world-calendars/dist/main"),c("world-calendars/dist/plus"),c("world-calendars/dist/calendars/chinese"),c("world-calendars/dist/calendars/coptic"),c("world-calendars/dist/calendars/discworld"),c("world-calendars/dist/calendars/ethiopian"),c("world-calendars/dist/calendars/hebrew"),c("world-calendars/dist/calendars/islamic"),c("world-calendars/dist/calendars/julian"),c("world-calendars/dist/calendars/mayan"),c("world-calendars/dist/calendars/nanakshahi"),c("world-calendars/dist/calendars/nepali"),c("world-calendars/dist/calendars/persian"),c("world-calendars/dist/calendars/taiwan"),c("world-calendars/dist/calendars/thai"),c("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(c,J,N){var t=c("./calendars"),s=c("../../lib"),o=c("../../constants/numerical"),e=o.EPOCHJD,n=o.ONEDAY,l={valType:"enumerated",values:s.sortObjectKeys(t.calendars),editType:"calc",dflt:"gregorian"},i=function(v,h,A,y){var T={};return T[A]=l,s.coerce(v,h,T,A,y)},a={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function u(v){var h=r[v];return h||(h=r[v]=t.instance(v))}function d(v){return s.extendFlat({},l,{description:v})}function p(v){return"Sets the calendar system to use with `"+v+"` date data."}var m={xcalendar:d(p("x"))},M=s.extendFlat({},m,{ycalendar:d(p("y"))}),w=s.extendFlat({},M,{zcalendar:d(p("z"))}),b=d(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));J.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:M,bar:M,box:M,heatmap:M,contour:M,histogram:M,histogram2d:M,histogram2dcontour:M,scatter3d:w,surface:w,mesh3d:w,scattergl:M,ohlc:m,candlestick:m},layout:{calendar:d(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:d(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:d(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:l,handleDefaults:i,handleTraceDefaults:function(v,h,A,y){for(var T=0;T<A.length;T++)i(v,h,A[T]+"calendar",y.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:u,worldCalFmt:function(v,h,A){for(var y,T,k,x,D,z=Math.floor((h+.05)/n)+e,g=u(A).fromJD(z),R=0;(R=v.indexOf("%",R))!==-1;)(y=v.charAt(R+1))==="0"||y==="-"||y==="_"?(k=3,T=v.charAt(R+2),y==="_"&&(y="-")):(T=y,y="0",k=2),(x=a[T])?(D=x==="##"?"##":g.formatDate(x[y]),v=v.substr(0,R)+D+v.substr(R+k),R+=D.length):R+=k;return v}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(c,J,N){N.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],N.defaultLine="#444",N.lightLine="#eee",N.background="#fff",N.borderLine="#BEC8D9",N.lightFraction=1e3/11},{}],102:[function(c,J,N){var t=c("tinycolor2"),s=c("fast-isnumeric"),o=c("../../lib/array").isTypedArray,e=J.exports={},n=c("./attributes");e.defaults=n.defaults;var l=e.defaultLine=n.defaultLine;e.lightLine=n.lightLine;var i=e.background=n.background;function a(r){if(s(r)||typeof r!="string")return r;var u=r.trim();if(u.substr(0,3)!=="rgb")return r;var d=u.match(/^rgba?\s*\(([^()]*)\)$/);if(!d)return r;var p=d[1].trim().split(/\s*[\s,]\s*/),m=u.charAt(3)==="a"&&p.length===4;if(!m&&p.length!==3)return r;for(var M=0;M<p.length;M++){if(!p[M].length||(p[M]=Number(p[M]),!(p[M]>=0)))return r;if(M===3)p[M]>1&&(p[M]=1);else if(p[M]>=1)return r}var w=Math.round(255*p[0])+", "+Math.round(255*p[1])+", "+Math.round(255*p[2]);return m?"rgba("+w+", "+p[3]+")":"rgb("+w+")"}e.tinyRGB=function(r){var u=r.toRgb();return"rgb("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+")"},e.rgb=function(r){return e.tinyRGB(t(r))},e.opacity=function(r){return r?t(r).getAlpha():0},e.addOpacity=function(r,u){var d=t(r).toRgb();return"rgba("+Math.round(d.r)+", "+Math.round(d.g)+", "+Math.round(d.b)+", "+u+")"},e.combine=function(r,u){var d=t(r).toRgb();if(d.a===1)return t(r).toRgbString();var p=t(u||i).toRgb(),m=p.a===1?p:{r:255*(1-p.a)+p.r*p.a,g:255*(1-p.a)+p.g*p.a,b:255*(1-p.a)+p.b*p.a},M={r:m.r*(1-d.a)+d.r*d.a,g:m.g*(1-d.a)+d.g*d.a,b:m.b*(1-d.a)+d.b*d.a};return t(M).toRgbString()},e.contrast=function(r,u,d){var p=t(r);return p.getAlpha()!==1&&(p=t(e.combine(r,i))),(p.isDark()?u?p.lighten(u):i:d?p.darken(d):l).toString()},e.stroke=function(r,u){var d=t(u);r.style({stroke:e.tinyRGB(d),"stroke-opacity":d.getAlpha()})},e.fill=function(r,u){var d=t(u);r.style({fill:e.tinyRGB(d),"fill-opacity":d.getAlpha()})},e.clean=function(r){if(r&&typeof r=="object"){var u,d,p,m,M=Object.keys(r);for(u=0;u<M.length;u++)if(m=r[p=M[u]],p.substr(p.length-5)==="color")if(Array.isArray(m))for(d=0;d<m.length;d++)m[d]=a(m[d]);else r[p]=a(m);else if(p.substr(p.length-10)==="colorscale"&&Array.isArray(m))for(d=0;d<m.length;d++)Array.isArray(m[d])&&(m[d][1]=a(m[d][1]));else if(Array.isArray(m)){var w=m[0];if(!Array.isArray(w)&&w&&typeof w=="object")for(d=0;d<m.length;d++)e.clean(m[d])}else m&&typeof m=="object"&&!o(m)&&e.clean(m)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(c,J,N){var t=c("../../plots/cartesian/layout_attributes"),s=c("../../plots/font_attributes"),o=c("../../lib/extend").extendFlat,e=c("../../plot_api/edit_types").overrideAll;J.exports=e({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:t.linecolor,outlinewidth:t.linewidth,bordercolor:t.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:o({},t.ticks,{dflt:""}),ticklabeloverflow:o({},t.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,tickfont:s({}),tickangle:t.tickangle,tickformat:t.tickformat,tickformatstops:t.tickformatstops,tickprefix:t.tickprefix,showtickprefix:t.showtickprefix,ticksuffix:t.ticksuffix,showticksuffix:t.showticksuffix,separatethousands:t.separatethousands,exponentformat:t.exponentformat,minexponent:t.minexponent,showexponent:t.showexponent,title:{text:{valType:"string"},font:s({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:s({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":308}],104:[function(c,J,N){J.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(c,J,N){var t=c("../../lib"),s=c("../../plot_api/plot_template"),o=c("../../plots/cartesian/tick_value_defaults"),e=c("../../plots/cartesian/tick_mark_defaults"),n=c("../../plots/cartesian/tick_label_defaults"),l=c("./attributes");J.exports=function(i,a,r){var u=s.newContainer(a,"colorbar"),d=i.colorbar||{};function p(y,T){return t.coerce(d,u,l,y,T)}var m=p("thicknessmode");p("thickness",m==="fraction"?30/(r.width-r.margin.l-r.margin.r):30);var M=p("lenmode");p("len",M==="fraction"?1:r.height-r.margin.t-r.margin.b),p("x"),p("xanchor"),p("xpad"),p("y"),p("yanchor"),p("ypad"),t.noneOrAll(d,u,["x","y"]),p("outlinecolor"),p("outlinewidth"),p("bordercolor"),p("borderwidth"),p("bgcolor");var w=p("ticklabelposition");p("ticklabeloverflow",w.indexOf("inside")!==-1?"hide past domain":"hide past div"),o(d,u,p,"linear");var b=r.font,v={outerTicks:!1,font:b};w.indexOf("inside")!==-1&&(v.bgColor="black"),n(d,u,p,"linear",v),e(d,u,p,"linear",v),p("title.text",r._dfltTitle.colorbar);var h=u.tickfont,A=t.extendFlat({},h,{color:b.color,size:t.bigFont(h.size)});t.coerceFont(p,"title.font",A),p("title.side")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/tick_label_defaults":301,"../../plots/cartesian/tick_mark_defaults":302,"../../plots/cartesian/tick_value_defaults":303,"./attributes":103}],106:[function(c,J,N){var t=c("@plotly/d3"),s=c("tinycolor2"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../plots/cartesian/axes"),l=c("../dragelement"),i=c("../../lib"),a=i.strTranslate,r=c("../../lib/extend").extendFlat,u=c("../../lib/setcursor"),d=c("../drawing"),p=c("../color"),m=c("../titles"),M=c("../../lib/svg_text_utils"),w=c("../colorscale/helpers").flipScale,b=c("../../plots/cartesian/axis_defaults"),v=c("../../plots/cartesian/position_defaults"),h=c("../../plots/cartesian/layout_attributes"),A=c("../../constants/alignment"),y=A.LINE_SPACING,T=A.FROM_TL,k=A.FROM_BR,x=c("./constants").cn;J.exports={draw:function(D){var z=D._fullLayout._infolayer.selectAll("g."+x.colorbar).data(function(g){var R,I,j,Y,B=g._fullLayout,$=g.calcdata,rt=[];function q(G){return r(G,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function H(){typeof Y.calc=="function"?Y.calc(g,j,R):(R._fillgradient=I.reversescale?w(I.colorscale):I.colorscale,R._zrange=[I[Y.min],I[Y.max]])}for(var C=0;C<$.length;C++){var F=$[C],L=(j=F[0].trace)._module.colorbar;if(j.visible===!0&&L)for(var X=Array.isArray(L),E=X?L:[L],Z=0;Z<E.length;Z++){var S=(Y=E[Z]).container;(I=S?j[S]:j)&&I.showscale&&((R=q(I.colorbar))._id="cb"+j.uid+(X&&S?"-"+S:""),R._traceIndex=j.index,R._propPrefix=(S?S+".":"")+"colorbar.",R._meta=j._meta,H(),rt.push(R))}}for(var U in B._colorAxes)if((I=B[U]).showscale){var P=B._colorAxes[U];(R=q(I.colorbar))._id="cb"+U,R._propPrefix=U+".colorbar.",R._meta=B._meta,Y={min:"cmin",max:"cmax"},P[0]!=="heatmap"&&(j=P[1],Y.calc=j._module.colorbar.calc),H(),rt.push(R)}return rt}(D),function(g){return g._id});z.enter().append("g").attr("class",function(g){return g._id}).classed(x.colorbar,!0),z.each(function(g){var R=t.select(this);i.ensureSingle(R,"rect",x.cbbg),i.ensureSingle(R,"g",x.cbfills),i.ensureSingle(R,"g",x.cblines),i.ensureSingle(R,"g",x.cbaxis,function(j){j.classed(x.crisp,!0)}),i.ensureSingle(R,"g",x.cbtitleunshift,function(j){j.append("g").classed(x.cbtitle,!0)}),i.ensureSingle(R,"rect",x.cboutline);var I=function(j,Y,B){var $=B._fullLayout,rt=$._size,q=Y._fillcolor,H=Y._line,C=Y.title,F=C.side,L=Y._zrange||t.extent((typeof q=="function"?q:H.color).domain()),X=typeof H.color=="function"?H.color:function(){return H.color},E=typeof q=="function"?q:function(){return q},Z=Y._levels,S=function(wt,At,Xt){var kt,Bt,Zt=At._levels,Ht=[],ee=[],qt=Zt.end+Zt.size/100,vt=Zt.size,bt=1.001*Xt[0]-.001*Xt[1],Gt=1.001*Xt[1]-.001*Xt[0];for(Bt=0;Bt<1e5&&(kt=Zt.start+Bt*vt,!(vt>0?kt>=qt:kt<=qt));Bt++)kt>bt&&kt<Gt&&Ht.push(kt);if(At._fillgradient)ee=[0];else if(typeof At._fillcolor=="function"){var re=At._filllevels;if(re)for(qt=re.end+re.size/100,vt=re.size,Bt=0;Bt<1e5&&(kt=re.start+Bt*vt,!(vt>0?kt>=qt:kt<=qt));Bt++)kt>Xt[0]&&kt<Xt[1]&&ee.push(kt);else(ee=Ht.map(function(xe){return xe-Zt.size/2})).push(ee[ee.length-1]+Zt.size)}else At._fillcolor&&typeof At._fillcolor=="string"&&(ee=[0]);return Zt.size<0&&(Ht.reverse(),ee.reverse()),{line:Ht,fill:ee}}(0,Y,L),U=S.fill,P=S.line,G=Math.round(Y.thickness*(Y.thicknessmode==="fraction"?rt.w:1)),Q=G/rt.w,et=Math.round(Y.len*(Y.lenmode==="fraction"?rt.h:1)),tt=et/rt.h,lt=Y.xpad/rt.w,ct=(Y.borderwidth+Y.outlinewidth)/2,mt=Y.ypad/rt.h,Mt=Math.round(Y.x*rt.w+Y.xpad),St=Y.x-Q*({middle:.5,right:1}[Y.xanchor]||0),_t=Y.y+tt*(({top:-.5,bottom:.5}[Y.yanchor]||0)-.5),Yt=Math.round(rt.h*(1-_t)),Et=Yt-et;Y._lenFrac=tt,Y._thickFrac=Q,Y._xLeftFrac=St,Y._yBottomFrac=_t;var gt=Y._axis=function(wt,At,Xt){var kt=wt._fullLayout,Bt={type:"linear",range:Xt,tickmode:At.tickmode,nticks:At.nticks,tick0:At.tick0,dtick:At.dtick,tickvals:At.tickvals,ticktext:At.ticktext,ticks:At.ticks,ticklen:At.ticklen,tickwidth:At.tickwidth,tickcolor:At.tickcolor,showticklabels:At.showticklabels,ticklabelposition:At.ticklabelposition,ticklabeloverflow:At.ticklabeloverflow,tickfont:At.tickfont,tickangle:At.tickangle,tickformat:At.tickformat,exponentformat:At.exponentformat,minexponent:At.minexponent,separatethousands:At.separatethousands,showexponent:At.showexponent,showtickprefix:At.showtickprefix,tickprefix:At.tickprefix,showticksuffix:At.showticksuffix,ticksuffix:At.ticksuffix,title:At.title,showline:!0,anchor:"free",side:"right",position:1},Zt={type:"linear",_id:"y"+At._id},Ht={letter:"y",font:kt.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:kt.calendar};function ee(qt,vt){return i.coerce(Bt,Zt,h,qt,vt)}return b(Bt,Zt,ee,Ht,kt),v(Bt,Zt,ee,Ht),Zt}(B,Y,L);if(gt.position=Y.x+lt+Q,["top","bottom"].indexOf(F)!==-1&&(gt.title.side=F,gt.titlex=Y.x+lt,gt.titley=_t+(C.side==="top"?tt-mt:mt)),H.color&&Y.tickmode==="auto"){gt.tickmode="linear",gt.tick0=Z.start;var ot=Z.size,nt=i.constrain((Yt-Et)/50,4,15)+1,ut=(L[1]-L[0])/((Y.nticks||nt)*ot);if(ut>1){var ht=Math.pow(10,Math.floor(Math.log(ut)/Math.LN10));ot*=ht*i.roundUp(ut/ht,[2,5,10]),(Math.abs(Z.start)/Z.size+1e-6)%1<2e-6&&(gt.tick0=0)}gt.dtick=ot}gt.domain=[_t+mt,_t+tt-mt],gt.setScale(),j.attr("transform",a(Math.round(rt.l),Math.round(rt.t)));var Dt,Tt=j.select("."+x.cbtitleunshift).attr("transform",a(-Math.round(rt.l),-Math.round(rt.t))),xt=j.select("."+x.cbaxis),Ot=0;function It(wt,At){var Xt={propContainer:gt,propName:Y._propPrefix+"title",traceIndex:Y._traceIndex,_meta:Y._meta,placeholder:$._dfltTitle.colorbar,containerGroup:j.select("."+x.cbtitle)},kt=wt.charAt(0)==="h"?wt.substr(1):"h"+wt;j.selectAll("."+kt+",."+kt+"-math-group").remove(),m.draw(B,wt,r(Xt,At||{}))}return i.syncOrAsync([o.previousPromises,function(){if(["top","bottom"].indexOf(F)!==-1){var wt,At=rt.l+(Y.x+lt)*rt.w,Xt=gt.title.font.size;wt=F==="top"?(1-(_t+tt-mt))*rt.h+rt.t+3+.75*Xt:(1-(_t+mt))*rt.h+rt.t-3-.25*Xt,It(gt._id+"title",{attributes:{x:At,y:wt,"text-anchor":"start"}})}},function(){if(["top","bottom"].indexOf(F)!==-1){var wt=j.select("."+x.cbtitle),At=wt.select("text"),Xt=[-Y.outlinewidth/2,Y.outlinewidth/2],kt=wt.select(".h"+gt._id+"title-math-group").node(),Bt=15.6;if(At.node()&&(Bt=parseInt(At.node().style.fontSize,10)*y),kt?(Ot=d.bBox(kt).height)>Bt&&(Xt[1]-=(Ot-Bt)/2):At.node()&&!At.classed(x.jsPlaceholder)&&(Ot=d.bBox(At.node()).height),Ot){if(Ot+=5,F==="top")gt.domain[1]-=Ot/rt.h,Xt[1]*=-1;else{gt.domain[0]+=Ot/rt.h;var Zt=M.lineCount(At);Xt[1]+=(1-Zt)*Bt}wt.attr("transform",a(Xt[0],Xt[1])),gt.setScale()}}j.selectAll("."+x.cbfills+",."+x.cblines).attr("transform",a(0,Math.round(rt.h*(1-gt.domain[1])))),xt.attr("transform",a(0,Math.round(-rt.t)));var Ht=j.select("."+x.cbfills).selectAll("rect."+x.cbfill).attr("style","").data(U);Ht.enter().append("rect").classed(x.cbfill,!0).style("stroke","none"),Ht.exit().remove();var ee=L.map(gt.c2p).map(Math.round).sort(function(re,xe){return re-xe});Ht.each(function(re,xe){var at=[xe===0?L[0]:(U[xe]+U[xe-1])/2,xe===U.length-1?L[1]:(U[xe]+U[xe+1])/2].map(gt.c2p).map(Math.round);at[1]=i.constrain(at[1]+(at[1]>at[0])?1:-1,ee[0],ee[1]);var st=t.select(this).attr({x:Mt,width:Math.max(G,2),y:t.min(at),height:Math.max(t.max(at)-t.min(at),2)});if(Y._fillgradient)d.gradient(st,B,Y._id,"vertical",Y._fillgradient,"fill");else{var Lt=E(re).replace("e-","");st.attr("fill",s(Lt).toHexString())}});var qt=j.select("."+x.cblines).selectAll("path."+x.cbline).data(H.color&&H.width?P:[]);qt.enter().append("path").classed(x.cbline,!0),qt.exit().remove(),qt.each(function(re){t.select(this).attr("d","M"+Mt+","+(Math.round(gt.c2p(re))+H.width/2%1)+"h"+G).call(d.lineGroupStyle,H.width,X(re),H.dash)}),xt.selectAll("g."+gt._id+"tick,path").remove();var vt=Mt+G+(Y.outlinewidth||0)/2-(Y.ticks==="outside"?1:0),bt=n.calcTicks(gt),Gt=n.getTickSigns(gt)[2];return n.drawTicks(B,gt,{vals:gt.ticks==="inside"?n.clipEnds(gt,bt):bt,layer:xt,path:n.makeTickPath(gt,vt,Gt),transFn:n.makeTransTickFn(gt)}),n.drawLabels(B,gt,{vals:bt,layer:xt,transFn:n.makeTransTickLabelFn(gt),labelFns:n.makeLabelFns(gt,vt)})},function(){if(["top","bottom"].indexOf(F)===-1){var wt=gt.title.font.size,At=gt._offset+gt._length/2,Xt=rt.l+(gt.position||0)*rt.w+(gt.side==="right"?10+wt*(gt.showticklabels?1:.5):-10-wt*(gt.showticklabels?.5:0));It("h"+gt._id+"title",{avoid:{selection:t.select(B).selectAll("g."+gt._id+"tick"),side:F,offsetLeft:rt.l,offsetTop:0,maxShift:$.width},attributes:{x:Xt,y:At,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}},o.previousPromises,function(){var wt=G+Y.outlinewidth/2;if(gt.ticklabelposition.indexOf("inside")===-1&&(wt+=d.bBox(xt.node()).width),(Dt=Tt.select("text")).node()&&!Dt.classed(x.jsPlaceholder)){var At,Xt=Tt.select(".h"+gt._id+"title-math-group").node();At=Xt&&["top","bottom"].indexOf(F)!==-1?d.bBox(Xt).width:d.bBox(Tt.node()).right-Mt-rt.l,wt=Math.max(wt,At)}var kt=2*Y.xpad+wt+Y.borderwidth+Y.outlinewidth/2,Bt=Yt-Et;j.select("."+x.cbbg).attr({x:Mt-Y.xpad-(Y.borderwidth+Y.outlinewidth)/2,y:Et-ct,width:Math.max(kt,2),height:Math.max(Bt+2*ct,2)}).call(p.fill,Y.bgcolor).call(p.stroke,Y.bordercolor).style("stroke-width",Y.borderwidth),j.selectAll("."+x.cboutline).attr({x:Mt,y:Et+Y.ypad+(F==="top"?Ot:0),width:Math.max(G,2),height:Math.max(Bt-2*Y.ypad-Ot,2)}).call(p.stroke,Y.outlinecolor).style({fill:"none","stroke-width":Y.outlinewidth});var Zt=({center:.5,right:1}[Y.xanchor]||0)*kt;j.attr("transform",a(rt.l-Zt,rt.t));var Ht={},ee=T[Y.yanchor],qt=k[Y.yanchor];Y.lenmode==="pixels"?(Ht.y=Y.y,Ht.t=Bt*ee,Ht.b=Bt*qt):(Ht.t=Ht.b=0,Ht.yt=Y.y+Y.len*ee,Ht.yb=Y.y-Y.len*qt);var vt=T[Y.xanchor],bt=k[Y.xanchor];if(Y.thicknessmode==="pixels")Ht.x=Y.x,Ht.l=kt*vt,Ht.r=kt*bt;else{var Gt=kt-G;Ht.l=Gt*vt,Ht.r=Gt*bt,Ht.xl=Y.x-Y.thickness*vt,Ht.xr=Y.x+Y.thickness*bt}o.autoMargin(B,Y._id,Ht)}],B)}(R,g,D);I&&I.then&&(D._promises||[]).push(I),D._context.edits.colorbarPosition&&function(j,Y,B){var $,rt,q,H=B._fullLayout._size;l.init({element:j.node(),gd:B,prepFn:function(){$=j.attr("transform"),u(j)},moveFn:function(C,F){j.attr("transform",$+a(C,F)),rt=l.align(Y._xLeftFrac+C/H.w,Y._thickFrac,0,1,Y.xanchor),q=l.align(Y._yBottomFrac-F/H.h,Y._lenFrac,0,1,Y.yanchor);var L=l.getCursor(rt,q,Y.xanchor,Y.yanchor);u(j,L)},doneFn:function(){if(u(j),rt!==void 0&&q!==void 0){var C={};C[Y._propPrefix+"x"]=rt,C[Y._propPrefix+"y"]=q,Y._traceIndex!==void 0?e.call("_guiRestyle",B,C,Y._traceIndex):e.call("_guiRelayout",B,C)}}})}(R,g,D)}),z.exit().each(function(g){o.autoMargin(D,g._id)}).remove(),z.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":314,"../../registry":316,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(c,J,N){var t=c("../../lib");J.exports=function(s){return t.isPlainObject(s.colorbar)}},{"../../lib":232}],108:[function(c,J,N){J.exports={moduleType:"component",name:"colorbar",attributes:c("./attributes"),supplyDefaults:c("./defaults"),draw:c("./draw").draw,hasColorbar:c("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(c,J,N){var t=c("../colorbar/attributes"),s=c("../../lib/regex").counter,o=c("../../lib/sort_object_keys"),e=c("./scales.js").scales;o(e);function n(l){return"`"+l+"`"}J.exports=function(l,i){l=l||"";var a,r=(i=i||{}).cLetter||"c",u=("onlyIfNumerical"in i&&i.onlyIfNumerical,"noScale"in i?i.noScale:l==="marker.line"),d="showScaleDflt"in i?i.showScaleDflt:r==="z",p=typeof i.colorscaleDflt=="string"?e[i.colorscaleDflt]:null,m=i.editTypeOverride||"",M=l?l+".":"";"colorAttr"in i?(a=i.colorAttr,i.colorAttr):n(M+(a={z:"z",c:"color"}[r]));var w=r+"auto",b=r+"min",v=r+"max",h=r+"mid",A={};A[b]=A[v]=void 0;var y={};y[w]=!1;var T={};return a==="color"&&(T.color={valType:"color",arrayOk:!0,editType:m||"style"},i.anim&&(T.color.anim=!0)),T[w]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:A},T[b]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:y},T[v]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:y},T[h]={valType:"number",dflt:null,editType:"calc",impliedEdits:A},T.colorscale={valType:"colorscale",editType:"calc",dflt:p,impliedEdits:{autocolorscale:!1}},T.autocolorscale={valType:"boolean",dflt:i.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},T.reversescale={valType:"boolean",dflt:!1,editType:"plot"},u||(T.showscale={valType:"boolean",dflt:d,editType:"calc"},T.colorbar=t),i.noColorAxis||(T.coloraxis={valType:"subplotid",regex:s("coloraxis"),dflt:null,editType:"calc"}),T}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib"),o=c("./helpers").extractOpts;J.exports=function(e,n,l){var i,a=e._fullLayout,r=l.vals,u=l.containerStr,d=u?s.nestedProperty(n,u).get():n,p=o(d),m=p.auto!==!1,M=p.min,w=p.max,b=p.mid,v=function(){return s.aggNums(Math.min,null,r)},h=function(){return s.aggNums(Math.max,null,r)};M===void 0?M=v():m&&(M=d._colorAx&&t(M)?Math.min(M,v()):v()),w===void 0?w=h():m&&(w=d._colorAx&&t(w)?Math.max(w,h()):h()),m&&b!==void 0&&(w-b>b-M?M=b-(w-b):w-b<b-M&&(w=b+(b-M))),M===w&&(M-=.5,w+=.5),p._sync("min",M),p._sync("max",w),p.autocolorscale&&(i=M*w<0?a.colorscale.diverging:M>=0?a.colorscale.sequential:a.colorscale.sequentialminus,p._sync("colorscale",i))}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(c,J,N){var t=c("../../lib"),s=c("./helpers").hasColorscale,o=c("./helpers").extractOpts;J.exports=function(e,n){function l(m,M){var w=m["_"+M];w!==void 0&&(m[M]=w)}function i(m,M){var w=M.container?t.nestedProperty(m,M.container).get():m;if(w)if(w.coloraxis)w._colorAx=n[w.coloraxis];else{var b=o(w),v=b.auto;(v||b.min===void 0)&&l(w,M.min),(v||b.max===void 0)&&l(w,M.max),b.autocolorscale&&l(w,"colorscale")}}for(var a=0;a<e.length;a++){var r=e[a],u=r._module.colorbar;if(u)if(Array.isArray(u))for(var d=0;d<u.length;d++)i(r,u[d]);else i(r,u);s(r,"marker.line")&&i(r,{container:"marker.line",min:"cmin",max:"cmax"})}for(var p in n._colorAxes)i(n[p],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib"),o=c("../colorbar/has_colorbar"),e=c("../colorbar/defaults"),n=c("./scales").isValid,l=c("../../registry").traceIs;function i(a,r){var u=r.slice(0,r.length-1);return r?s.nestedProperty(a,u).get()||{}:a}J.exports=function a(r,u,d,p,m){var M=m.prefix,w=m.cLetter,b="_module"in u,v=i(r,M),h=i(u,M),A=i(u._template||{},M)||{},y=function(){return delete r.coloraxis,delete u.coloraxis,a(r,u,d,p,m)};if(b){var T=d._colorAxes||{},k=p(M+"coloraxis");if(k){var x=l(u,"contour")&&s.nestedProperty(u,"contours.coloring").get()||"heatmap",D=T[k];return void(D?(D[2].push(y),D[0]!==x&&(D[0]=!1,s.warn(["Ignoring coloraxis:",k,"setting","as it is linked to incompatible colorscales."].join(" ")))):T[k]=[x,u,[y]])}}var z=v[w+"min"],g=v[w+"max"],R=t(z)&&t(g)&&z<g;p(M+w+"auto",!R)?p(M+w+"mid"):(p(M+w+"min"),p(M+w+"max"));var I,j,Y=v.colorscale,B=A.colorscale;Y!==void 0&&(I=!n(Y)),B!==void 0&&(I=!n(B)),p(M+"autocolorscale",I),p(M+"colorscale"),p(M+"reversescale"),M!=="marker.line."&&(M&&b&&(j=o(v)),p(M+"showscale",j)&&(M&&A&&(h._template=A),e(v,h,d)))}},{"../../lib":232,"../../registry":316,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(c,J,N){var t=c("@plotly/d3"),s=c("tinycolor2"),o=c("fast-isnumeric"),e=c("../../lib"),n=c("../color"),l=c("./scales").isValid,i=["showscale","autocolorscale","colorscale","reversescale","colorbar"],a=["min","max","mid","auto"];function r(M){var w,b,v,h=M._colorAx,A=h||M,y={};for(b=0;b<i.length;b++)y[v=i[b]]=A[v];if(h)for(w="c",b=0;b<a.length;b++)y[v=a[b]]=A["c"+v];else{var T;for(b=0;b<a.length;b++)((T="c"+(v=a[b]))in A||(T="z"+v)in A)&&(y[v]=A[T]);w=T.charAt(0)}return y._sync=function(k,x){var D=a.indexOf(k)!==-1?w+k:k;A[D]=A["_"+D]=x},y}function u(M){for(var w=r(M),b=w.min,v=w.max,h=w.reversescale?d(w.colorscale):w.colorscale,A=h.length,y=new Array(A),T=new Array(A),k=0;k<A;k++){var x=h[k];y[k]=b+x[0]*(v-b),T[k]=x[1]}return{domain:y,range:T}}function d(M){for(var w=M.length,b=new Array(w),v=w-1,h=0;v>=0;v--,h++){var A=M[v];b[h]=[1-A[0],A[1]]}return b}function p(M,w){w=w||{};for(var b=M.domain,v=M.range,h=v.length,A=new Array(h),y=0;y<h;y++){var T=s(v[y]).toRgb();A[y]=[T.r,T.g,T.b,T.a]}var k,x=t.scale.linear().domain(b).range(A).clamp(!0),D=w.noNumericCheck,z=w.returnArray;return(k=D&&z?x:D?function(g){return m(x(g))}:z?function(g){return o(g)?x(g):s(g).isValid()?g:n.defaultLine}:function(g){return o(g)?m(x(g)):s(g).isValid()?g:n.defaultLine}).domain=x.domain,k.range=function(){return v},k}function m(M){var w={r:M[0],g:M[1],b:M[2],a:M[3]};return s(w).toRgbString()}J.exports={hasColorscale:function(M,w,b){var v=w?e.nestedProperty(M,w).get()||{}:M,h=v[b||"color"],A=!1;if(e.isArrayOrTypedArray(h)){for(var y=0;y<h.length;y++)if(o(h[y])){A=!0;break}}return e.isPlainObject(v)&&(A||v.showscale===!0||o(v.cmin)&&o(v.cmax)||l(v.colorscale)||e.isPlainObject(v.colorbar))},extractOpts:r,extractScale:u,flipScale:d,makeColorScaleFunc:p,makeColorScaleFuncFromTrace:function(M,w){return p(u(M),w)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(c,J,N){var t=c("./scales"),s=c("./helpers");J.exports={moduleType:"component",name:"colorscale",attributes:c("./attributes"),layoutAttributes:c("./layout_attributes"),supplyLayoutDefaults:c("./layout_defaults"),handleDefaults:c("./defaults"),crossTraceDefaults:c("./cross_trace_defaults"),calc:c("./calc"),scales:t.scales,defaultScale:t.defaultScale,getScale:t.get,isValidScale:t.isValid,hasColorscale:s.hasColorscale,extractOpts:s.extractOpts,extractScale:s.extractScale,flipScale:s.flipScale,makeColorScaleFunc:s.makeColorScaleFunc,makeColorScaleFuncFromTrace:s.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(c,J,N){var t=c("../../lib/extend").extendFlat,s=c("./attributes"),o=c("./scales").scales;J.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:t({_isSubplotObj:!0,editType:"calc"},s("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(c,J,N){var t=c("../../lib"),s=c("../../plot_api/plot_template"),o=c("./layout_attributes"),e=c("./defaults");J.exports=function(n,l){function i(w,b){return t.coerce(n,l,o,w,b)}i("colorscale.sequential"),i("colorscale.sequentialminus"),i("colorscale.diverging");var a,r,u=l._colorAxes;function d(w,b){return t.coerce(a,r,o.coloraxis,w,b)}for(var p in u){var m=u[p];if(m[0])a=n[p]||{},(r=s.newContainer(l,p,"coloraxis"))._name=p,e(a,r,l,d,{prefix:"",cLetter:"c"});else{for(var M=0;M<m[2].length;M++)m[2][M]();delete l._colorAxes[p]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(c,J,N){var t=c("tinycolor2"),s={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=s.RdBu;function e(n){var l=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(a.length!==2||+a[0]<l||!t(a[1]).isValid())return!1;l=+a[0]}return!0}J.exports={scales:s,defaultScale:o,get:function(n,l){if(l||(l=o),!n)return l;function i(){try{n=s[n]||JSON.parse(n)}catch{n=l}}return typeof n=="string"&&(i(),typeof n=="string"&&i()),e(n)?n:l},isValid:function(n){return s[n]!==void 0||e(n)}}},{tinycolor2:67}],118:[function(c,J,N){J.exports=function(t,s,o,e,n){var l=(t-o)/(e-o),i=l+s/(e-o),a=(l+i)/2;return n==="left"||n==="bottom"?l:n==="center"||n==="middle"?a:n==="right"||n==="top"?i:l<2/3-a?l:i>4/3-a?i:a}},{}],119:[function(c,J,N){var t=c("../../lib"),s=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];J.exports=function(o,e,n,l){return o=n==="left"?0:n==="center"?1:n==="right"?2:t.constrain(Math.floor(3*o),0,2),e=l==="bottom"?0:l==="middle"?1:l==="top"?2:t.constrain(Math.floor(3*e),0,2),s[e][o]}},{"../../lib":232}],120:[function(c,J,N){N.selectMode=function(t){return t==="lasso"||t==="select"},N.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},N.openMode=function(t){return t==="drawline"||t==="drawopenpath"},N.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},N.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},N.selectingOrDrawing=function(t){return N.freeMode(t)||N.rectMode(t)}},{}],121:[function(c,J,N){var t=c("mouse-event-offset"),s=c("has-hover"),o=c("has-passive-events"),e=c("../../lib").removeElement,n=c("../../plots/cartesian/constants"),l=J.exports={};l.align=c("./align"),l.getCursor=c("./cursor");var i=c("./unhover");function a(){var u=document.createElement("div");u.className="dragcover";var d=u.style;return d.position="fixed",d.left=0,d.right=0,d.top=0,d.bottom=0,d.zIndex=999999999,d.background="none",document.body.appendChild(u),u}function r(u){return t(u.changedTouches?u.changedTouches[0]:u,document.body)}l.unhover=i.wrapped,l.unhoverRaw=i.raw,l.init=function(u){var d,p,m,M,w,b,v,h,A=u.gd,y=1,T=A._context.doubleClickDelay,k=u.element;A._mouseDownTime||(A._mouseDownTime=0),k.style.pointerEvents="all",k.onmousedown=D,o?(k._ontouchstart&&k.removeEventListener("touchstart",k._ontouchstart),k._ontouchstart=D,k.addEventListener("touchstart",D,{passive:!1})):k.ontouchstart=D;var x=u.clampFn||function(R,I,j){return Math.abs(R)<j&&(R=0),Math.abs(I)<j&&(I=0),[R,I]};function D(R){A._dragged=!1,A._dragging=!0;var I=r(R);d=I[0],p=I[1],v=R.target,b=R,h=R.buttons===2||R.ctrlKey,R.clientX===void 0&&R.clientY===void 0&&(R.clientX=d,R.clientY=p),(m=new Date().getTime())-A._mouseDownTime<T?y+=1:(y=1,A._mouseDownTime=m),u.prepFn&&u.prepFn(R,d,p),s&&!h?(w=a()).style.cursor=window.getComputedStyle(k).cursor:s||(w=document,M=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(k).cursor),document.addEventListener("mouseup",g),document.addEventListener("touchend",g),u.dragmode!==!1&&(R.preventDefault(),document.addEventListener("mousemove",z),document.addEventListener("touchmove",z,{passive:!1}))}function z(R){R.preventDefault();var I=r(R),j=u.minDrag||n.MINDRAG,Y=x(I[0]-d,I[1]-p,j),B=Y[0],$=Y[1];(B||$)&&(A._dragged=!0,l.unhover(A,R)),A._dragged&&u.moveFn&&!h&&(A._dragdata={element:k,dx:B,dy:$},u.moveFn(B,$))}function g(R){if(delete A._dragdata,u.dragmode!==!1&&(R.preventDefault(),document.removeEventListener("mousemove",z),document.removeEventListener("touchmove",z)),document.removeEventListener("mouseup",g),document.removeEventListener("touchend",g),s?e(w):M&&(w.documentElement.style.cursor=M,M=null),A._dragging){if(A._dragging=!1,new Date().getTime()-A._mouseDownTime>T&&(y=Math.max(y-1,1)),A._dragged)u.doneFn&&u.doneFn();else if(u.clickFn&&u.clickFn(y,b),!h){var I;try{I=new MouseEvent("click",R)}catch{var j=r(R);(I=document.createEvent("MouseEvents")).initMouseEvent("click",R.bubbles,R.cancelable,R.view,R.detail,R.screenX,R.screenY,j[0],j[1],R.ctrlKey,R.altKey,R.shiftKey,R.metaKey,R.button,R.relatedTarget)}v.dispatchEvent(I)}A._dragging=!1,A._dragged=!1}else A._dragged=!1}},l.coverSlip=a},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(c,J,N){var t=c("../../lib/events"),s=c("../../lib/throttle"),o=c("../../lib/dom").getGraphDiv,e=c("../fx/constants"),n=J.exports={};n.wrapped=function(l,i,a){(l=o(l))._fullLayout&&s.clear(l._fullLayout._uid+e.HOVERID),n.raw(l,i,a)},n.raw=function(l,i){var a=l._fullLayout,r=l._hoverdata;i||(i={}),i.target&&!l._dragged&&t.triggerHandler(l,"plotly_beforehover",i)===!1||(a._hoverlayer.selectAll("g").remove(),a._hoverlayer.selectAll("line").remove(),a._hoverlayer.selectAll("circle").remove(),l._hoverdata=void 0,i.target&&r&&l.emit("plotly_unhover",{event:i,points:r}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(c,J,N){N.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},N.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../lib"),o=s.numberFormat,e=c("fast-isnumeric"),n=c("tinycolor2"),l=c("../../registry"),i=c("../color"),a=c("../colorscale"),r=s.strTranslate,u=c("../../lib/svg_text_utils"),d=c("../../constants/xmlns_namespaces"),p=c("../../constants/alignment").LINE_SPACING,m=c("../../constants/interactions").DESELECTDIM,M=c("../../traces/scatter/subtypes"),w=c("../../traces/scatter/make_bubble_size_func"),b=c("../../components/fx/helpers").appendArrayPointValue,v=J.exports={};v.font=function(C,F,L,X){s.isPlainObject(F)&&(X=F.color,L=F.size,F=F.family),F&&C.style("font-family",F),L+1&&C.style("font-size",L+"px"),X&&C.call(i.fill,X)},v.setPosition=function(C,F,L){C.attr("x",F).attr("y",L)},v.setSize=function(C,F,L){C.attr("width",F).attr("height",L)},v.setRect=function(C,F,L,X,E){C.call(v.setPosition,F,L).call(v.setSize,X,E)},v.translatePoint=function(C,F,L,X){var E=L.c2p(C.x),Z=X.c2p(C.y);return!!(e(E)&&e(Z)&&F.node())&&(F.node().nodeName==="text"?F.attr("x",E).attr("y",Z):F.attr("transform",r(E,Z)),!0)},v.translatePoints=function(C,F,L){C.each(function(X){var E=t.select(this);v.translatePoint(X,E,F,L)})},v.hideOutsideRangePoint=function(C,F,L,X,E,Z){F.attr("display",L.isPtWithinRange(C,E)&&X.isPtWithinRange(C,Z)?null:"none")},v.hideOutsideRangePoints=function(C,F){if(F._hasClipOnAxisFalse){var L=F.xaxis,X=F.yaxis;C.each(function(E){var Z=E[0].trace,S=Z.xcalendar,U=Z.ycalendar,P=l.traceIs(Z,"bar-like")?".bartext":".point,.textpoint";C.selectAll(P).each(function(G){v.hideOutsideRangePoint(G,t.select(this),L,X,S,U)})})}},v.crispRound=function(C,F,L){return F&&e(F)?C._context.staticPlot?F:F<1?1:Math.round(F):L||0},v.singleLineStyle=function(C,F,L,X,E){F.style("fill","none");var Z=(((C||[])[0]||{}).trace||{}).line||{},S=L||Z.width||0,U=E||Z.dash||"";i.stroke(F,X||Z.color),v.dashLine(F,U,S)},v.lineGroupStyle=function(C,F,L,X){C.style("fill","none").each(function(E){var Z=(((E||[])[0]||{}).trace||{}).line||{},S=F||Z.width||0,U=X||Z.dash||"";t.select(this).call(i.stroke,L||Z.color).call(v.dashLine,U,S)})},v.dashLine=function(C,F,L){L=+L||0,F=v.dashStyle(F,L),C.style({"stroke-dasharray":F,"stroke-width":L+"px"})},v.dashStyle=function(C,F){F=+F||1;var L=Math.max(F,3);return C==="solid"?C="":C==="dot"?C=L+"px,"+L+"px":C==="dash"?C=3*L+"px,"+3*L+"px":C==="longdash"?C=5*L+"px,"+5*L+"px":C==="dashdot"?C=3*L+"px,"+L+"px,"+L+"px,"+L+"px":C==="longdashdot"&&(C=5*L+"px,"+2*L+"px,"+L+"px,"+2*L+"px"),C},v.singleFillStyle=function(C){var F=(((t.select(C.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;F&&C.call(i.fill,F)},v.fillGroupStyle=function(C){C.style("stroke-width",0).each(function(F){var L=t.select(this);F[0].trace&&L.call(i.fill,F[0].trace.fillcolor)})};var h=c("./symbol_defs");v.symbolNames=[],v.symbolFuncs=[],v.symbolNeedLines={},v.symbolNoDot={},v.symbolNoFill={},v.symbolList=[],Object.keys(h).forEach(function(C){var F=h[C],L=F.n;v.symbolList.push(L,String(L),C,L+100,String(L+100),C+"-open"),v.symbolNames[L]=C,v.symbolFuncs[L]=F.f,F.needLine&&(v.symbolNeedLines[L]=!0),F.noDot?v.symbolNoDot[L]=!0:v.symbolList.push(L+200,String(L+200),C+"-dot",L+300,String(L+300),C+"-open-dot"),F.noFill&&(v.symbolNoFill[L]=!0)});var A=v.symbolNames.length;function y(C,F){var L=C%100;return v.symbolFuncs[L](F)+(C>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}v.symbolNumber=function(C){if(e(C))C=+C;else if(typeof C=="string"){var F=0;C.indexOf("-open")>0&&(F=100,C=C.replace("-open","")),C.indexOf("-dot")>0&&(F+=200,C=C.replace("-dot","")),(C=v.symbolNames.indexOf(C))>=0&&(C+=F)}return C%100>=A||C>=400?0:Math.floor(Math.max(C,0))};var T={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},x=o("~f"),D={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:T},horizontalreversed:{node:"linearGradient",attrs:T,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};v.gradient=function(C,F,L,X,E,Z){for(var S=E.length,U=D[X],P=new Array(S),G=0;G<S;G++)U.reversed?P[S-1-G]=[x(100*(1-E[G][0])),E[G][1]]:P[G]=[x(100*E[G][0]),E[G][1]];var Q=F._fullLayout,et="g"+Q._uid+"-"+L,tt=Q._defs.select(".gradients").selectAll("#"+et).data([X+P.join(";")],s.identity);tt.exit().remove(),tt.enter().append(U.node).each(function(){var mt=t.select(this);U.attrs&&mt.attr(U.attrs),mt.attr("id",et);var Mt=mt.selectAll("stop").data(P);Mt.exit().remove(),Mt.enter().append("stop"),Mt.each(function(St){var _t=n(St[1]);t.select(this).attr({offset:St[0]+"%","stop-color":i.tinyRGB(_t),"stop-opacity":_t.getAlpha()})})}),C.style(Z,rt(et,F)).style(Z+"-opacity",null);var lt=function(mt){return"."+mt.attr("class").replace(/\s/g,".")},ct=lt(t.select(C.node().parentNode))+">"+lt(C);Q._gradientUrlQueryParts[ct]=1},v.pattern=function(C,F,L,X,E,Z,S,U,P,G,Q,et){var tt=F==="legend";U&&(P==="overlay"?(G=U,Q=i.contrast(G)):(G=void 0,Q=U));var lt,ct,mt,Mt,St,_t,Yt,Et,gt,ot,nt,ut=L._fullLayout,ht="p"+ut._uid+"-"+X,Dt={};switch(E){case"/":lt=Z*Math.sqrt(2),ct=Z*Math.sqrt(2),_t="path",Dt={d:mt="M-"+lt/4+","+ct/4+"l"+lt/2+",-"+ct/2+"M0,"+ct+"L"+lt+",0M"+lt/4*3+","+ct/4*5+"l"+lt/2+",-"+ct/2,opacity:et,stroke:Q,"stroke-width":(Mt=S*Z)+"px"};break;case"\\":lt=Z*Math.sqrt(2),ct=Z*Math.sqrt(2),_t="path",Dt={d:mt="M"+lt/4*3+",-"+ct/4+"l"+lt/2+","+ct/2+"M0,0L"+lt+","+ct+"M-"+lt/4+","+ct/4*3+"l"+lt/2+","+ct/2,opacity:et,stroke:Q,"stroke-width":(Mt=S*Z)+"px"};break;case"x":lt=Z*Math.sqrt(2),ct=Z*Math.sqrt(2),mt="M-"+lt/4+","+ct/4+"l"+lt/2+",-"+ct/2+"M0,"+ct+"L"+lt+",0M"+lt/4*3+","+ct/4*5+"l"+lt/2+",-"+ct/2+"M"+lt/4*3+",-"+ct/4+"l"+lt/2+","+ct/2+"M0,0L"+lt+","+ct+"M-"+lt/4+","+ct/4*3+"l"+lt/2+","+ct/2,Mt=Z-Z*Math.sqrt(1-S),_t="path",Dt={d:mt,opacity:et,stroke:Q,"stroke-width":Mt+"px"};break;case"|":_t="path",_t="path",Dt={d:mt="M"+(lt=Z)/2+",0L"+lt/2+","+(ct=Z),opacity:et,stroke:Q,"stroke-width":(Mt=S*Z)+"px"};break;case"-":_t="path",_t="path",Dt={d:mt="M0,"+(ct=Z)/2+"L"+(lt=Z)+","+ct/2,opacity:et,stroke:Q,"stroke-width":(Mt=S*Z)+"px"};break;case"+":_t="path",mt="M"+(lt=Z)/2+",0L"+lt/2+","+(ct=Z)+"M0,"+ct/2+"L"+lt+","+ct/2,Mt=Z-Z*Math.sqrt(1-S),_t="path",Dt={d:mt,opacity:et,stroke:Q,"stroke-width":Mt+"px"};break;case".":lt=Z,ct=Z,S<Math.PI/4?St=Math.sqrt(S*Z*Z/Math.PI):(Yt=S,Et=Math.PI/4,gt=1,ot=Z/2,nt=Z/Math.sqrt(2),St=ot+(nt-ot)*(Yt-Et)/(gt-Et)),_t="circle",Dt={cx:lt/2,cy:ct/2,r:St,opacity:et,fill:Q}}var Tt=[E||"noSh",G||"noBg",Q||"noFg",Z,S].join(";"),xt=ut._defs.select(".patterns").selectAll("#"+ht).data([Tt],s.identity);xt.exit().remove(),xt.enter().append("pattern").each(function(){var It=t.select(this);if(It.attr({id:ht,width:lt+"px",height:ct+"px",patternUnits:"userSpaceOnUse",patternTransform:tt?"scale(0.8)":""}),G){var wt=It.selectAll("rect").data([0]);wt.exit().remove(),wt.enter().append("rect").attr({width:lt+"px",height:ct+"px",fill:G})}var At=It.selectAll(_t).data([0]);At.exit().remove(),At.enter().append(_t).attr(Dt)}),C.style("fill",rt(ht,L)).style("fill-opacity",null),C.classed("pattern_filled",!0);var Ot="."+t.select(C.node().parentNode).attr("class").replace(/\s/g,".")+">.pattern_filled";ut._patternUrlQueryParts[Ot]=1},v.initGradients=function(C){var F=C._fullLayout;s.ensureSingle(F._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),F._gradientUrlQueryParts={}},v.initPatterns=function(C){var F=C._fullLayout;s.ensureSingle(F._defs,"g","patterns").selectAll("pattern").remove(),F._patternUrlQueryParts={}},v.getPatternAttr=function(C,F,L){return C&&s.isArrayOrTypedArray(C)?F<C.length?C[F]:L:C},v.pointStyle=function(C,F,L){if(C.size()){var X=v.makePointStyleFns(F);C.each(function(E){v.singlePointStyle(E,t.select(this),F,X,L)})}},v.singlePointStyle=function(C,F,L,X,E){var Z=L.marker,S=Z.line;if(F.style("opacity",X.selectedOpacityFn?X.selectedOpacityFn(C):C.mo===void 0?Z.opacity:C.mo),X.ms2mrc){var U;U=C.ms==="various"||Z.size==="various"?3:X.ms2mrc(C.ms),C.mrc=U,X.selectedSizeFn&&(U=C.mrc=X.selectedSizeFn(C));var P=v.symbolNumber(C.mx||Z.symbol)||0;C.om=P%200>=100,F.attr("d",y(P,U))}var G,Q,et,tt=!1;if(C.so)et=S.outlierwidth,Q=S.outliercolor,G=Z.outliercolor;else{var lt=(S||{}).width;et=(C.mlw+1||lt+1||(C.trace?(C.trace.marker.line||{}).width:0)+1)-1||0,Q="mlc"in C?C.mlcc=X.lineScale(C.mlc):s.isArrayOrTypedArray(S.color)?i.defaultLine:S.color,s.isArrayOrTypedArray(Z.color)&&(G=i.defaultLine,tt=!0),G="mc"in C?C.mcc=X.markerScale(C.mc):Z.color||"rgba(0,0,0,0)",X.selectedColorFn&&(G=X.selectedColorFn(C))}if(C.om)F.call(i.stroke,G).style({"stroke-width":(et||1)+"px",fill:"none"});else{F.style("stroke-width",(C.isBlank?0:et)+"px");var ct=Z.gradient,mt=C.mgt;mt?tt=!0:mt=ct&&ct.type,s.isArrayOrTypedArray(mt)&&(mt=mt[0],D[mt]||(mt=0));var Mt=Z.pattern,St=Mt&&v.getPatternAttr(Mt.shape,C.i,"");if(mt&&mt!=="none"){var _t=C.mgc;_t?tt=!0:_t=ct.color;var Yt=L.uid;tt&&(Yt+="-"+C.i),v.gradient(F,E,Yt,mt,[[0,_t],[1,G]],"fill")}else if(St){var Et=v.getPatternAttr(Mt.bgcolor,C.i,null),gt=v.getPatternAttr(Mt.fgcolor,C.i,null),ot=Mt.fgopacity,nt=v.getPatternAttr(Mt.size,C.i,8),ut=v.getPatternAttr(Mt.solidity,C.i,.3),ht=C.mcc||s.isArrayOrTypedArray(Mt.shape)||s.isArrayOrTypedArray(Mt.bgcolor)||s.isArrayOrTypedArray(Mt.size)||s.isArrayOrTypedArray(Mt.solidity),Dt=L.uid;ht&&(Dt+="-"+C.i),v.pattern(F,"point",E,Dt,St,nt,ut,C.mcc,Mt.fillmode,Et,gt,ot)}else i.fill(F,G);et&&i.stroke(F,Q)}},v.makePointStyleFns=function(C){var F={},L=C.marker;return F.markerScale=v.tryColorscale(L,""),F.lineScale=v.tryColorscale(L,"line"),l.traceIs(C,"symbols")&&(F.ms2mrc=M.isBubble(C)?w(C):function(){return(L.size||6)/2}),C.selectedpoints&&s.extendFlat(F,v.makeSelectedPointStyleFns(C)),F},v.makeSelectedPointStyleFns=function(C){var F={},L=C.selected||{},X=C.unselected||{},E=C.marker||{},Z=L.marker||{},S=X.marker||{},U=E.opacity,P=Z.opacity,G=S.opacity,Q=P!==void 0,et=G!==void 0;(s.isArrayOrTypedArray(U)||Q||et)&&(F.selectedOpacityFn=function(Et){var gt=Et.mo===void 0?E.opacity:Et.mo;return Et.selected?Q?P:gt:et?G:m*gt});var tt=E.color,lt=Z.color,ct=S.color;(lt||ct)&&(F.selectedColorFn=function(Et){var gt=Et.mcc||tt;return Et.selected?lt||gt:ct||gt});var mt=E.size,Mt=Z.size,St=S.size,_t=Mt!==void 0,Yt=St!==void 0;return l.traceIs(C,"symbols")&&(_t||Yt)&&(F.selectedSizeFn=function(Et){var gt=Et.mrc||mt/2;return Et.selected?_t?Mt/2:gt:Yt?St/2:gt}),F},v.makeSelectedTextStyleFns=function(C){var F={},L=C.selected||{},X=C.unselected||{},E=C.textfont||{},Z=L.textfont||{},S=X.textfont||{},U=E.color,P=Z.color,G=S.color;return F.selectedTextColorFn=function(Q){var et=Q.tc||U;return Q.selected?P||et:G||(P?et:i.addOpacity(et,m))},F},v.selectedPointStyle=function(C,F){if(C.size()&&F.selectedpoints){var L=v.makeSelectedPointStyleFns(F),X=F.marker||{},E=[];L.selectedOpacityFn&&E.push(function(Z,S){Z.style("opacity",L.selectedOpacityFn(S))}),L.selectedColorFn&&E.push(function(Z,S){i.fill(Z,L.selectedColorFn(S))}),L.selectedSizeFn&&E.push(function(Z,S){var U=S.mx||X.symbol||0,P=L.selectedSizeFn(S);Z.attr("d",y(v.symbolNumber(U),P)),S.mrc2=P}),E.length&&C.each(function(Z){for(var S=t.select(this),U=0;U<E.length;U++)E[U](S,Z)})}},v.tryColorscale=function(C,F){var L=F?s.nestedProperty(C,F).get():C;if(L){var X=L.color;if((L.colorscale||L._colorAx)&&s.isArrayOrTypedArray(X))return a.makeColorScaleFuncFromTrace(L)}return s.identity};var z={start:1,end:-1,middle:0,bottom:1,top:-1};function g(C,F,L,X){var E=t.select(C.node().parentNode),Z=F.indexOf("top")!==-1?"top":F.indexOf("bottom")!==-1?"bottom":"middle",S=F.indexOf("left")!==-1?"end":F.indexOf("right")!==-1?"start":"middle",U=X?X/.8+1:0,P=(u.lineCount(C)-1)*p+1,G=z[S]*U,Q=.75*L+z[Z]*U+(z[Z]-1)*P*L/2;C.attr("text-anchor",S),E.attr("transform",r(G,Q))}function R(C,F){var L=C.ts||F.textfont.size;return e(L)&&L>0?L:0}v.textPointStyle=function(C,F,L){if(C.size()){var X;if(F.selectedpoints){var E=v.makeSelectedTextStyleFns(F);X=E.selectedTextColorFn}var Z=F.texttemplate,S=L._fullLayout;C.each(function(U){var P=t.select(this),G=Z?s.extractOption(U,F,"txt","texttemplate"):s.extractOption(U,F,"tx","text");if(G||G===0){if(Z){var Q=F._module.formatLabels,et=Q?Q(U,F,S):{},tt={};b(tt,F,U.i);var lt=F._meta||{};G=s.texttemplateString(G,et,S._d3locale,tt,U,lt)}var ct=U.tp||F.textposition,mt=R(U,F),Mt=X?X(U):U.tc||F.textfont.color;P.call(v.font,U.tf||F.textfont.family,mt,Mt).text(G).call(u.convertToTspans,L).call(g,ct,mt,U.mrc)}else P.remove()})}},v.selectedTextStyle=function(C,F){if(C.size()&&F.selectedpoints){var L=v.makeSelectedTextStyleFns(F);C.each(function(X){var E=t.select(this),Z=L.selectedTextColorFn(X),S=X.tp||F.textposition,U=R(X,F);i.fill(E,Z),g(E,S,U,X.mrc2||X.mrc)})}};function I(C,F,L,X){var E=C[0]-F[0],Z=C[1]-F[1],S=L[0]-F[0],U=L[1]-F[1],P=Math.pow(E*E+Z*Z,.25),G=Math.pow(S*S+U*U,.25),Q=(G*G*E-P*P*S)*X,et=(G*G*Z-P*P*U)*X,tt=3*G*(P+G),lt=3*P*(P+G);return[[t.round(F[0]+(tt&&Q/tt),2),t.round(F[1]+(tt&&et/tt),2)],[t.round(F[0]-(lt&&Q/lt),2),t.round(F[1]-(lt&&et/lt),2)]]}v.smoothopen=function(C,F){if(C.length<3)return"M"+C.join("L");var L,X="M"+C[0],E=[];for(L=1;L<C.length-1;L++)E.push(I(C[L-1],C[L],C[L+1],F));for(X+="Q"+E[0][0]+" "+C[1],L=2;L<C.length-1;L++)X+="C"+E[L-2][1]+" "+E[L-1][0]+" "+C[L];return X+="Q"+E[C.length-3][1]+" "+C[C.length-1]},v.smoothclosed=function(C,F){if(C.length<3)return"M"+C.join("L")+"Z";var L,X="M"+C[0],E=C.length-1,Z=[I(C[E],C[0],C[1],F)];for(L=1;L<E;L++)Z.push(I(C[L-1],C[L],C[L+1],F));for(Z.push(I(C[E-1],C[E],C[0],F)),L=1;L<=E;L++)X+="C"+Z[L-1][1]+" "+Z[L][0]+" "+C[L];return X+="C"+Z[E][1]+" "+Z[0][0]+" "+C[0]+"Z"};var j={hv:function(C,F){return"H"+t.round(F[0],2)+"V"+t.round(F[1],2)},vh:function(C,F){return"V"+t.round(F[1],2)+"H"+t.round(F[0],2)},hvh:function(C,F){return"H"+t.round((C[0]+F[0])/2,2)+"V"+t.round(F[1],2)+"H"+t.round(F[0],2)},vhv:function(C,F){return"V"+t.round((C[1]+F[1])/2,2)+"H"+t.round(F[0],2)+"V"+t.round(F[1],2)}},Y=function(C,F){return"L"+t.round(F[0],2)+","+t.round(F[1],2)};v.steps=function(C){var F=j[C]||Y;return function(L){for(var X="M"+t.round(L[0][0],2)+","+t.round(L[0][1],2),E=1;E<L.length;E++)X+=F(L[E-1],L[E]);return X}},v.makeTester=function(){var C=s.ensureSingleById(t.select("body"),"svg","js-plotly-tester",function(L){L.attr(d.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),F=s.ensureSingle(C,"path","js-reference-point",function(L){L.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});v.tester=C,v.testref=F},v.savedBBoxes={};var B=0;function $(C){var F=C.getAttribute("data-unformatted");if(F!==null)return F+C.getAttribute("data-math")+C.getAttribute("text-anchor")+C.getAttribute("style")}function rt(C,F){if(!C)return null;var L=F._context,X=L._exportedPlot?"":L._baseUrl||"";return X?"url('"+X+"#"+C+"')":"url(#"+C+")"}v.bBox=function(C,F,L){var X,E,Z;if(L||(L=$(C)),L){if(X=v.savedBBoxes[L])return s.extendFlat({},X)}else if(C.childNodes.length===1){var S=C.childNodes[0];if(L=$(S)){var U=+S.getAttribute("x")||0,P=+S.getAttribute("y")||0,G=S.getAttribute("transform");if(!G){var Q=v.bBox(S,!1,L);return U&&(Q.left+=U,Q.right+=U),P&&(Q.top+=P,Q.bottom+=P),Q}if(L+="~"+U+"~"+P+"~"+G,X=v.savedBBoxes[L])return s.extendFlat({},X)}}F?E=C:(Z=v.tester.node(),E=C.cloneNode(!0),Z.appendChild(E)),t.select(E).attr("transform",null).call(u.positionText,0,0);var et=E.getBoundingClientRect(),tt=v.testref.node().getBoundingClientRect();F||Z.removeChild(E);var lt={height:et.height,width:et.width,left:et.left-tt.left,top:et.top-tt.top,right:et.right-tt.left,bottom:et.bottom-tt.top};return B>=1e4&&(v.savedBBoxes={},B=0),L&&(v.savedBBoxes[L]=lt),B++,s.extendFlat({},lt)},v.setClipUrl=function(C,F,L){C.attr("clip-path",rt(F,L))},v.getTranslate=function(C){var F=(C[C.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(L,X,E){return[X,E].join(" ")}).split(" ");return{x:+F[0]||0,y:+F[1]||0}},v.setTranslate=function(C,F,L){var X=C.attr?"attr":"getAttribute",E=C.attr?"attr":"setAttribute",Z=C[X]("transform")||"";return F=F||0,L=L||0,Z=Z.replace(/(\btranslate\(.*?\);?)/,"").trim(),Z=(Z+=r(F,L)).trim(),C[E]("transform",Z),Z},v.getScale=function(C){var F=(C[C.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(L,X,E){return[X,E].join(" ")}).split(" ");return{x:+F[0]||1,y:+F[1]||1}},v.setScale=function(C,F,L){var X=C.attr?"attr":"getAttribute",E=C.attr?"attr":"setAttribute",Z=C[X]("transform")||"";return F=F||1,L=L||1,Z=Z.replace(/(\bscale\(.*?\);?)/,"").trim(),Z=(Z+="scale("+F+","+L+")").trim(),C[E]("transform",Z),Z};var q=/\s*sc.*/;v.setPointGroupScale=function(C,F,L){if(F=F||1,L=L||1,C){var X=F===1&&L===1?"":"scale("+F+","+L+")";C.each(function(){var E=(this.getAttribute("transform")||"").replace(q,"");E=(E+=X).trim(),this.setAttribute("transform",E)})}};var H=/translate\([^)]*\)\s*$/;v.setTextPointsScale=function(C,F,L){C&&C.each(function(){var X,E=t.select(this),Z=E.select("text");if(Z.node()){var S=parseFloat(Z.attr("x")||0),U=parseFloat(Z.attr("y")||0),P=(E.attr("transform")||"").match(H);X=F===1&&L===1?[]:[r(S,U),"scale("+F+","+L+")",r(-S,-U)],P&&X.push(P),E.attr("transform",X.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":316,"../../traces/scatter/make_bubble_size_func":373,"../../traces/scatter/subtypes":381,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(c,J,N){var t=c("@plotly/d3");J.exports={circle:{n:0,f:function(s){var o=t.round(s,2);return"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"}},square:{n:1,f:function(s){var o=t.round(s,2);return"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"}},diamond:{n:2,f:function(s){var o=t.round(1.3*s,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"Z"}},cross:{n:3,f:function(s){var o=t.round(.4*s,2),e=t.round(1.2*s,2);return"M"+e+","+o+"H"+o+"V"+e+"H-"+o+"V"+o+"H-"+e+"V-"+o+"H-"+o+"V-"+e+"H"+o+"V-"+o+"H"+e+"Z"}},x:{n:4,f:function(s){var o=t.round(.8*s/Math.sqrt(2),2),e="l"+o+","+o,n="l"+o+",-"+o,l="l-"+o+",-"+o,i="l-"+o+","+o;return"M0,"+o+e+n+l+n+l+i+l+i+e+i+e+"Z"}},"triangle-up":{n:5,f:function(s){var o=t.round(2*s/Math.sqrt(3),2);return"M-"+o+","+t.round(s/2,2)+"H"+o+"L0,-"+t.round(s,2)+"Z"}},"triangle-down":{n:6,f:function(s){var o=t.round(2*s/Math.sqrt(3),2);return"M-"+o+",-"+t.round(s/2,2)+"H"+o+"L0,"+t.round(s,2)+"Z"}},"triangle-left":{n:7,f:function(s){var o=t.round(2*s/Math.sqrt(3),2);return"M"+t.round(s/2,2)+",-"+o+"V"+o+"L-"+t.round(s,2)+",0Z"}},"triangle-right":{n:8,f:function(s){var o=t.round(2*s/Math.sqrt(3),2);return"M-"+t.round(s/2,2)+",-"+o+"V"+o+"L"+t.round(s,2)+",0Z"}},"triangle-ne":{n:9,f:function(s){var o=t.round(.6*s,2),e=t.round(1.2*s,2);return"M-"+e+",-"+o+"H"+o+"V"+e+"Z"}},"triangle-se":{n:10,f:function(s){var o=t.round(.6*s,2),e=t.round(1.2*s,2);return"M"+o+",-"+e+"V"+o+"H-"+e+"Z"}},"triangle-sw":{n:11,f:function(s){var o=t.round(.6*s,2),e=t.round(1.2*s,2);return"M"+e+","+o+"H-"+o+"V-"+e+"Z"}},"triangle-nw":{n:12,f:function(s){var o=t.round(.6*s,2),e=t.round(1.2*s,2);return"M-"+o+","+e+"V-"+o+"H"+e+"Z"}},pentagon:{n:13,f:function(s){var o=t.round(.951*s,2),e=t.round(.588*s,2),n=t.round(-s,2),l=t.round(-.309*s,2);return"M"+o+","+l+"L"+e+","+t.round(.809*s,2)+"H-"+e+"L-"+o+","+l+"L0,"+n+"Z"}},hexagon:{n:14,f:function(s){var o=t.round(s,2),e=t.round(s/2,2),n=t.round(s*Math.sqrt(3)/2,2);return"M"+n+",-"+e+"V"+e+"L0,"+o+"L-"+n+","+e+"V-"+e+"L0,-"+o+"Z"}},hexagon2:{n:15,f:function(s){var o=t.round(s,2),e=t.round(s/2,2),n=t.round(s*Math.sqrt(3)/2,2);return"M-"+e+","+n+"H"+e+"L"+o+",0L"+e+",-"+n+"H-"+e+"L-"+o+",0Z"}},octagon:{n:16,f:function(s){var o=t.round(.924*s,2),e=t.round(.383*s,2);return"M-"+e+",-"+o+"H"+e+"L"+o+",-"+e+"V"+e+"L"+e+","+o+"H-"+e+"L-"+o+","+e+"V-"+e+"Z"}},star:{n:17,f:function(s){var o=1.4*s,e=t.round(.225*o,2),n=t.round(.951*o,2),l=t.round(.363*o,2),i=t.round(.588*o,2),a=t.round(-o,2),r=t.round(-.309*o,2),u=t.round(.118*o,2),d=t.round(.809*o,2);return"M"+e+","+r+"H"+n+"L"+l+","+u+"L"+i+","+d+"L0,"+t.round(.382*o,2)+"L-"+i+","+d+"L-"+l+","+u+"L-"+n+","+r+"H-"+e+"L0,"+a+"Z"}},hexagram:{n:18,f:function(s){var o=t.round(.66*s,2),e=t.round(.38*s,2),n=t.round(.76*s,2);return"M-"+n+",0l-"+e+",-"+o+"h"+n+"l"+e+",-"+o+"l"+e+","+o+"h"+n+"l-"+e+","+o+"l"+e+","+o+"h-"+n+"l-"+e+","+o+"l-"+e+",-"+o+"h-"+n+"Z"}},"star-triangle-up":{n:19,f:function(s){var o=t.round(s*Math.sqrt(3)*.8,2),e=t.round(.8*s,2),n=t.round(1.6*s,2),l=t.round(4*s,2),i="A "+l+","+l+" 0 0 1 ";return"M-"+o+","+e+i+o+","+e+i+"0,-"+n+i+"-"+o+","+e+"Z"}},"star-triangle-down":{n:20,f:function(s){var o=t.round(s*Math.sqrt(3)*.8,2),e=t.round(.8*s,2),n=t.round(1.6*s,2),l=t.round(4*s,2),i="A "+l+","+l+" 0 0 1 ";return"M"+o+",-"+e+i+"-"+o+",-"+e+i+"0,"+n+i+o+",-"+e+"Z"}},"star-square":{n:21,f:function(s){var o=t.round(1.1*s,2),e=t.round(2*s,2),n="A "+e+","+e+" 0 0 1 ";return"M-"+o+",-"+o+n+"-"+o+","+o+n+o+","+o+n+o+",-"+o+n+"-"+o+",-"+o+"Z"}},"star-diamond":{n:22,f:function(s){var o=t.round(1.4*s,2),e=t.round(1.9*s,2),n="A "+e+","+e+" 0 0 1 ";return"M-"+o+",0"+n+"0,"+o+n+o+",0"+n+"0,-"+o+n+"-"+o+",0Z"}},"diamond-tall":{n:23,f:function(s){var o=t.round(.7*s,2),e=t.round(1.4*s,2);return"M0,"+e+"L"+o+",0L0,-"+e+"L-"+o+",0Z"}},"diamond-wide":{n:24,f:function(s){var o=t.round(1.4*s,2),e=t.round(.7*s,2);return"M0,"+e+"L"+o+",0L0,-"+e+"L-"+o+",0Z"}},hourglass:{n:25,f:function(s){var o=t.round(s,2);return"M"+o+","+o+"H-"+o+"L"+o+",-"+o+"H-"+o+"Z"},noDot:!0},bowtie:{n:26,f:function(s){var o=t.round(s,2);return"M"+o+","+o+"V-"+o+"L-"+o+","+o+"V-"+o+"Z"},noDot:!0},"circle-cross":{n:27,f:function(s){var o=t.round(s,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(s){var o=t.round(s,2),e=t.round(s/Math.sqrt(2),2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(s){var o=t.round(s,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(s){var o=t.round(s,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(s){var o=t.round(1.3*s,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM0,-"+o+"V"+o+"M-"+o+",0H"+o},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(s){var o=t.round(1.3*s,2),e=t.round(.65*s,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM-"+e+",-"+e+"L"+e+","+e+"M-"+e+","+e+"L"+e+",-"+e},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(s){var o=t.round(1.4*s,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(s){var o=t.round(s,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(s){var o=t.round(1.2*s,2),e=t.round(.85*s,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(s){var o=t.round(s/2,2),e=t.round(s,2);return"M"+o+","+e+"V-"+e+"m-"+e+",0V"+e+"M"+e+","+o+"H-"+e+"m0,-"+e+"H"+e},needLine:!0,noFill:!0},"y-up":{n:37,f:function(s){var o=t.round(1.2*s,2),e=t.round(1.6*s,2),n=t.round(.8*s,2);return"M-"+o+","+n+"L0,0M"+o+","+n+"L0,0M0,-"+e+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(s){var o=t.round(1.2*s,2),e=t.round(1.6*s,2),n=t.round(.8*s,2);return"M-"+o+",-"+n+"L0,0M"+o+",-"+n+"L0,0M0,"+e+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(s){var o=t.round(1.2*s,2),e=t.round(1.6*s,2),n=t.round(.8*s,2);return"M"+n+","+o+"L0,0M"+n+",-"+o+"L0,0M-"+e+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(s){var o=t.round(1.2*s,2),e=t.round(1.6*s,2),n=t.round(.8*s,2);return"M-"+n+","+o+"L0,0M-"+n+",-"+o+"L0,0M"+e+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(s){var o=t.round(1.4*s,2);return"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(s){var o=t.round(1.4*s,2);return"M0,"+o+"V-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(s){var o=t.round(s,2);return"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(s){var o=t.round(s,2);return"M"+o+","+o+"L-"+o+",-"+o},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(s){var o=t.round(s,2);return"M0,0L-"+o+","+t.round(2*s,2)+"H"+o+"Z"},noDot:!0},"arrow-down":{n:46,f:function(s){var o=t.round(s,2);return"M0,0L-"+o+",-"+t.round(2*s,2)+"H"+o+"Z"},noDot:!0},"arrow-left":{n:47,f:function(s){var o=t.round(2*s,2),e=t.round(s,2);return"M0,0L"+o+",-"+e+"V"+e+"Z"},noDot:!0},"arrow-right":{n:48,f:function(s){var o=t.round(2*s,2),e=t.round(s,2);return"M0,0L-"+o+",-"+e+"V"+e+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(s){var o=t.round(s,2);return"M-"+o+",0H"+o+"M0,0L-"+o+","+t.round(2*s,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(s){var o=t.round(s,2);return"M-"+o+",0H"+o+"M0,0L-"+o+",-"+t.round(2*s,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(s){var o=t.round(2*s,2),e=t.round(s,2);return"M0,-"+e+"V"+e+"M0,0L"+o+",-"+e+"V"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(s){var o=t.round(2*s,2),e=t.round(s,2);return"M0,-"+e+"V"+e+"M0,0L-"+o+",-"+e+"V"+e+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(c,J,N){J.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../registry"),o=c("../../plots/cartesian/axes"),e=c("../../lib"),n=c("./compute_error");function l(i,a,r,u){var d=a["error_"+u]||{},p=[];if(d.visible&&["linear","log"].indexOf(r.type)!==-1){for(var m=n(d),M=0;M<i.length;M++){var w=i[M],b=w.i;if(b===void 0)b=M;else if(b===null)continue;var v=w[u];if(t(r.c2l(v))){var h=m(v,b);if(t(h[0])&&t(h[1])){var A=w[u+"s"]=v-h[0],y=w[u+"h"]=v+h[1];p.push(A,y)}}}var T=r._id,k=a._extremes[T],x=o.findExtremes(r,p,e.extendFlat({tozero:k.opts.tozero},{padded:!0}));k.min=k.min.concat(x.min),k.max=k.max.concat(x.max)}}J.exports=function(i){for(var a=i.calcdata,r=0;r<a.length;r++){var u=a[r],d=u[0].trace;if(d.visible===!0&&s.traceIs(d,"errorBarsOK")){var p=o.getFromId(i,d.xaxis),m=o.getFromId(i,d.yaxis);l(u,d,p,"x"),l(u,d,m,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":316,"./compute_error":128,"fast-isnumeric":17}],128:[function(c,J,N){function t(s,o){return s==="percent"?function(e){return Math.abs(e*o/100)}:s==="constant"?function(){return Math.abs(o)}:s==="sqrt"?function(e){return Math.sqrt(Math.abs(e))}:void 0}J.exports=function(s){var o=s.type,e=s.symmetric;if(o==="data"){var n=s.array||[];if(e)return function(r,u){var d=+n[u];return[d,d]};var l=s.arrayminus||[];return function(r,u){var d=+n[u],p=+l[u];return isNaN(d)&&isNaN(p)?[NaN,NaN]:[p||0,d||0]}}var i=t(o,s.value),a=t(o,s.valueminus);return e||s.valueminus===void 0?function(r){var u=i(r);return[u,u]}:function(r){return[a(r),i(r)]}}},{}],129:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../registry"),o=c("../../lib"),e=c("../../plot_api/plot_template"),n=c("./attributes");J.exports=function(l,i,a,r){var u="error_"+r.axis,d=e.newContainer(i,u),p=l[u]||{};function m(v,h){return o.coerce(p,d,n,v,h)}if(m("visible",p.array!==void 0||p.value!==void 0||p.type==="sqrt")!==!1){var M=m("type","array"in p?"data":"percent"),w=!0;M!=="sqrt"&&(w=m("symmetric",!((M==="data"?"arrayminus":"valueminus")in p))),M==="data"?(m("array"),m("traceref"),w||(m("arrayminus"),m("tracerefminus"))):M!=="percent"&&M!=="constant"||(m("value"),w||m("valueminus"));var b="copy_"+r.inherit+"style";r.inherit&&(i["error_"+r.inherit]||{}).visible&&m(b,!(p.color||t(p.thickness)||t(p.width))),r.inherit&&d[b]||(m("color",a),m("thickness"),m("width",s.traceIs(i,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":316,"./attributes":126,"fast-isnumeric":17}],130:[function(c,J,N){var t=c("../../lib"),s=c("../../plot_api/edit_types").overrideAll,o=c("./attributes"),e={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o)};delete e.error_x.copy_zstyle,delete e.error_y.copy_zstyle,delete e.error_y.copy_ystyle;var n={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o),error_z:t.extendFlat({},o)};delete n.error_x.copy_ystyle,delete n.error_y.copy_ystyle,delete n.error_z.copy_ystyle,delete n.error_z.copy_zstyle,J.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:e,bar:e,histogram:e,scatter3d:s(n,"calc","nested"),scattergl:s(e,"calc","nested")}},supplyDefaults:c("./defaults"),calc:c("./calc"),makeComputeError:c("./compute_error"),plot:c("./plot"),style:c("./style"),hoverInfo:function(l,i,a){(i.error_y||{}).visible&&(a.yerr=l.yh-l.y,i.error_y.symmetric||(a.yerrneg=l.y-l.ys)),(i.error_x||{}).visible&&(a.xerr=l.xh-l.x,i.error_x.symmetric||(a.xerrneg=l.x-l.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("../drawing"),e=c("../../traces/scatter/subtypes");J.exports=function(n,l,i,a){var r=i.xaxis,u=i.yaxis,d=a&&a.duration>0;l.each(function(p){var m,M=p[0].trace,w=M.error_x||{},b=M.error_y||{};M.ids&&(m=function(y){return y.id});var v=e.hasMarkers(M)&&M.marker.maxdisplayed>0;b.visible||w.visible||(p=[]);var h=t.select(this).selectAll("g.errorbar").data(p,m);if(h.exit().remove(),p.length){w.visible||h.selectAll("path.xerror").remove(),b.visible||h.selectAll("path.yerror").remove(),h.style("opacity",1);var A=h.enter().append("g").classed("errorbar",!0);d&&A.style("opacity",0).transition().duration(a.duration).style("opacity",1),o.setClipUrl(h,i.layerClipId,n),h.each(function(y){var T=t.select(this),k=function(I,j,Y){var B={x:j.c2p(I.x),y:Y.c2p(I.y)};return I.yh!==void 0&&(B.yh=Y.c2p(I.yh),B.ys=Y.c2p(I.ys),s(B.ys)||(B.noYS=!0,B.ys=Y.c2p(I.ys,!0))),I.xh!==void 0&&(B.xh=j.c2p(I.xh),B.xs=j.c2p(I.xs),s(B.xs)||(B.noXS=!0,B.xs=j.c2p(I.xs,!0))),B}(y,r,u);if(!v||y.vis){var x,D=T.select("path.yerror");if(b.visible&&s(k.x)&&s(k.yh)&&s(k.ys)){var z=b.width;x="M"+(k.x-z)+","+k.yh+"h"+2*z+"m-"+z+",0V"+k.ys,k.noYS||(x+="m-"+z+",0h"+2*z),D.size()?d&&(D=D.transition().duration(a.duration).ease(a.easing)):D=T.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),D.attr("d",x)}else D.remove();var g=T.select("path.xerror");if(w.visible&&s(k.y)&&s(k.xh)&&s(k.xs)){var R=(w.copy_ystyle?b:w).width;x="M"+k.xh+","+(k.y-R)+"v"+2*R+"m0,-"+R+"H"+k.xs,k.noXS||(x+="m0,-"+R+"v"+2*R),g.size()?d&&(g=g.transition().duration(a.duration).ease(a.easing)):g=T.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),g.attr("d",x)}else g.remove()}})}})}},{"../../traces/scatter/subtypes":381,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(c,J,N){var t=c("@plotly/d3"),s=c("../color");J.exports=function(o){o.each(function(e){var n=e[0].trace,l=n.error_y||{},i=n.error_x||{},a=t.select(this);a.selectAll("path.yerror").style("stroke-width",l.thickness+"px").call(s.stroke,l.color),i.copy_ystyle&&(i=l),a.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(s.stroke,i.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(c,J,N){var t=c("../../plots/font_attributes"),s=c("./layout_attributes").hoverlabel,o=c("../../lib/extend").extendFlat;J.exports={hoverlabel:{bgcolor:o({},s.bgcolor,{arrayOk:!0}),bordercolor:o({},s.bordercolor,{arrayOk:!0}),font:t({arrayOk:!0,editType:"none"}),align:o({},s.align,{arrayOk:!0}),namelength:o({},s.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":308,"./layout_attributes":143}],134:[function(c,J,N){var t=c("../../lib"),s=c("../../registry");function o(e,n,l,i){i=i||t.identity,Array.isArray(e)&&(n[0][l]=i(e))}J.exports=function(e){var n=e.calcdata,l=e._fullLayout;function i(p){return function(m){return t.coerceHoverinfo({hoverinfo:m},{_module:p._module},l)}}for(var a=0;a<n.length;a++){var r=n[a],u=r[0].trace;if(!s.traceIs(u,"pie-like")){var d=s.traceIs(u,"2dMap")?o:t.fillArray;d(u.hoverinfo,r,"hi",i(u)),u.hovertemplate&&d(u.hovertemplate,r,"ht"),u.hoverlabel&&(d(u.hoverlabel.bgcolor,r,"hbg"),d(u.hoverlabel.bordercolor,r,"hbc"),d(u.hoverlabel.font.size,r,"hts"),d(u.hoverlabel.font.color,r,"htc"),d(u.hoverlabel.font.family,r,"htf"),d(u.hoverlabel.namelength,r,"hnl"),d(u.hoverlabel.align,r,"hta"))}}}},{"../../lib":232,"../../registry":316}],135:[function(c,J,N){var t=c("../../registry"),s=c("./hover").hover;J.exports=function(o,e,n){var l=t.getComponentMethod("annotations","onClick")(o,o._hoverdata);function i(){o.emit("plotly_click",{points:o._hoverdata,event:e})}n!==void 0&&s(o,e,n,!0),o._hoverdata&&e&&e.target&&(l&&l.then?l.then(i):i(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":316,"./hover":139}],136:[function(c,J,N){J.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(c,J,N){var t=c("../../lib"),s=c("./attributes"),o=c("./hoverlabel_defaults");J.exports=function(e,n,l,i){var a=t.extendFlat({},i.hoverlabel);n.hovertemplate&&(a.namelength=-1),o(e,n,function(r,u){return t.coerce(e,n,s,r,u)},a)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(c,J,N){var t=c("../../lib");N.getSubplot=function(i){return i.subplot||i.xaxis+i.yaxis||i.geo},N.isTraceInSubplots=function(i,a){if(i.type==="splom"){for(var r=i.xaxes||[],u=i.yaxes||[],d=0;d<r.length;d++)for(var p=0;p<u.length;p++)if(a.indexOf(r[d]+u[p])!==-1)return!0;return!1}return a.indexOf(N.getSubplot(i))!==-1},N.flat=function(i,a){for(var r=new Array(i.length),u=0;u<i.length;u++)r[u]=a;return r},N.p2c=function(i,a){for(var r=new Array(i.length),u=0;u<i.length;u++)r[u]=i[u].p2c(a);return r},N.getDistanceFunction=function(i,a,r,u){return i==="closest"?u||N.quadrature(a,r):i.charAt(0)==="x"?a:r},N.getClosest=function(i,a,r){if(r.index!==!1)r.index>=0&&r.index<i.length?r.distance=0:r.index=!1;else for(var u=0;u<i.length;u++){var d=a(i[u]);d<=r.distance&&(r.index=u,r.distance=d)}return r},N.inbox=function(i,a,r){return i*a<0||i===0?r:1/0},N.quadrature=function(i,a){return function(r){var u=i(r),d=a(r);return Math.sqrt(u*u+d*d)}},N.makeEventData=function(i,a,r){var u="index"in i?i.index:i.pointNumber,d={data:a._input,fullData:a,curveNumber:a.index,pointNumber:u};if(a._indexToPoints){var p=a._indexToPoints[u];p.length===1?d.pointIndex=p[0]:d.pointIndices=p}else d.pointIndex=u;return a._module.eventData?d=a._module.eventData(d,i,a,r,u):("xVal"in i?d.x=i.xVal:"x"in i&&(d.x=i.x),"yVal"in i?d.y=i.yVal:"y"in i&&(d.y=i.y),i.xa&&(d.xaxis=i.xa),i.ya&&(d.yaxis=i.ya),i.zLabelVal!==void 0&&(d.z=i.zLabelVal)),N.appendArrayPointValue(d,a,u),d},N.appendArrayPointValue=function(i,a,r){var u=a._arrayAttrs;if(u)for(var d=0;d<u.length;d++){var p=u[d],m=o(p);if(i[m]===void 0){var M=e(t.nestedProperty(a,p).get(),r);M!==void 0&&(i[m]=M)}}},N.appendArrayMultiPointValues=function(i,a,r){var u=a._arrayAttrs;if(u)for(var d=0;d<u.length;d++){var p=u[d],m=o(p);if(i[m]===void 0){for(var M=t.nestedProperty(a,p).get(),w=new Array(r.length),b=0;b<r.length;b++)w[b]=e(M,r[b]);i[m]=w}}};var s={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(i){return s[i]||i}function e(i,a){return Array.isArray(a)?Array.isArray(i)&&Array.isArray(i[a[0]])?i[a[0]][a[1]]:void 0:i[a]}var n={x:!0,y:!0},l={"x unified":!0,"y unified":!0};N.isUnifiedHover=function(i){return typeof i=="string"&&!!l[i]},N.isXYhover=function(i){return typeof i=="string"&&!!n[i]}},{"../../lib":232}],139:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("tinycolor2"),e=c("../../lib"),n=e.strTranslate,l=e.strRotate,i=c("../../lib/events"),a=c("../../lib/svg_text_utils"),r=c("../../lib/override_cursor"),u=c("../drawing"),d=c("../color"),p=c("../dragelement"),m=c("../../plots/cartesian/axes"),M=c("../../registry"),w=c("./helpers"),b=c("./constants"),v=c("../legend/defaults"),h=c("../legend/draw"),A=b.YANGLE,y=Math.PI*A/180,T=1/Math.sin(y),k=Math.cos(y),x=Math.sin(y),D=b.HOVERARROWSIZE,z=b.HOVERTEXTPAD,g={box:!0,ohlc:!0,violin:!0,candlestick:!0},R={scatter:!0,scattergl:!0,splom:!0};function I(L){return[L.trace.index,L.index,L.x0,L.y0,L.name,L.attr,L.xa?L.xa._id:"",L.ya?L.ya._id:""].join(",")}N.hover=function(L,X,E,Z){L=e.getGraphDiv(L),e.throttle(L._fullLayout._uid+b.HOVERID,b.HOVERMINTIME,function(){(function(S,U,P,G){P||(P="xy");var Q=Array.isArray(P)?P:[P],et=S._fullLayout,tt=et._plots||[],lt=tt[P],ct=et._has("cartesian");if(lt){var mt=lt.overlays.map(function(_e){return _e.id});Q=Q.concat(mt)}for(var Mt=Q.length,St=new Array(Mt),_t=new Array(Mt),Yt=!1,Et=0;Et<Mt;Et++){var gt=Q[Et];if(tt[gt])Yt=!0,St[Et]=tt[gt].xaxis,_t[Et]=tt[gt].yaxis;else{if(!et[gt]||!et[gt]._subplot)return void e.warn("Unrecognized subplot: "+gt);var ot=et[gt]._subplot;St[Et]=ot.xaxis,_t[Et]=ot.yaxis}}var nt=U.hovermode||et.hovermode;if(nt&&!Yt&&(nt="closest"),["x","y","closest","x unified","y unified"].indexOf(nt)===-1||!S.calcdata||S.querySelector(".zoombox")||S._dragging)return p.unhoverRaw(S,U);var ut=et.hoverdistance;ut===-1&&(ut=1/0);var ht=et.spikedistance;ht===-1&&(ht=1/0);var Dt,Tt,xt,Ot,It,wt,At,Xt,kt,Bt,Zt,Ht,ee,qt=[],vt=[],bt={hLinePoint:null,vLinePoint:null},Gt=!1;if(Array.isArray(U))for(nt="array",xt=0;xt<U.length;xt++)(It=S.calcdata[U[xt].curveNumber||0])&&(wt=It[0].trace,It[0].trace.hoverinfo!=="skip"&&(vt.push(It),wt.orientation==="h"&&(Gt=!0)));else{for(Ot=0;Ot<S.calcdata.length;Ot++)It=S.calcdata[Ot],(wt=It[0].trace).hoverinfo!=="skip"&&w.isTraceInSubplots(wt,Q)&&(vt.push(It),wt.orientation==="h"&&(Gt=!0));var re,xe;if(!U.target)re="xpx"in U?U.xpx:St[0]._length/2,xe="ypx"in U?U.ypx:_t[0]._length/2;else{if(i.triggerHandler(S,"plotly_beforehover",U)===!1)return;var at=U.composedPath&&U.composedPath()[0];at||(at=U.target);var st=at.getBoundingClientRect();re=U.clientX-st.left,xe=U.clientY-st.top,et._calcInverseTransform(S);var Lt=e.apply3DTransform(et._invTransform)(re,xe);if(re=Lt[0],xe=Lt[1],re<0||re>St[0]._length||xe<0||xe>_t[0]._length)return p.unhoverRaw(S,U)}if(U.pointerX=re+St[0]._offset,U.pointerY=xe+_t[0]._offset,Dt="xval"in U?w.flat(Q,U.xval):w.p2c(St,re),Tt="yval"in U?w.flat(Q,U.yval):w.p2c(_t,xe),!s(Dt[0])||!s(Tt[0]))return e.warn("Fx.hover failed",U,S),p.unhoverRaw(S,U)}var Ct=1/0;function Nt(_e,fe){for(Ot=0;Ot<vt.length;Ot++)if((It=vt[Ot])&&It[0]&&It[0].trace&&(wt=It[0].trace).visible===!0&&wt._length!==0&&["carpet","contourcarpet"].indexOf(wt._module.name)===-1){if(wt.type==="splom"?At=Q[Xt=0]:(At=w.getSubplot(wt),Xt=Q.indexOf(At)),kt=nt,w.isUnifiedHover(kt)&&(kt=kt.charAt(0)),Ht={cd:It,trace:wt,xa:St[Xt],ya:_t[Xt],maxHoverDistance:ut,maxSpikeDistance:ht,index:!1,distance:Math.min(Ct,ut),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:d.defaultLine,name:wt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},et[At]&&(Ht.subplot=et[At]._subplot),et._splomScenes&&et._splomScenes[wt.uid]&&(Ht.scene=et._splomScenes[wt.uid]),ee=qt.length,kt==="array"){var Fe=U[Ot];"pointNumber"in Fe?(Ht.index=Fe.pointNumber,kt="closest"):(kt="","xval"in Fe&&(Bt=Fe.xval,kt="x"),"yval"in Fe&&(Zt=Fe.yval,kt=kt?"closest":"y"))}else _e!==void 0&&fe!==void 0?(Bt=_e,Zt=fe):(Bt=Dt[Xt],Zt=Tt[Xt]);if(ut!==0)if(wt._module&&wt._module.hoverPoints){var Ye=wt._module.hoverPoints(Ht,Bt,Zt,kt,{finiteRange:!0,hoverLayer:et._hoverlayer});if(Ye)for(var Je,Ze=0;Ze<Ye.length;Ze++)Je=Ye[Ze],s(Je.x0)&&s(Je.y0)&&qt.push(rt(Je,nt))}else e.log("Unrecognized trace type in hover:",wt);if(nt==="closest"&&qt.length>ee&&(qt.splice(0,ee),Ct=qt[0].distance),ct&&ht!==0&&qt.length===0){Ht.distance=ht,Ht.index=!1;var je=wt._module.hoverPoints(Ht,Bt,Zt,"closest",{hoverLayer:et._hoverlayer});if(je&&(je=je.filter(function(nn){return nn.spikeDistance<=ht})),je&&je.length){var Be,Ke=je.filter(function(nn){return nn.xa.showspikes&&nn.xa.spikesnap!=="hovered data"});if(Ke.length){var Ue=Ke[0];s(Ue.x0)&&s(Ue.y0)&&(Be=jt(Ue),(!bt.vLinePoint||bt.vLinePoint.spikeDistance>Be.spikeDistance)&&(bt.vLinePoint=Be))}var we=je.filter(function(nn){return nn.ya.showspikes&&nn.ya.spikesnap!=="hovered data"});if(we.length){var qe=we[0];s(qe.x0)&&s(qe.y0)&&(Be=jt(qe),(!bt.hLinePoint||bt.hLinePoint.spikeDistance>Be.spikeDistance)&&(bt.hLinePoint=Be))}}}}}function Pt(_e,fe,Fe){for(var Ye,Je=null,Ze=1/0,je=0;je<_e.length;je++)Ye=_e[je].spikeDistance,Fe&&je===0&&(Ye=-1/0),Ye<=Ze&&Ye<=fe&&(Je=_e[je],Ze=Ye);return Je}function jt(_e){return _e?{xa:_e.xa,ya:_e.ya,x:_e.xSpike!==void 0?_e.xSpike:(_e.x0+_e.x1)/2,y:_e.ySpike!==void 0?_e.ySpike:(_e.y0+_e.y1)/2,distance:_e.distance,spikeDistance:_e.spikeDistance,curveNumber:_e.trace.index,color:_e.color,pointNumber:_e.index}:null}Nt();var $t={fullLayout:et,container:et._hoverlayer,outerContainer:et._paperdiv,event:U},ne=S._spikepoints,se={vLinePoint:bt.vLinePoint,hLinePoint:bt.hLinePoint};S._spikepoints=se;var Wt=function(){qt.sort(function(_e,fe){return _e.distance-fe.distance}),qt=function(_e,fe){for(var Fe=fe.charAt(0),Ye=[],Je=[],Ze=[],je=0;je<_e.length;je++){var Be=_e[je];M.traceIs(Be.trace,"bar-like")||M.traceIs(Be.trace,"box-violin")?Ze.push(Be):Be.trace[Fe+"period"]?Je.push(Be):Ye.push(Be)}return Ye.concat(Je).concat(Ze)}(qt,nt)};Wt();var ae=nt.charAt(0),ce=(ae==="x"||ae==="y")&&qt[0]&&R[qt[0].trace.type];if(ct&&ht!==0&&qt.length!==0){var be=Pt(qt.filter(function(_e){return _e.ya.showspikes}),ht,ce);bt.hLinePoint=jt(be);var he=Pt(qt.filter(function(_e){return _e.xa.showspikes}),ht,ce);bt.vLinePoint=jt(he)}if(qt.length===0){var me=p.unhoverRaw(S,U);return!ct||bt.hLinePoint===null&&bt.vLinePoint===null||H(ne)&&q(S,bt,$t),me}if(ct&&H(ne)&&q(S,bt,$t),w.isXYhover(kt)&&qt[0].length!==0&&qt[0].trace.type!=="splom"){var le=qt[0],Te=(qt=g[le.trace.type]?qt.filter(function(_e){return _e.trace.index===le.trace.index}):[le]).length,Me=F("x",le,et),ge=F("y",le,et);Nt(Me,ge);var oe,de=[],Ae={},ye=0,Ce=function(_e){var fe=g[_e.trace.type]?I(_e):_e.trace.index;if(Ae[fe]){var Fe=Ae[fe]-1,Ye=de[Fe];Fe>0&&Math.abs(_e.distance)<Math.abs(Ye.distance)&&(de[Fe]=_e)}else ye++,Ae[fe]=ye,de.push(_e)};for(oe=0;oe<Te;oe++)Ce(qt[oe]);for(oe=qt.length-1;oe>Te-1;oe--)Ce(qt[oe]);qt=de,Wt()}var ue=S._hoverdata,Re=[];for(xt=0;xt<qt.length;xt++){var De=qt[xt],Oe=w.makeEventData(De,De.trace,De.cd);if(De.hovertemplate!==!1){var Ne=!1;De.cd[De.index]&&De.cd[De.index].ht&&(Ne=De.cd[De.index].ht),De.hovertemplate=Ne||De.trace.hovertemplate||!1}De.eventData=[Oe],Re.push(Oe)}S._hoverdata=Re;var en=nt==="y"&&(vt.length>1||qt.length>1)||nt==="closest"&&Gt&&qt.length>1,tn=d.combine(et.plot_bgcolor||d.background,et.paper_bgcolor),Se={hovermode:nt,rotateLabels:en,bgColor:tn,container:et._hoverlayer,outerContainer:et._paperdiv,commonLabelOpts:et.hoverlabel,hoverdistance:et.hoverdistance},ke=Y(qt,Se,S);if(w.isUnifiedHover(nt)||(function(_e,fe,Fe){var Ye,Je,Ze,je,Be,Ke,Ue,we=0,qe=1,nn=_e.size(),Ve=new Array(nn),Ge=0;function cn(un){var xn=un[0],Pn=un[un.length-1];if(Je=xn.pmin-xn.pos-xn.dp+xn.size,Ze=Pn.pos+Pn.dp+Pn.size-xn.pmax,Je>.01){for(Be=un.length-1;Be>=0;Be--)un[Be].dp+=Je;Ye=!1}if(!(Ze<.01)){if(Je<-.01){for(Be=un.length-1;Be>=0;Be--)un[Be].dp-=Ze;Ye=!1}if(Ye){var On=0;for(je=0;je<un.length;je++)(Ke=un[je]).pos+Ke.dp+Ke.size>xn.pmax&&On++;for(je=un.length-1;je>=0&&!(On<=0);je--)(Ke=un[je]).pos>xn.pmax-1&&(Ke.del=!0,On--);for(je=0;je<un.length&&!(On<=0);je++)if((Ke=un[je]).pos<xn.pmin+1)for(Ke.del=!0,On--,Ze=2*Ke.size,Be=un.length-1;Be>=0;Be--)un[Be].dp-=Ze;for(je=un.length-1;je>=0&&!(On<=0);je--)(Ke=un[je]).pos+Ke.dp+Ke.size>xn.pmax&&(Ke.del=!0,On--)}}}for(_e.each(function(un){var xn=un[fe],Pn=xn._id.charAt(0)==="x",On=xn.range;Ge===0&&On&&On[0]>On[1]!==Pn&&(qe=-1),Ve[Ge++]=[{datum:un,traceIndex:un.trace.index,dp:0,pos:un.pos,posref:un.posref,size:un.by*(Pn?T:1)/2,pmin:0,pmax:Pn?Fe.width:Fe.height}]}),Ve.sort(function(un,xn){return un[0].posref-xn[0].posref||qe*(xn[0].traceIndex-un[0].traceIndex)});!Ye&&we<=nn;){for(we++,Ye=!0,je=0;je<Ve.length-1;){var rn=Ve[je],dn=Ve[je+1],hn=rn[rn.length-1],vn=dn[0];if((Je=hn.pos+hn.dp+hn.size-vn.pos-vn.dp+vn.size)>.01&&hn.pmin===vn.pmin&&hn.pmax===vn.pmax){for(Be=dn.length-1;Be>=0;Be--)dn[Be].dp+=Je;for(rn.push.apply(rn,dn),Ve.splice(je+1,1),Ue=0,Be=rn.length-1;Be>=0;Be--)Ue+=rn[Be].dp;for(Ze=Ue/rn.length,Be=rn.length-1;Be>=0;Be--)rn[Be].dp-=Ze;Ye=!1}else je++}Ve.forEach(cn)}for(je=Ve.length-1;je>=0;je--){var An=Ve[je];for(Be=An.length-1;Be>=0;Be--){var wn=An[Be],Dn=wn.datum;Dn.offset=wn.dp,Dn.del=wn.del}}}(ke,en?"xa":"ya",et),$(ke,en,et._invScaleX,et._invScaleY)),U.target&&U.target.tagName){var Le=M.getComponentMethod("annotations","hasClickToShow")(S,Re);r(t.select(U.target),Le?"pointer":"")}!U.target||G||!function(_e,fe,Fe){if(!Fe||Fe.length!==_e._hoverdata.length)return!0;for(var Ye=Fe.length-1;Ye>=0;Ye--){var Je=Fe[Ye],Ze=_e._hoverdata[Ye];if(Je.curveNumber!==Ze.curveNumber||String(Je.pointNumber)!==String(Ze.pointNumber)||String(Je.pointNumbers)!==String(Ze.pointNumbers))return!0}return!1}(S,0,ue)||(ue&&S.emit("plotly_unhover",{event:U,points:ue}),S.emit("plotly_hover",{event:U,points:S._hoverdata,xaxes:St,yaxes:_t,xvals:Dt,yvals:Tt}))})(L,X,E,Z)})},N.loneHover=function(L,X){var E=!0;Array.isArray(L)||(E=!1,L=[L]);var Z=L.map(function(ct){return{color:ct.color||d.defaultLine,x0:ct.x0||ct.x||0,x1:ct.x1||ct.x||0,y0:ct.y0||ct.y||0,y1:ct.y1||ct.y||0,xLabel:ct.xLabel,yLabel:ct.yLabel,zLabel:ct.zLabel,text:ct.text,name:ct.name,idealAlign:ct.idealAlign,borderColor:ct.borderColor,fontFamily:ct.fontFamily,fontSize:ct.fontSize,fontColor:ct.fontColor,nameLength:ct.nameLength,textAlign:ct.textAlign,trace:ct.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ct.hovertemplate||!1,eventData:ct.eventData||!1,hovertemplateLabels:ct.hovertemplateLabels||!1}}),S=t.select(X.container),U=X.outerContainer?t.select(X.outerContainer):S,P={hovermode:"closest",rotateLabels:!1,bgColor:X.bgColor||d.background,container:S,outerContainer:U},G=Y(Z,P,X.gd),Q=0,et=0;G.sort(function(ct,mt){return ct.y0-mt.y0}).each(function(ct,mt){var Mt=ct.y0-ct.by/2;ct.offset=Mt-5<Q?Q-Mt+5:0,Q=Mt+ct.by+ct.offset,mt===X.anchorIndex&&(et=ct.offset)}).each(function(ct){ct.offset-=et});var tt=X.gd._fullLayout._invScaleX,lt=X.gd._fullLayout._invScaleY;return $(G,P.rotateLabels,tt,lt),E?G:G.node()};var j=/<extra>([\s\S]*)<\/extra>/;function Y(L,X,E){var Z=E._fullLayout,S=X.hovermode,U=X.rotateLabels,P=X.bgColor,G=X.container,Q=X.outerContainer,et=X.commonLabelOpts||{},tt=X.fontFamily||b.HOVERFONT,lt=X.fontSize||b.HOVERFONTSIZE,ct=L[0],mt=ct.xa,Mt=ct.ya,St=S.charAt(0),_t=ct[St+"Label"],Yt=Q.node().getBoundingClientRect(),Et=Yt.top,gt=Yt.width,ot=Yt.height,nt=_t!==void 0&&ct.distance<=X.hoverdistance&&(S==="x"||S==="y");if(nt){var ut,ht,Dt=!0;for(ut=0;ut<L.length;ut++)if(Dt&&L[ut].zLabel===void 0&&(Dt=!1),ht=L[ut].hoverinfo||L[ut].trace.hoverinfo){var Tt=Array.isArray(ht)?ht:ht.split("+");if(Tt.indexOf("all")===-1&&Tt.indexOf(S)===-1){nt=!1;break}}Dt&&(nt=!1)}var xt=G.selectAll("g.axistext").data(nt?[0]:[]);if(xt.enter().append("g").classed("axistext",!0),xt.exit().remove(),xt.each(function(){var Wt=t.select(this),ae=e.ensureSingle(Wt,"path","",function(tn){tn.style({"stroke-width":"1px"})}),ce=e.ensureSingle(Wt,"text","",function(tn){tn.attr("data-notex",1)}),be=et.bgcolor||d.defaultLine,he=et.bordercolor||d.contrast(be),me=d.contrast(be),le={family:et.font.family||tt,size:et.font.size||lt,color:et.font.color||me};ae.style({fill:be,stroke:he}),ce.text(_t).call(u.font,le).call(a.positionText,0,0).call(a.convertToTspans,E),Wt.attr("transform","");var Te,Me,ge=ce.node().getBoundingClientRect();if(S==="x"){var oe=mt.side==="top"?"-":"";ce.attr("text-anchor","middle").call(a.positionText,0,mt.side==="top"?Et-ge.bottom-D-z:Et-ge.top+D+z),Te=mt._offset+(ct.x0+ct.x1)/2,Me=Mt._offset+(mt.side==="top"?0:Mt._length);var de=ge.width/2+z;Te<de?(Te=de,ae.attr("d","M-"+(de-D)+",0L-"+(de-2*D)+","+oe+D+"H"+(z+ge.width/2)+"v"+oe+(2*z+ge.height)+"H-"+de+"V"+oe+D+"Z")):Te>Z.width-de?(Te=Z.width-de,ae.attr("d","M"+(de-D)+",0L"+de+","+oe+D+"v"+oe+(2*z+ge.height)+"H-"+de+"V"+oe+D+"H"+(de-2*D)+"Z")):ae.attr("d","M0,0L"+D+","+oe+D+"H"+(z+ge.width/2)+"v"+oe+(2*z+ge.height)+"H-"+(z+ge.width/2)+"V"+oe+D+"H-"+D+"Z")}else{var Ae,ye,Ce;Mt.side==="right"?(Ae="start",ye=1,Ce="",Te=mt._offset+mt._length):(Ae="end",ye=-1,Ce="-",Te=mt._offset),Me=Mt._offset+(ct.y0+ct.y1)/2,ce.attr("text-anchor",Ae),ae.attr("d","M0,0L"+Ce+D+","+D+"V"+(z+ge.height/2)+"h"+Ce+(2*z+ge.width)+"V-"+(z+ge.height/2)+"H"+Ce+D+"V-"+D+"Z");var ue,Re=ge.height/2,De=Et-ge.top-Re,Oe="clip"+Z._uid+"commonlabel"+Mt._id;if(Te<ge.width+2*z+D){ue="M-"+(D+z)+"-"+Re+"h-"+(ge.width-z)+"V"+Re+"h"+(ge.width-z)+"Z";var Ne=ge.width-Te+z;a.positionText(ce,Ne,De),Ae==="end"&&ce.selectAll("tspan").each(function(){var tn=t.select(this),Se=u.tester.append("text").text(tn.text()).call(u.font,le),ke=Se.node().getBoundingClientRect();Math.round(ke.width)<Math.round(ge.width)&&tn.attr("x",Ne-ke.width),Se.remove()})}else a.positionText(ce,ye*(z+D),De),ue=null;var en=Z._topclips.selectAll("#"+Oe).data(ue?[0]:[]);en.enter().append("clipPath").attr("id",Oe).append("path"),en.exit().remove(),en.select("path").attr("d",ue),u.setClipUrl(ce,ue?Oe:null,E)}Wt.attr("transform",n(Te,Me))}),w.isUnifiedHover(S)){if(G.selectAll("g.hovertext").remove(),L.length===0)return;var Ot={showlegend:!0,legend:{title:{text:_t,font:Z.hoverlabel.font},font:Z.hoverlabel.font,bgcolor:Z.hoverlabel.bgcolor,bordercolor:Z.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Z.legend?Z.legend.traceorder:void 0,orientation:"v"}},It={};v(Ot,It,E._fullData);var wt=It.legend;wt.entries=[];for(var At=0;At<L.length;At++){var Xt=B(L[At],!0,S,Z,_t),kt=Xt[0],Bt=Xt[1],Zt=L[At];Zt.name=Bt,Zt.text=Bt!==""?Bt+" : "+kt:kt;var Ht=Zt.cd[Zt.index];Ht&&(Ht.mc&&(Zt.mc=Ht.mc),Ht.mcc&&(Zt.mc=Ht.mcc),Ht.mlc&&(Zt.mlc=Ht.mlc),Ht.mlcc&&(Zt.mlc=Ht.mlcc),Ht.mlw&&(Zt.mlw=Ht.mlw),Ht.mrc&&(Zt.mrc=Ht.mrc),Ht.dir&&(Zt.dir=Ht.dir)),Zt._distinct=!0,wt.entries.push([Zt])}wt.entries.sort(function(Wt,ae){return Wt[0].trace.index-ae[0].trace.index}),wt.layer=G,wt._inHover=!0,h(E,wt);var ee,qt,vt,bt,Gt=G.select("g.legend"),re=Gt.node().getBoundingClientRect(),xe=re.width+2*z,at=re.height+2*z,st=L[0],Lt=(st.x0+st.x1)/2,Ct=(st.y0+st.y1)/2,Nt=!(M.traceIs(st.trace,"bar-like")||M.traceIs(st.trace,"box-violin"));St==="y"?Nt?(qt=Ct-z,ee=Ct+z):(qt=Math.min.apply(null,L.map(function(Wt){return Math.min(Wt.y0,Wt.y1)})),ee=Math.max.apply(null,L.map(function(Wt){return Math.max(Wt.y0,Wt.y1)}))):qt=ee=e.mean(L.map(function(Wt){return(Wt.y0+Wt.y1)/2}))-at/2,St==="x"?Nt?(vt=Lt+z,bt=Lt-z):(vt=Math.max.apply(null,L.map(function(Wt){return Math.max(Wt.x0,Wt.x1)})),bt=Math.min.apply(null,L.map(function(Wt){return Math.min(Wt.x0,Wt.x1)}))):vt=bt=e.mean(L.map(function(Wt){return(Wt.x0+Wt.x1)/2}))-xe/2;var Pt,jt,$t=mt._offset,ne=Mt._offset;return bt+=$t-xe,qt+=ne-at,Pt=(vt+=$t)+xe<gt&&vt>=0?vt:bt+xe<gt&&bt>=0?bt:$t+xe<gt?$t:vt-Lt<Lt-bt+xe?gt-xe:0,Pt+=z,jt=(ee+=ne)+at<ot&&ee>=0?ee:qt+at<ot&&qt>=0?qt:ne+at<ot?ne:ee-Ct<Ct-qt+at?ot-at:0,jt+=z,Gt.attr("transform",n(Pt-1,jt-1)),Gt}var se=G.selectAll("g.hovertext").data(L,function(Wt){return I(Wt)});return se.enter().append("g").classed("hovertext",!0).each(function(){var Wt=t.select(this);Wt.append("rect").call(d.fill,d.addOpacity(P,.8)),Wt.append("text").classed("name",!0),Wt.append("path").style("stroke-width","1px"),Wt.append("text").classed("nums",!0).call(u.font,tt,lt)}),se.exit().remove(),se.each(function(Wt){var ae=t.select(this).attr("transform",""),ce=Wt.color;Array.isArray(ce)&&(ce=ce[Wt.eventData[0].pointNumber]);var be=Wt.bgcolor||ce,he=d.combine(d.opacity(be)?be:d.defaultLine,P),me=d.combine(d.opacity(ce)?ce:d.defaultLine,P),le=Wt.borderColor||d.contrast(he),Te=B(Wt,nt,S,Z,_t,ae),Me=Te[0],ge=Te[1],oe=ae.select("text.nums").call(u.font,Wt.fontFamily||tt,Wt.fontSize||lt,Wt.fontColor||le).text(Me).attr("data-notex",1).call(a.positionText,0,0).call(a.convertToTspans,E),de=ae.select("text.name"),Ae=0,ye=0;if(ge&&ge!==Me){de.call(u.font,Wt.fontFamily||tt,Wt.fontSize||lt,me).text(ge).attr("data-notex",1).call(a.positionText,0,0).call(a.convertToTspans,E);var Ce=de.node().getBoundingClientRect();Ae=Ce.width+2*z,ye=Ce.height+2*z}else de.remove(),ae.select("rect").remove();ae.select("path").style({fill:he,stroke:le});var ue,Re,De=oe.node().getBoundingClientRect(),Oe=Wt.xa._offset+(Wt.x0+Wt.x1)/2,Ne=Wt.ya._offset+(Wt.y0+Wt.y1)/2,en=Math.abs(Wt.x1-Wt.x0),tn=Math.abs(Wt.y1-Wt.y0),Se=De.width+D+z+Ae;if(Wt.ty0=Et-De.top,Wt.bx=De.width+2*z,Wt.by=Math.max(De.height+2*z,ye),Wt.anchor="start",Wt.txwidth=De.width,Wt.tx2width=Ae,Wt.offset=0,U)Wt.pos=Oe,ue=Ne+tn/2+Se<=ot,Re=Ne-tn/2-Se>=0,Wt.idealAlign!=="top"&&ue||!Re?ue?(Ne+=tn/2,Wt.anchor="start"):Wt.anchor="middle":(Ne-=tn/2,Wt.anchor="end");else if(Wt.pos=Ne,ue=Oe+en/2+Se<=gt,Re=Oe-en/2-Se>=0,Wt.idealAlign!=="left"&&ue||!Re)if(ue)Oe+=en/2,Wt.anchor="start";else{Wt.anchor="middle";var ke=Se/2,Le=Oe+ke-gt,_e=Oe-ke;Le>0&&(Oe-=Le),_e<0&&(Oe+=-_e)}else Oe-=en/2,Wt.anchor="end";oe.attr("text-anchor",Wt.anchor),Ae&&de.attr("text-anchor",Wt.anchor),ae.attr("transform",n(Oe,Ne)+(U?l(A):""))}),se}function B(L,X,E,Z,S,U){var P="",G="";L.nameOverride!==void 0&&(L.name=L.nameOverride),L.name&&(L.trace._meta&&(L.name=e.templateString(L.name,L.trace._meta)),P=C(L.name,L.nameLength));var Q=E.charAt(0),et=Q==="x"?"y":"x";L.zLabel!==void 0?(L.xLabel!==void 0&&(G+="x: "+L.xLabel+"<br>"),L.yLabel!==void 0&&(G+="y: "+L.yLabel+"<br>"),L.trace.type!=="choropleth"&&L.trace.type!=="choroplethmapbox"&&(G+=(G?"z: ":"")+L.zLabel)):X&&L[Q+"Label"]===S?G=L[et+"Label"]||"":L.xLabel===void 0?L.yLabel!==void 0&&L.trace.type!=="scattercarpet"&&(G=L.yLabel):G=L.yLabel===void 0?L.xLabel:"("+L.xLabel+", "+L.yLabel+")",!L.text&&L.text!==0||Array.isArray(L.text)||(G+=(G?"<br>":"")+L.text),L.extraText!==void 0&&(G+=(G?"<br>":"")+L.extraText),U&&G===""&&!L.hovertemplate&&(P===""&&U.remove(),G=P);var tt=L.hovertemplate||!1;if(tt){var lt=L.hovertemplateLabels||L;L[Q+"Label"]!==S&&(lt[Q+"other"]=lt[Q+"Val"],lt[Q+"otherLabel"]=lt[Q+"Label"]),G=(G=e.hovertemplateString(tt,lt,Z._d3locale,L.eventData[0]||{},L.trace._meta)).replace(j,function(ct,mt){return P=C(mt,L.nameLength),""})}return[G,P]}function $(L,X,E,Z){var S=function(P){return P*E},U=function(P){return P*Z};L.each(function(P){var G=t.select(this);if(P.del)return G.remove();var Q=G.select("text.nums"),et=P.anchor,tt=et==="end"?-1:1,lt={start:1,end:-1,middle:0}[et],ct=lt*(D+z),mt=ct+lt*(P.txwidth+z),Mt=0,St=P.offset,_t=et==="middle";_t&&(ct-=P.tx2width/2,mt+=P.txwidth/2+z),X&&(St*=-x,Mt=P.offset*k),G.select("path").attr("d",_t?"M-"+S(P.bx/2+P.tx2width/2)+","+U(St-P.by/2)+"h"+S(P.bx)+"v"+U(P.by)+"h-"+S(P.bx)+"Z":"M0,0L"+S(tt*D+Mt)+","+U(D+St)+"v"+U(P.by/2-D)+"h"+S(tt*P.bx)+"v-"+U(P.by)+"H"+S(tt*D+Mt)+"V"+U(St-D)+"Z");var Yt=Mt+ct,Et=St+P.ty0-P.by/2+z,gt=P.textAlign||"auto";gt!=="auto"&&(gt==="left"&&et!=="start"?(Q.attr("text-anchor","start"),Yt=_t?-P.bx/2-P.tx2width/2+z:-P.bx-z):gt==="right"&&et!=="end"&&(Q.attr("text-anchor","end"),Yt=_t?P.bx/2-P.tx2width/2-z:P.bx+z)),Q.call(a.positionText,S(Yt),U(Et)),P.tx2width&&(G.select("text.name").call(a.positionText,S(mt+lt*z+Mt),U(St+P.ty0-P.by/2+z)),G.select("rect").call(u.setRect,S(mt+(lt-1)*P.tx2width/2+Mt),U(St-P.by/2-1),S(P.tx2width),U(P.by+2)))})}function rt(L,X){var E=L.index,Z=L.trace||{},S=L.cd[0],U=L.cd[E]||{};function P(ct){return ct||s(ct)&&ct===0}var G=Array.isArray(E)?function(ct,mt){var Mt=e.castOption(S,E,ct);return P(Mt)?Mt:e.extractOption({},Z,"",mt)}:function(ct,mt){return e.extractOption(U,Z,ct,mt)};function Q(ct,mt,Mt){var St=G(mt,Mt);P(St)&&(L[ct]=St)}if(Q("hoverinfo","hi","hoverinfo"),Q("bgcolor","hbg","hoverlabel.bgcolor"),Q("borderColor","hbc","hoverlabel.bordercolor"),Q("fontFamily","htf","hoverlabel.font.family"),Q("fontSize","hts","hoverlabel.font.size"),Q("fontColor","htc","hoverlabel.font.color"),Q("nameLength","hnl","hoverlabel.namelength"),Q("textAlign","hta","hoverlabel.align"),L.posref=X==="y"||X==="closest"&&Z.orientation==="h"?L.xa._offset+(L.x0+L.x1)/2:L.ya._offset+(L.y0+L.y1)/2,L.x0=e.constrain(L.x0,0,L.xa._length),L.x1=e.constrain(L.x1,0,L.xa._length),L.y0=e.constrain(L.y0,0,L.ya._length),L.y1=e.constrain(L.y1,0,L.ya._length),L.xLabelVal!==void 0&&(L.xLabel="xLabel"in L?L.xLabel:m.hoverLabelText(L.xa,L.xLabelVal,Z.xhoverformat),L.xVal=L.xa.c2d(L.xLabelVal)),L.yLabelVal!==void 0&&(L.yLabel="yLabel"in L?L.yLabel:m.hoverLabelText(L.ya,L.yLabelVal,Z.yhoverformat),L.yVal=L.ya.c2d(L.yLabelVal)),L.zLabelVal!==void 0&&L.zLabel===void 0&&(L.zLabel=String(L.zLabelVal)),!(isNaN(L.xerr)||L.xa.type==="log"&&L.xerr<=0)){var et=m.tickText(L.xa,L.xa.c2l(L.xerr),"hover").text;L.xerrneg!==void 0?L.xLabel+=" +"+et+" / -"+m.tickText(L.xa,L.xa.c2l(L.xerrneg),"hover").text:L.xLabel+=" ± "+et,X==="x"&&(L.distance+=1)}if(!(isNaN(L.yerr)||L.ya.type==="log"&&L.yerr<=0)){var tt=m.tickText(L.ya,L.ya.c2l(L.yerr),"hover").text;L.yerrneg!==void 0?L.yLabel+=" +"+tt+" / -"+m.tickText(L.ya,L.ya.c2l(L.yerrneg),"hover").text:L.yLabel+=" ± "+tt,X==="y"&&(L.distance+=1)}var lt=L.hoverinfo||L.trace.hoverinfo;return lt&&lt!=="all"&&((lt=Array.isArray(lt)?lt:lt.split("+")).indexOf("x")===-1&&(L.xLabel=void 0),lt.indexOf("y")===-1&&(L.yLabel=void 0),lt.indexOf("z")===-1&&(L.zLabel=void 0),lt.indexOf("text")===-1&&(L.text=void 0),lt.indexOf("name")===-1&&(L.name=void 0)),L}function q(L,X,E){var Z,S,U=E.container,P=E.fullLayout,G=P._size,Q=E.event,et=!!X.hLinePoint,tt=!!X.vLinePoint;if(U.selectAll(".spikeline").remove(),tt||et){var lt=d.combine(P.plot_bgcolor,P.paper_bgcolor);if(et){var ct,mt,Mt=X.hLinePoint;Z=Mt&&Mt.xa,(S=Mt&&Mt.ya).spikesnap==="cursor"?(ct=Q.pointerX,mt=Q.pointerY):(ct=Z._offset+Mt.x,mt=S._offset+Mt.y);var St,_t,Yt=o.readability(Mt.color,lt)<1.5?d.contrast(lt):Mt.color,Et=S.spikemode,gt=S.spikethickness,ot=S.spikecolor||Yt,nt=m.getPxPosition(L,S);if(Et.indexOf("toaxis")!==-1||Et.indexOf("across")!==-1){if(Et.indexOf("toaxis")!==-1&&(St=nt,_t=ct),Et.indexOf("across")!==-1){var ut=S._counterDomainMin,ht=S._counterDomainMax;S.anchor==="free"&&(ut=Math.min(ut,S.position),ht=Math.max(ht,S.position)),St=G.l+ut*G.w,_t=G.l+ht*G.w}U.insert("line",":first-child").attr({x1:St,x2:_t,y1:mt,y2:mt,"stroke-width":gt,stroke:ot,"stroke-dasharray":u.dashStyle(S.spikedash,gt)}).classed("spikeline",!0).classed("crisp",!0),U.insert("line",":first-child").attr({x1:St,x2:_t,y1:mt,y2:mt,"stroke-width":gt+2,stroke:lt}).classed("spikeline",!0).classed("crisp",!0)}Et.indexOf("marker")!==-1&&U.insert("circle",":first-child").attr({cx:nt+(S.side!=="right"?gt:-gt),cy:mt,r:gt,fill:ot}).classed("spikeline",!0)}if(tt){var Dt,Tt,xt=X.vLinePoint;Z=xt&&xt.xa,S=xt&&xt.ya,Z.spikesnap==="cursor"?(Dt=Q.pointerX,Tt=Q.pointerY):(Dt=Z._offset+xt.x,Tt=S._offset+xt.y);var Ot,It,wt=o.readability(xt.color,lt)<1.5?d.contrast(lt):xt.color,At=Z.spikemode,Xt=Z.spikethickness,kt=Z.spikecolor||wt,Bt=m.getPxPosition(L,Z);if(At.indexOf("toaxis")!==-1||At.indexOf("across")!==-1){if(At.indexOf("toaxis")!==-1&&(Ot=Bt,It=Tt),At.indexOf("across")!==-1){var Zt=Z._counterDomainMin,Ht=Z._counterDomainMax;Z.anchor==="free"&&(Zt=Math.min(Zt,Z.position),Ht=Math.max(Ht,Z.position)),Ot=G.t+(1-Ht)*G.h,It=G.t+(1-Zt)*G.h}U.insert("line",":first-child").attr({x1:Dt,x2:Dt,y1:Ot,y2:It,"stroke-width":Xt,stroke:kt,"stroke-dasharray":u.dashStyle(Z.spikedash,Xt)}).classed("spikeline",!0).classed("crisp",!0),U.insert("line",":first-child").attr({x1:Dt,x2:Dt,y1:Ot,y2:It,"stroke-width":Xt+2,stroke:lt}).classed("spikeline",!0).classed("crisp",!0)}At.indexOf("marker")!==-1&&U.insert("circle",":first-child").attr({cx:Dt,cy:Bt-(Z.side!=="top"?Xt:-Xt),r:Xt,fill:kt}).classed("spikeline",!0)}}}function H(L,X){return!X||X.vLinePoint!==L._spikepoints.vLinePoint||X.hLinePoint!==L._spikepoints.hLinePoint}function C(L,X){return a.plainText(L||"",{len:X,allowedTags:["br","sub","sup","b","i","em"]})}function F(L,X,E){var Z=X[L+"a"],S=X[L+"Val"],U=X.cd[0];if(Z.type==="category")S=Z._categoriesMap[S];else if(Z.type==="date"){var P=X.trace[L+"periodalignment"];if(P){var G=X.cd[X.index],Q=G[L+"Start"];Q===void 0&&(Q=G[L]);var et=G[L+"End"];et===void 0&&(et=G[L]);var tt=et-Q;P==="end"?S+=tt:P==="middle"&&(S+=tt/2)}S=Z.d2c(S)}return U&&U.t&&U.t.posLetter===Z._id&&(E.boxmode!=="group"&&E.violinmode!=="group"||(S+=U.t.dPos)),S}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(c,J,N){var t=c("../../lib"),s=c("../color"),o=c("./helpers").isUnifiedHover;J.exports=function(e,n,l,i){function a(r){i.font[r]||(i.font[r]=n.legend?n.legend.font[r]:n.font[r])}i=i||{},n&&o(n.hovermode)&&(i.font||(i.font={}),a("size"),a("family"),a("color"),n.legend?(i.bgcolor||(i.bgcolor=s.combine(n.legend.bgcolor,n.paper_bgcolor)),i.bordercolor||(i.bordercolor=n.legend.bordercolor)):i.bgcolor||(i.bgcolor=n.paper_bgcolor)),l("hoverlabel.bgcolor",i.bgcolor),l("hoverlabel.bordercolor",i.bordercolor),l("hoverlabel.namelength",i.namelength),t.coerceFont(l,"hoverlabel.font",i.font),l("hoverlabel.align",i.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(c,J,N){var t=c("../../lib"),s=c("./layout_attributes");J.exports=function(o,e){function n(l,i){return e[l]!==void 0?e[l]:t.coerce(o,e,s,l,i)}return n("clickmode"),n("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../lib"),o=c("../dragelement"),e=c("./helpers"),n=c("./layout_attributes"),l=c("./hover");J.exports={moduleType:"component",name:"fx",constants:c("./constants"),schema:{layout:n},attributes:c("./attributes"),layoutAttributes:n,supplyLayoutGlobalDefaults:c("./layout_global_defaults"),supplyDefaults:c("./defaults"),supplyLayoutDefaults:c("./layout_defaults"),calc:c("./calc"),getDistanceFunction:e.getDistanceFunction,getClosest:e.getClosest,inbox:e.inbox,quadrature:e.quadrature,appendArrayPointValue:e.appendArrayPointValue,castHoverOption:function(i,a,r){return s.castOption(i,a,"hoverlabel."+r)},castHoverinfo:function(i,a,r){return s.castOption(i,r,"hoverinfo",function(u){return s.coerceHoverinfo({hoverinfo:u},{_module:i._module},a)})},hover:l.hover,unhover:o.unhover,loneHover:l.loneHover,loneUnhover:function(i){var a=s.isD3Selection(i)?i:t.select(i);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()},click:c("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(c,J,N){var t=c("./constants"),s=c("../../plots/font_attributes")({editType:"none"});s.family.dflt=t.HOVERFONT,s.size.dflt=t.HOVERFONTSIZE,J.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":308,"./constants":136}],144:[function(c,J,N){var t=c("../../lib"),s=c("./layout_attributes"),o=c("./hovermode_defaults"),e=c("./hoverlabel_defaults");J.exports=function(n,l){function i(d,p){return t.coerce(n,l,s,d,p)}o(n,l)&&(i("hoverdistance"),i("spikedistance")),i("dragmode")==="select"&&i("selectdirection");var a=l._has("mapbox"),r=l._has("geo"),u=l._basePlotModules.length;l.dragmode==="zoom"&&((a||r)&&u===1||a&&r&&u===2)&&(l.dragmode="pan"),e(n,l,i)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(c,J,N){var t=c("../../lib"),s=c("./hoverlabel_defaults"),o=c("./layout_attributes");J.exports=function(e,n){s(e,n,function(l,i){return t.coerce(e,n,o,l,i)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(c,J,N){var t=c("../../lib"),s=c("../../lib/regex").counter,o=c("../../plots/domain").attributes,e=c("../../plots/cartesian/constants").idRegex,n=c("../../plot_api/plot_template"),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[s("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[e.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[e.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function i(u,d,p){var m=d[p+"axes"],M=Object.keys((u._splomAxes||{})[p]||{});return Array.isArray(m)?m:M.length?M:void 0}function a(u,d,p,m,M,w){var b=d(u+"gap",p),v=d("domain."+u);d(u+"side",m);for(var h=new Array(M),A=v[0],y=(v[1]-A)/(M-b),T=y*(1-b),k=0;k<M;k++){var x=A+y*k;h[w?M-1-k:k]=[x,x+T]}return h}function r(u,d,p,m,M){var w,b=new Array(p);function v(h,A){d.indexOf(A)!==-1&&m[A]===void 0?(b[h]=A,m[A]=h):b[h]=""}if(Array.isArray(u))for(w=0;w<p;w++)v(w,u[w]);else for(v(0,M),w=1;w<p;w++)v(w,M+(w+1));return b}J.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(u,d){var p=u.grid||{},m=i(d,p,"x"),M=i(d,p,"y");if(u.grid||m||M){var w,b,v=Array.isArray(p.subplots)&&Array.isArray(p.subplots[0]),h=Array.isArray(m),A=Array.isArray(M),y=h&&m!==p.xaxes&&A&&M!==p.yaxes;v?(w=p.subplots.length,b=p.subplots[0].length):(A&&(w=M.length),h&&(b=m.length));var T=n.newContainer(d,"grid"),k=j("rows",w),x=j("columns",b);if(k*x>1){!v&&!h&&!A&&j("pattern")==="independent"&&(v=!0),T._hasSubplotGrid=v;var D,z,g=j("roworder")==="top to bottom",R=v?.2:.1,I=v?.3:.1;y&&d._splomGridDflt&&(D=d._splomGridDflt.xside,z=d._splomGridDflt.yside),T._domains={x:a("x",j,R,D,x),y:a("y",j,I,z,k,g)}}else delete d.grid}function j(Y,B){return t.coerce(p,T,l,Y,B)}},contentDefaults:function(u,d){var p=d.grid;if(p&&p._domains){var m,M,w,b,v,h,A,y=u.grid||{},T=d._subplots,k=p._hasSubplotGrid,x=p.rows,D=p.columns,z=p.pattern==="independent",g=p._axisMap={};if(k){var R=y.subplots||[];h=p.subplots=new Array(x);var I=1;for(m=0;m<x;m++){var j=h[m]=new Array(D),Y=R[m]||[];for(M=0;M<D;M++)if(z?(v=I===1?"xy":"x"+I+"y"+I,I++):v=Y[M],j[M]="",T.cartesian.indexOf(v)!==-1){if(A=v.indexOf("y"),w=v.slice(0,A),b=v.slice(A),g[w]!==void 0&&g[w]!==M||g[b]!==void 0&&g[b]!==m)continue;j[M]=v,g[w]=M,g[b]=m}}}else{var B=i(d,y,"x"),$=i(d,y,"y");p.xaxes=r(B,T.xaxis,D,g,"x"),p.yaxes=r($,T.yaxis,x,g,"y")}var rt=p._anchors={},q=p.roworder==="top to bottom";for(var H in g){var C,F,L,X=H.charAt(0),E=p[X+"side"];if(E.length<8)rt[H]="free";else if(X==="x"){if(E.charAt(0)==="t"===q?(C=0,F=1,L=x):(C=x-1,F=-1,L=-1),k){var Z=g[H];for(m=C;m!==L;m+=F)if((v=h[m][Z])&&(A=v.indexOf("y"),v.slice(0,A)===H)){rt[H]=v.slice(A);break}}else for(m=C;m!==L;m+=F)if(b=p.yaxes[m],T.cartesian.indexOf(H+b)!==-1){rt[H]=b;break}}else if(E.charAt(0)==="l"?(C=0,F=1,L=D):(C=D-1,F=-1,L=-1),k){var S=g[H];for(m=C;m!==L;m+=F)if((v=h[S][m])&&(A=v.indexOf("y"),v.slice(A)===H)){rt[H]=v.slice(0,A);break}}else for(m=C;m!==L;m+=F)if(w=p.xaxes[m],T.cartesian.indexOf(w+H)!==-1){rt[H]=w;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":307}],147:[function(c,J,N){var t=c("../../plots/cartesian/constants"),s=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),J.exports=s("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",t.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",t.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib/to_log_range");J.exports=function(o,e,n,l){e=e||{};var i=n==="log"&&e.type==="linear",a=n==="linear"&&e.type==="log";if(i||a){for(var r,u,d=o._fullLayout.images,p=e._id.charAt(0),m=0;m<d.length;m++)if(u="images["+m+"].",(r=d[m])[p+"ref"]===e._id){var M=r[p],w=r["size"+p],b=null,v=null;if(i){b=s(M,e.range);var h=w/Math.pow(10,b)/2;v=2*Math.log(h+Math.sqrt(1+h*h))/Math.LN10}else v=(b=Math.pow(10,M))*(Math.pow(10,w/2)-Math.pow(10,-w/2));t(b)?t(v)||(v=null):(b=null,v=null),l(u+p,b),l(u+"size"+p,v)}}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./attributes");function n(l,i,a){function r(b,v){return t.coerce(l,i,e,b,v)}var u=r("source");if(!r("visible",!!u))return i;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var d={_fullLayout:a},p=["x","y"],m=0;m<2;m++){var M=p[m],w=s.coerceRef(l,i,d,M,"paper",void 0);w!=="paper"&&s.getFromId(d,w)._imgIndices.push(i._index),s.coercePosition(i,d,r,w,M,0)}return i}J.exports=function(l,i){o(l,i,{name:"images",handleItemDefaults:n})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(c,J,N){var t=c("@plotly/d3"),s=c("../drawing"),o=c("../../plots/cartesian/axes"),e=c("../../plots/cartesian/axis_ids"),n=c("../../constants/xmlns_namespaces");J.exports=function(l){var i,a,r=l._fullLayout,u=[],d={},p=[];for(a=0;a<r.images.length;a++){var m=r.images[a];if(m.visible)if(m.layer==="below"&&m.xref!=="paper"&&m.yref!=="paper"){i=e.ref2id(m.xref)+e.ref2id(m.yref);var M=r._plots[i];if(!M){p.push(m);continue}M.mainplot&&(i=M.mainplot.id),d[i]||(d[i]=[]),d[i].push(m)}else m.layer==="above"?u.push(m):p.push(m)}var w={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},b={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function v(D){var z=t.select(this);if(this._imgSrc!==D.source)if(z.attr("xmlns",n.svg),D.source&&D.source.slice(0,5)==="data:")z.attr("xlink:href",D.source),this._imgSrc=D.source;else{var g=new Promise((function(R){var I=new Image;function j(){z.remove(),R()}this.img=I,I.setAttribute("crossOrigin","anonymous"),I.onerror=j,I.onload=function(){var Y=document.createElement("canvas");Y.width=this.width,Y.height=this.height,Y.getContext("2d").drawImage(this,0,0);var B=Y.toDataURL("image/png");z.attr("xlink:href",B),R()},z.on("error",j),I.src=D.source,this._imgSrc=D.source}).bind(this));l._promises.push(g)}}function h(D){var z,g,R=t.select(this),I=o.getFromId(l,D.xref),j=o.getFromId(l,D.yref),Y=o.getRefType(D.xref)==="domain",B=o.getRefType(D.yref)==="domain",$=r._size;z=I!==void 0?typeof D.xref=="string"&&Y?I._length*D.sizex:Math.abs(I.l2p(D.sizex)-I.l2p(0)):D.sizex*$.w,g=j!==void 0?typeof D.yref=="string"&&B?j._length*D.sizey:Math.abs(j.l2p(D.sizey)-j.l2p(0)):D.sizey*$.h;var rt,q,H=z*w[D.xanchor].offset,C=g*b[D.yanchor].offset,F=w[D.xanchor].sizing+b[D.yanchor].sizing;switch(rt=I!==void 0?typeof D.xref=="string"&&Y?I._length*D.x+I._offset:I.r2p(D.x)+I._offset:D.x*$.w+$.l,rt+=H,q=j!==void 0?typeof D.yref=="string"&&B?j._length*(1-D.y)+j._offset:j.r2p(D.y)+j._offset:$.h-D.y*$.h+$.t,q+=C,D.sizing){case"fill":F+=" slice";break;case"stretch":F="none"}R.attr({x:rt,y:q,width:z,height:g,preserveAspectRatio:F,opacity:D.opacity});var L=(I&&o.getRefType(D.xref)!=="domain"?I._id:"")+(j&&o.getRefType(D.yref)!=="domain"?j._id:"");s.setClipUrl(R,L?"clip"+r._uid+L:null,l)}var A=r._imageLowerLayer.selectAll("image").data(p),y=r._imageUpperLayer.selectAll("image").data(u);A.enter().append("image"),y.enter().append("image"),A.exit().remove(),y.exit().remove(),A.each(function(D){v.bind(this)(D),h.bind(this)(D)}),y.each(function(D){v.bind(this)(D),h.bind(this)(D)});var T=Object.keys(r._plots);for(a=0;a<T.length;a++){i=T[a];var k=r._plots[i];if(k.imagelayer){var x=k.imagelayer.selectAll("image").data(d[i]||[]);x.enter().append("image"),x.exit().remove(),x.each(function(D){v.bind(this)(D),h.bind(this)(D)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(c,J,N){J.exports={moduleType:"component",name:"images",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("images"),draw:c("./draw"),convertCoords:c("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(c,J,N){var t=c("../../plots/font_attributes"),s=c("../color/attributes");J.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:s.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:t({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:t({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":308,"../color/attributes":101}],153:[function(c,J,N){J.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(c,J,N){var t=c("../../registry"),s=c("../../lib"),o=c("../../plot_api/plot_template"),e=c("./attributes"),n=c("../../plots/layout_attributes"),l=c("./helpers");J.exports=function(i,a,r){for(var u=i.legend||{},d=0,p=!1,m="normal",M=0;M<r.length;M++){var w=r[M];w.visible&&((w.showlegend||w._dfltShowLegend&&!(w._module&&w._module.attributes&&w._module.attributes.showlegend&&w._module.attributes.showlegend.dflt===!1))&&(d++,w.showlegend&&(p=!0,(t.traceIs(w,"pie-like")||w._input.showlegend===!0)&&d++)),(t.traceIs(w,"bar")&&a.barmode==="stack"||["tonextx","tonexty"].indexOf(w.fill)!==-1)&&(m=l.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),w.legendgroup!==void 0&&w.legendgroup!==""&&(m=l.isReversed({traceorder:m})?"reversed+grouped":"grouped"))}var b=s.coerce(i,a,n,"showlegend",p&&d>1);if(b!==!1||u.uirevision){var v=o.newContainer(a,"legend");if(D("uirevision",a.uirevision),b!==!1){D("bgcolor",a.paper_bgcolor),D("bordercolor"),D("borderwidth");var h,A,y,T=s.coerceFont(D,"font",a.font),k=D("orientation")==="h";if(k?(h=0,t.getComponentMethod("rangeslider","isVisible")(i.xaxis)?(A=1.1,y="bottom"):(A=-.1,y="top")):(h=1.02,A=1,y="auto"),D("traceorder",m),l.isGrouped(a.legend)&&D("tracegroupgap"),D("itemsizing"),D("itemwidth"),D("itemclick"),D("itemdoubleclick"),D("x",h),D("xanchor"),D("y",A),D("yanchor",y),D("valign"),s.noneOrAll(u,v,["x","y"]),D("title.text")){D("title.side",k?"left":"top");var x=s.extendFlat({},T,{size:s.bigFont(T.size)});s.coerceFont(D,"title.font",x)}}}function D(z,g){return s.coerce(u,v,e,z,g)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/layout_attributes":312,"../../registry":316,"./attributes":152,"./helpers":158}],155:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../lib"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib/events"),l=c("../dragelement"),i=c("../drawing"),a=c("../color"),r=c("../../lib/svg_text_utils"),u=c("./handle_click"),d=c("./constants"),p=c("../../constants/alignment"),m=p.LINE_SPACING,M=p.FROM_TL,w=p.FROM_BR,b=c("./get_legend_data"),v=c("./style"),h=c("./helpers");function A(g,R,I,j,Y){var B=I.data()[0][0].trace,$={event:Y,node:I.node(),curveNumber:B.index,expandedIndex:B._expandedIndex,data:g.data,layout:g.layout,frames:g._transitionData._frames,config:g._context,fullData:g._fullData,fullLayout:g._fullLayout};B._group&&($.group=B._group),e.traceIs(B,"pie-like")&&($.label=I.datum()[0].label),n.triggerHandler(g,"plotly_legendclick",$)!==!1&&(j===1?R._clickTimeout=setTimeout(function(){g._fullLayout&&u(I,g,j)},g._context.doubleClickDelay):j===2&&(R._clickTimeout&&clearTimeout(R._clickTimeout),g._legendMouseDownTime=0,n.triggerHandler(g,"plotly_legenddoubleclick",$)!==!1&&u(I,g,j)))}function y(g,R,I){var j,Y,B=g.data()[0][0],$=B.trace,rt=e.traceIs($,"pie-like"),q=!I._inHover&&R._context.edits.legendText&&!rt,H=I._maxNameLength;B.groupTitle?(j=B.groupTitle.text,Y=B.groupTitle.font):(Y=I.font,I.entries?j=B.text:(j=rt?B.label:$.name,$._meta&&(j=s.templateString(j,$._meta))));var C=s.ensureSingle(g,"text","legendtext");C.attr("text-anchor","start").call(i.font,Y).text(q?T(j,H):j);var F=I.itemwidth+2*d.itemGap;r.positionText(C,F,0),q?C.call(r.makeEditable,{gd:R,text:j}).call(x,g,R,I).on("edit",function(L){this.text(T(L,H)).call(x,g,R,I);var X=B.trace._fullInput||{},E={};if(e.hasTransform(X,"groupby")){var Z=e.getTransformIndices(X,"groupby"),S=Z[Z.length-1],U=s.keyedContainer(X,"transforms["+S+"].styles","target","value.name");U.set(B.trace._group,L),E=U.constructUpdate()}else E.name=L;return e.call("_guiRestyle",R,E,$.index)}):x(C,g,R,I)}function T(g,R){var I=Math.max(4,R);if(g&&g.trim().length>=I/2)return g;for(var j=I-(g=g||"").length;j>0;j--)g+=" ";return g}function k(g,R){var I,j=R._context.doubleClickDelay,Y=1,B=s.ensureSingle(g,"rect","legendtoggle",function($){R._context.staticPlot||$.style("cursor","pointer").attr("pointer-events","all"),$.call(a.fill,"rgba(0,0,0,0)")});R._context.staticPlot||(B.on("mousedown",function(){(I=new Date().getTime())-R._legendMouseDownTime<j?Y+=1:(Y=1,R._legendMouseDownTime=I)}),B.on("mouseup",function(){if(!R._dragged&&!R._editing){var $=R._fullLayout.legend;new Date().getTime()-R._legendMouseDownTime>j&&(Y=Math.max(Y-1,1)),A(R,$,g,Y,t.event)}}))}function x(g,R,I,j,Y){j._inHover&&g.attr("data-notex",!0),r.convertToTspans(g,I,function(){(function(B,$,rt,q){var H=B.data()[0][0];if(!rt._inHover&&H&&!H.trace.showlegend)return void B.remove();var C=B.select("g[class*=math-group]"),F=C.node();rt||(rt=$._fullLayout.legend);var L,X=rt.borderwidth;L=q===1?rt.title.font:H.groupTitle?H.groupTitle.font:rt.font;var E,Z,S=L.size*m;if(F){var U=i.bBox(F);E=U.height,Z=U.width,q===1?i.setTranslate(C,X,X+.75*E):i.setTranslate(C,0,.25*E)}else{var P=B.select(q===1?".legendtitletext":".legendtext"),G=r.lineCount(P),Q=P.node();if(E=S*G,Z=Q?i.bBox(Q).width:0,q===1)rt.title.side==="left"&&(Z+=2*d.itemGap),r.positionText(P,X+d.titlePad,X+S);else{var et=2*d.itemGap+rt.itemwidth;H.groupTitle&&(et=d.itemGap,Z-=rt.itemwidth),r.positionText(P,et,-S*((G-1)/2-.3))}}q===1?(rt._titleWidth=Z,rt._titleHeight=E):(H.lineHeight=S,H.height=Math.max(E,16)+3,H.width=Z)})(R,I,j,Y)})}function D(g){return s.isRightAnchor(g)?"right":s.isCenterAnchor(g)?"center":"left"}function z(g){return s.isBottomAnchor(g)?"bottom":s.isMiddleAnchor(g)?"middle":"top"}J.exports=function(g,R){return R||(R=g._fullLayout.legend||{}),function(I,j){var Y,B,$=I._fullLayout,rt="legend"+$._uid,q=j._inHover;if(q?(Y=j.layer,rt+="-hover"):Y=$._infolayer,!!Y){if(I._legendMouseDownTime||(I._legendMouseDownTime=0),q){if(!j.entries)return;B=b(j.entries,j)}else{if(!I.calcdata)return;B=$.showlegend&&b(I.calcdata,j)}var H=$.hiddenlabels||[];if(!(q||$.showlegend&&B.length))return Y.selectAll(".legend").remove(),$._topdefs.select("#"+rt).remove(),o.autoMargin(I,"legend");var C=s.ensureSingle(Y,"g","legend",function(G){q||G.attr("pointer-events","all")}),F=s.ensureSingleById($._topdefs,"clipPath",rt,function(G){G.append("rect")}),L=s.ensureSingle(C,"rect","bg",function(G){G.attr("shape-rendering","crispEdges")});L.call(a.stroke,j.bordercolor).call(a.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px");var X=s.ensureSingle(C,"g","scrollbox"),E=j.title;if(j._titleWidth=0,j._titleHeight=0,E.text){var Z=s.ensureSingle(X,"text","legendtitletext");Z.attr("text-anchor","start").call(i.font,E.font).text(E.text),x(Z,X,I,j,1)}else X.selectAll(".legendtitletext").remove();var S=s.ensureSingle(C,"rect","scrollbar",function(G){G.attr(d.scrollBarEnterAttrs).call(a.fill,d.scrollBarColor)}),U=X.selectAll("g.groups").data(B);U.enter().append("g").attr("class","groups"),U.exit().remove();var P=U.selectAll("g.traces").data(s.identity);P.enter().append("g").attr("class","traces"),P.exit().remove(),P.style("opacity",function(G){var Q=G[0].trace;return e.traceIs(Q,"pie-like")?H.indexOf(G[0].label)!==-1?.5:1:Q.visible==="legendonly"?.5:1}).each(function(){t.select(this).call(y,I,j)}).call(v,I,j).each(function(){q||t.select(this).call(k,I)}),s.syncOrAsync([o.previousPromises,function(){return function(G,Q,et,tt){var lt=G._fullLayout;tt||(tt=lt.legend);var ct=lt._size,mt=h.isVertical(tt),Mt=h.isGrouped(tt),St=tt.borderwidth,_t=2*St,Yt=d.itemGap,Et=tt.itemwidth+2*Yt,gt=2*(St+Yt),ot=z(tt),nt=tt.y<0||tt.y===0&&ot==="top",ut=tt.y>1||tt.y===1&&ot==="bottom",ht=tt.tracegroupgap;tt._maxHeight=Math.max(nt||ut?lt.height/2:ct.h,30);var Dt=0;tt._width=0,tt._height=0;var Tt=function(Lt){var Ct=0,Nt=0,Pt=Lt.title.side;return Pt&&(Pt.indexOf("left")!==-1&&(Ct=Lt._titleWidth),Pt.indexOf("top")!==-1&&(Nt=Lt._titleHeight)),[Ct,Nt]}(tt);if(mt)et.each(function(Lt){var Ct=Lt[0].height;i.setTranslate(this,St+Tt[0],St+Tt[1]+tt._height+Ct/2+Yt),tt._height+=Ct,tt._width=Math.max(tt._width,Lt[0].width)}),Dt=Et+tt._width,tt._width+=Yt+Et+_t,tt._height+=gt,Mt&&(Q.each(function(Lt,Ct){i.setTranslate(this,0,Ct*tt.tracegroupgap)}),tt._height+=(tt._lgroupsLength-1)*tt.tracegroupgap);else{var xt=D(tt),Ot=tt.x<0||tt.x===0&&xt==="right",It=tt.x>1||tt.x===1&&xt==="left",wt=ut||nt,At=lt.width/2;tt._maxWidth=Math.max(Ot?wt&&xt==="left"?ct.l+ct.w:At:It?wt&&xt==="right"?ct.r+ct.w:At:ct.w,2*Et);var Xt=0,kt=0;et.each(function(Lt){var Ct=Lt[0].width+Et;Xt=Math.max(Xt,Ct),kt+=Ct}),Dt=null;var Bt=0;if(Mt){var Zt=0,Ht=0,ee=0;Q.each(function(){var Lt=0,Ct=0;t.select(this).selectAll("g.traces").each(function(Pt){var jt=Pt[0].height;i.setTranslate(this,Tt[0],Tt[1]+St+Yt+jt/2+Ct),Ct+=jt,Lt=Math.max(Lt,Et+Pt[0].width)}),Zt=Math.max(Zt,Ct);var Nt=Lt+Yt;Nt+St+Ht>tt._maxWidth&&(Bt=Math.max(Bt,Ht),Ht=0,ee+=Zt+ht,Zt=Ct),i.setTranslate(this,Ht,ee),Ht+=Nt}),tt._width=Math.max(Bt,Ht)+St,tt._height=ee+Zt+gt}else{var qt=et.size(),vt=kt+_t+(qt-1)*Yt<tt._maxWidth,bt=0,Gt=0,re=0,xe=0;et.each(function(Lt){var Ct=Lt[0].height,Nt=Et+Lt[0].width,Pt=(vt?Nt:Xt)+Yt;Pt+St+Gt-Yt>=tt._maxWidth&&(Bt=Math.max(Bt,xe),Gt=0,re+=bt,tt._height+=bt,bt=0),i.setTranslate(this,Tt[0]+St+Gt,Tt[1]+St+re+Ct/2+Yt),xe=Gt+Nt+Yt,Gt+=Pt,bt=Math.max(bt,Ct)}),vt?(tt._width=Gt+_t,tt._height=bt+gt):(tt._width=Math.max(Bt,xe)+_t,tt._height+=bt+gt)}}tt._width=Math.ceil(Math.max(tt._width+Tt[0],tt._titleWidth+2*(St+d.titlePad))),tt._height=Math.ceil(Math.max(tt._height+Tt[1],tt._titleHeight+2*(St+d.itemGap))),tt._effHeight=Math.min(tt._height,tt._maxHeight);var at=G._context.edits,st=at.legendText||at.legendPosition;et.each(function(Lt){var Ct=t.select(this).select(".legendtoggle"),Nt=Lt[0].height,Pt=st?Et:Dt||Et+Lt[0].width;mt||(Pt+=Yt/2),i.setRect(Ct,0,-Nt/2,Pt,Nt)})}(I,U,P,j)},function(){if(q||!function(wt){var At=wt._fullLayout.legend,Xt=D(At),kt=z(At);return o.autoMargin(wt,"legend",{x:At.x,y:At.y,l:At._width*M[Xt],r:At._width*w[Xt],b:At._effHeight*w[kt],t:At._effHeight*M[kt]})}(I)){var G,Q,et,tt,lt=$._size,ct=j.borderwidth,mt=lt.l+lt.w*j.x-M[D(j)]*j._width,Mt=lt.t+lt.h*(1-j.y)-M[z(j)]*j._effHeight;if(!q&&$.margin.autoexpand){var St=mt,_t=Mt;mt=s.constrain(mt,0,$.width-j._width),Mt=s.constrain(Mt,0,$.height-j._effHeight),mt!==St&&s.log("Constrain legend.x to make legend fit inside graph"),Mt!==_t&&s.log("Constrain legend.y to make legend fit inside graph")}if(q||i.setTranslate(C,mt,Mt),S.on(".drag",null),C.on("wheel",null),q||j._height<=j._maxHeight||I._context.staticPlot){var Yt=j._effHeight;q&&(Yt=j._height),L.attr({width:j._width-ct,height:Yt-ct,x:ct/2,y:ct/2}),i.setTranslate(X,0,0),F.select("rect").attr({width:j._width-2*ct,height:Yt-2*ct,x:ct,y:ct}),i.setClipUrl(X,rt,I),i.setRect(S,0,0,0,0),delete j._scrollY}else{var Et,gt,ot,nt=Math.max(d.scrollBarMinHeight,j._effHeight*j._effHeight/j._height),ut=j._effHeight-nt-2*d.scrollBarMargin,ht=j._height-j._effHeight,Dt=ut/ht,Tt=Math.min(j._scrollY||0,ht);L.attr({width:j._width-2*ct+d.scrollBarWidth+d.scrollBarMargin,height:j._effHeight-ct,x:ct/2,y:ct/2}),F.select("rect").attr({width:j._width-2*ct+d.scrollBarWidth+d.scrollBarMargin,height:j._effHeight-2*ct,x:ct,y:ct+Tt}),i.setClipUrl(X,rt,I),It(Tt,nt,Dt),C.on("wheel",function(){It(Tt=s.constrain(j._scrollY+t.event.deltaY/ut*ht,0,ht),nt,Dt),Tt!==0&&Tt!==ht&&t.event.preventDefault()});var xt=t.behavior.drag().on("dragstart",function(){var wt=t.event.sourceEvent;Et=wt.type==="touchstart"?wt.changedTouches[0].clientY:wt.clientY,ot=Tt}).on("drag",function(){var wt=t.event.sourceEvent;wt.buttons===2||wt.ctrlKey||(gt=wt.type==="touchmove"?wt.changedTouches[0].clientY:wt.clientY,It(Tt=function(At,Xt,kt){var Bt=(kt-Xt)/Dt+At;return s.constrain(Bt,0,ht)}(ot,Et,gt),nt,Dt))});S.call(xt);var Ot=t.behavior.drag().on("dragstart",function(){var wt=t.event.sourceEvent;wt.type==="touchstart"&&(Et=wt.changedTouches[0].clientY,ot=Tt)}).on("drag",function(){var wt=t.event.sourceEvent;wt.type==="touchmove"&&(gt=wt.changedTouches[0].clientY,It(Tt=function(At,Xt,kt){var Bt=(Xt-kt)/Dt+At;return s.constrain(Bt,0,ht)}(ot,Et,gt),nt,Dt))});X.call(Ot)}I._context.edits.legendPosition&&(C.classed("cursor-move",!0),l.init({element:C.node(),gd:I,prepFn:function(){var wt=i.getTranslate(C);et=wt.x,tt=wt.y},moveFn:function(wt,At){var Xt=et+wt,kt=tt+At;i.setTranslate(C,Xt,kt),G=l.align(Xt,0,lt.l,lt.l+lt.w,j.xanchor),Q=l.align(kt,0,lt.t+lt.h,lt.t,j.yanchor)},doneFn:function(){G!==void 0&&Q!==void 0&&e.call("_guiRelayout",I,{"legend.x":G,"legend.y":Q})},clickFn:function(wt,At){var Xt=Y.selectAll("g.traces").filter(function(){var kt=this.getBoundingClientRect();return At.clientX>=kt.left&&At.clientX<=kt.right&&At.clientY>=kt.top&&At.clientY<=kt.bottom});Xt.size()>0&&A(I,C,Xt,wt,At)}}))}function It(wt,At,Xt){j._scrollY=I._fullLayout.legend._scrollY=wt,i.setTranslate(X,0,-wt),i.setRect(S,j._width,d.scrollBarMargin+wt*Xt,d.scrollBarWidth,At),F.select("rect").attr("y",ct+wt)}}],I)}}(g,R)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(c,J,N){var t=c("../../registry"),s=c("./helpers");J.exports=function(o,e){var n,l,i=s.isGrouped(e),a=s.isReversed(e),r={},u=[],d=!1,p={},m=0,M=0;function w(B,$){if(B!==""&&s.isGrouped(e))u.indexOf(B)===-1?(u.push(B),d=!0,r[B]=[$]):r[B].push($);else{var rt="~~i"+m;u.push(rt),r[rt]=[$],m++}}for(n=0;n<o.length;n++){var b=o[n],v=b[0],h=v.trace,A=h.legendgroup;if(e._inHover||h.visible&&h.showlegend)if(t.traceIs(h,"pie-like"))for(p[A]||(p[A]={}),l=0;l<b.length;l++){var y=b[l].label;p[A][y]||(w(A,{label:y,color:b[l].color,i:b[l].i,trace:h,pts:b[l].pts}),p[A][y]=!0,M=Math.max(M,(y||"").length))}else w(A,v),M=Math.max(M,(h.name||"").length)}if(!u.length)return[];var T=!d||!i,k=[];for(n=0;n<u.length;n++){var x=r[u[n]];T?k.push(x[0]):k.push(x)}for(T&&(k=[k]),n=0;n<k.length;n++){var D=1/0;for(l=0;l<k[n].length;l++){var z=k[n][l].trace.legendrank;D>z&&(D=z)}k[n][0]._groupMinRank=D,k[n][0]._preGroupSort=n}var g=function(B,$){return B.trace.legendrank-$.trace.legendrank||B._preSort-$._preSort};for(k.forEach(function(B,$){B[0]._preGroupSort=$}),k.sort(function(B,$){return B[0]._groupMinRank-$[0]._groupMinRank||B[0]._preGroupSort-$[0]._preGroupSort}),n=0;n<k.length;n++){k[n].forEach(function(B,$){B._preSort=$}),k[n].sort(g);var R=k[n][0].trace,I=null;for(l=0;l<k[n].length;l++){var j=k[n][l].trace.legendgrouptitle;if(j&&j.text){I=j;break}}if(a&&k[n].reverse(),I){var Y=!1;for(l=0;l<k[n].length;l++)if(t.traceIs(k[n][l].trace,"pie-like")){Y=!0;break}k[n].unshift({i:-1,groupTitle:I,noClick:Y,trace:{showlegend:R.showlegend,legendgroup:R.legendgroup,visible:R.visible}})}for(l=0;l<k[n].length;l++)k[n][l]=[k[n][l]]}return e._lgroupsLength=k.length,e._maxNameLength=M,k}},{"../../registry":316,"./helpers":158}],157:[function(c,J,N){var t=c("../../lib"),s=c("../../registry"),o=!0;J.exports=function(e,n,l){var i=n._fullLayout;if(!n._dragged&&!n._editing){var a,r=i.legend.itemclick,u=i.legend.itemdoubleclick;if(l===1&&r==="toggle"&&u==="toggleothers"&&o&&n.data&&n._context.showTips&&t.notifier(t._(n,"Double-click on legend to isolate one trace"),"long"),o=!1,l===1?a=r:l===2&&(a=u),a){var d=i.hiddenlabels?i.hiddenlabels.slice():[],p=e.data()[0][0];if(!p.groupTitle||!p.noClick){var m,M,w,b,v,h=n._fullData,A=p.trace,y=A.legendgroup,T={},k=[],x=[],D=[];if(s.traceIs(A,"pie-like")){var z=p.label,g=d.indexOf(z);a==="toggle"?g===-1?d.push(z):d.splice(g,1):a==="toggleothers"&&(d=[],n.calcdata[0].forEach(function(E){z!==E.label&&d.push(E.label)}),n._fullLayout.hiddenlabels&&n._fullLayout.hiddenlabels.length===d.length&&g===-1&&(d=[])),s.call("_guiRelayout",n,"hiddenlabels",d)}else{var R,I=y&&y.length,j=[];if(I)for(m=0;m<h.length;m++)(R=h[m]).visible&&R.legendgroup===y&&j.push(m);if(a==="toggle"){var Y;switch(A.visible){case!0:Y="legendonly";break;case!1:Y=!1;break;case"legendonly":Y=!0}if(I)for(m=0;m<h.length;m++)h[m].visible!==!1&&h[m].legendgroup===y&&X(h[m],Y);else X(A,Y)}else if(a==="toggleothers"){var B,$,rt,q,H=!0;for(m=0;m<h.length;m++)if(B=h[m]===A,rt=h[m].showlegend!==!0,!(B||rt||($=I&&h[m].legendgroup===y)||h[m].visible!==!0||s.traceIs(h[m],"notLegendIsolatable"))){H=!1;break}for(m=0;m<h.length;m++)if(h[m].visible!==!1&&!s.traceIs(h[m],"notLegendIsolatable"))switch(A.visible){case"legendonly":X(h[m],!0);break;case!0:q=!!H||"legendonly",B=h[m]===A,rt=h[m].showlegend!==!0&&!h[m].legendgroup,$=B||I&&h[m].legendgroup===y,X(h[m],!(!$&&!rt)||q)}}for(m=0;m<x.length;m++)if(w=x[m]){var C=w.constructUpdate(),F=Object.keys(C);for(M=0;M<F.length;M++)b=F[M],(T[b]=T[b]||[])[D[m]]=C[b]}for(v=Object.keys(T),m=0;m<v.length;m++)for(b=v[m],M=0;M<k.length;M++)T[b].hasOwnProperty(M)||(T[b][M]=void 0);s.call("_guiRestyle",n,T,k)}}}}function L(E,Z,S){var U=k.indexOf(E),P=T[Z];return P||(P=T[Z]=[]),k.indexOf(E)===-1&&(k.push(E),U=k.length-1),P[U]=S,U}function X(E,Z){var S=E._fullInput;if(s.hasTransform(S,"groupby")){var U=x[S.index];if(!U){var P=s.getTransformIndices(S,"groupby"),G=P[P.length-1];U=t.keyedContainer(S,"transforms["+G+"].styles","target","value.visible"),x[S.index]=U}var Q=U.get(E._group);Q===void 0&&(Q=!0),Q!==!1&&U.set(E._group,Z),D[S.index]=L(S.index,"visible",S.visible!==!1)}else{var et=S.visible!==!1&&Z;L(S.index,"visible",et)}}}},{"../../lib":232,"../../registry":316}],158:[function(c,J,N){N.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},N.isVertical=function(t){return t.orientation!=="h"},N.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},{}],159:[function(c,J,N){J.exports={moduleType:"component",name:"legend",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),draw:c("./draw"),style:c("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../registry"),o=c("../../lib"),e=o.strTranslate,n=c("../drawing"),l=c("../color"),i=c("../colorscale/helpers").extractOpts,a=c("../../traces/scatter/subtypes"),r=c("../../traces/pie/style_one"),u=c("../../traces/pie/helpers").castOption,d=c("./constants");function p(w,b){return(b?"radial":"horizontal")+(w?"":"reversed")}function m(w){var b=w[0].trace,v=b.contours,h=a.hasLines(b),A=a.hasMarkers(b),y=b.visible&&b.fill&&b.fill!=="none",T=!1,k=!1;if(v){var x=v.coloring;x==="lines"?T=!0:h=x==="none"||x==="heatmap"||v.showlines,v.type==="constraint"?y=v._operation!=="=":x!=="fill"&&x!=="heatmap"||(k=!0)}return{showMarker:A,showLine:h,showFill:y,showGradientLine:T,showGradientFill:k,anyLine:h||T,anyFill:y||k}}function M(w,b,v){return w&&o.isArrayOrTypedArray(w)?b:w>v?v:w}J.exports=function(w,b,v){var h=b._fullLayout;v||(v=h.legend);var A=v.itemsizing==="constant",y=v.itemwidth,T=(y+2*d.itemGap)/2,k=e(T,0),x=function(g,R,I,j){var Y;if(g+1)Y=g;else{if(!(R&&R.width>0))return 0;Y=R.width}return A?j:Math.min(Y,I)};function D(g,R,I){var j=g[0].trace,Y=j.marker||{},B=Y.line||{},$=I?j.visible&&j.type===I:s.traceIs(j,"bar"),rt=t.select(R).select("g.legendpoints").selectAll("path.legend"+I).data($?[g]:[]);rt.enter().append("path").classed("legend"+I,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",k),rt.exit().remove(),rt.each(function(q){var H=t.select(this),C=q[0],F=x(C.mlw,Y.line,5,2);H.style("stroke-width",F+"px");var L=C.mcc;if(!v._inHover&&"mc"in C){var X=i(Y),E=X.mid;E===void 0&&(E=(X.max+X.min)/2),L=n.tryColorscale(Y,"")(E)}var Z=L||C.mc||Y.color,S=Y.pattern,U=S&&n.getPatternAttr(S.shape,0,"");if(U){var P=n.getPatternAttr(S.bgcolor,0,null),G=n.getPatternAttr(S.fgcolor,0,null),Q=S.fgopacity,et=M(S.size,8,10),tt=M(S.solidity,.5,1),lt="legend-"+j.uid;H.call(n.pattern,"legend",b,lt,U,et,tt,L,S.fillmode,P,G,Q)}else H.call(l.fill,Z);F&&l.stroke(H,C.mlc||B.color)})}function z(g,R,I){var j=g[0],Y=j.trace,B=I?Y.visible&&Y.type===I:s.traceIs(Y,I),$=t.select(R).select("g.legendpoints").selectAll("path.legend"+I).data(B?[g]:[]);if($.enter().append("path").classed("legend"+I,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",k),$.exit().remove(),$.size()){var rt=(Y.marker||{}).line,q=x(u(rt.width,j.pts),rt,5,2),H=o.minExtend(Y,{marker:{line:{width:q}}});H.marker.line.color=rt.color;var C=o.minExtend(j,{trace:H});r($,C,H)}}w.each(function(g){var R=t.select(this),I=o.ensureSingle(R,"g","layers");I.style("opacity",g[0].trace.opacity);var j=v.valign,Y=g[0].lineHeight,B=g[0].height;if(j!=="middle"&&Y&&B){var $={top:1,bottom:-1}[j]*(.5*(Y-B+3));I.attr("transform",e(0,$))}else I.attr("transform",null);I.selectAll("g.legendfill").data([g]).enter().append("g").classed("legendfill",!0),I.selectAll("g.legendlines").data([g]).enter().append("g").classed("legendlines",!0);var rt=I.selectAll("g.legendsymbols").data([g]);rt.enter().append("g").classed("legendsymbols",!0),rt.selectAll("g.legendpoints").data([g]).enter().append("g").classed("legendpoints",!0)}).each(function(g){var R,I=g[0].trace,j=[];if(I.visible)switch(I.type){case"histogram2d":case"heatmap":j=[["M-15,-2V4H15V-2Z"]],R=!0;break;case"choropleth":case"choroplethmapbox":j=[["M-6,-6V6H6V-6Z"]],R=!0;break;case"densitymapbox":j=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],R="radial";break;case"cone":j=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],R=!1;break;case"streamtube":j=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],R=!1;break;case"surface":j=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],R=!0;break;case"mesh3d":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],R=!1;break;case"volume":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],R=!0;break;case"isosurface":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],R=!1}var Y=t.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(j);Y.enter().append("path").classed("legend3dandfriends",!0).attr("transform",k).style("stroke-miterlimit",1),Y.exit().remove(),Y.each(function(B,$){var rt,q=t.select(this),H=i(I),C=H.colorscale,F=H.reversescale;if(C){if(!R){var L=C.length;rt=$===0?C[F?L-1:0][1]:$===1?C[F?0:L-1][1]:C[Math.floor((L-1)/2)][1]}}else{var X=I.vertexcolor||I.facecolor||I.color;rt=o.isArrayOrTypedArray(X)?X[$]||X[0]:X}q.attr("d",B[0]),rt?q.call(l.fill,rt):q.call(function(E){if(E.size()){var Z="legendfill-"+I.uid;n.gradient(E,b,Z,p(F,R==="radial"),C,"fill")}})})}).each(function(g){var R=g[0].trace,I=R.type==="waterfall";if(g[0]._distinct&&I){var j=g[0].trace[g[0].dir].marker;return g[0].mc=j.color,g[0].mlw=j.line.width,g[0].mlc=j.line.color,D(g,this,"waterfall")}var Y=[];R.visible&&I&&(Y=g[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var B=t.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Y);B.enter().append("path").classed("legendwaterfall",!0).attr("transform",k).style("stroke-miterlimit",1),B.exit().remove(),B.each(function($){var rt=t.select(this),q=R[$[0]].marker,H=x(void 0,q.line,5,2);rt.attr("d",$[1]).style("stroke-width",H+"px").call(l.fill,q.color),H&&rt.call(l.stroke,q.line.color)})}).each(function(g){D(g,this,"funnel")}).each(function(g){D(g,this)}).each(function(g){var R=g[0].trace,I=t.select(this).select("g.legendpoints").selectAll("path.legendbox").data(R.visible&&s.traceIs(R,"box-violin")?[g]:[]);I.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",k),I.exit().remove(),I.each(function(){var j=t.select(this);if(R.boxpoints!=="all"&&R.points!=="all"||l.opacity(R.fillcolor)!==0||l.opacity((R.line||{}).color)!==0){var Y=x(void 0,R.line,5,2);j.style("stroke-width",Y+"px").call(l.fill,R.fillcolor),Y&&l.stroke(j,R.line.color)}else{var B=o.minExtend(R,{marker:{size:A?12:o.constrain(R.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});I.call(n.pointStyle,B,b)}})}).each(function(g){z(g,this,"funnelarea")}).each(function(g){z(g,this,"pie")}).each(function(g){var R,I,j=m(g),Y=j.showFill,B=j.showLine,$=j.showGradientLine,rt=j.showGradientFill,q=j.anyFill,H=j.anyLine,C=g[0],F=C.trace,L=i(F),X=L.colorscale,E=L.reversescale,Z=a.hasMarkers(F)||!q?"M5,0":H?"M5,-2":"M5,-3",S=t.select(this),U=S.select(".legendfill").selectAll("path").data(Y||rt?[g]:[]);if(U.enter().append("path").classed("js-fill",!0),U.exit().remove(),U.attr("d",Z+"h"+y+"v6h-"+y+"z").call(Y?n.fillGroupStyle:function(Q){if(Q.size()){var et="legendfill-"+F.uid;n.gradient(Q,b,et,p(E),X,"fill")}}),B||$){var P=x(void 0,F.line,10,5);I=o.minExtend(F,{line:{width:P}}),R=[o.minExtend(C,{trace:I})]}var G=S.select(".legendlines").selectAll("path").data(B||$?[R]:[]);G.enter().append("path").classed("js-line",!0),G.exit().remove(),G.attr("d",Z+($?"l"+y+",0.0001":"h"+y)).call(B?n.lineGroupStyle:function(Q){if(Q.size()){var et="legendline-"+F.uid;n.lineGroupStyle(Q),n.gradient(Q,b,et,p(E),X,"stroke")}})}).each(function(g){var R,I,j=m(g),Y=j.anyFill,B=j.anyLine,$=j.showLine,rt=j.showMarker,q=g[0],H=q.trace,C=!rt&&!B&&!Y&&a.hasText(H);function F(G,Q,et,tt){var lt=o.nestedProperty(H,G).get(),ct=o.isArrayOrTypedArray(lt)&&Q?Q(lt):lt;if(A&&ct&&tt!==void 0&&(ct=tt),et){if(ct<et[0])return et[0];if(ct>et[1])return et[1]}return ct}function L(G){return q._distinct&&q.index&&G[q.index]?G[q.index]:G[0]}if(rt||C||$){var X={},E={};if(rt){X.mc=F("marker.color",L),X.mx=F("marker.symbol",L),X.mo=F("marker.opacity",o.mean,[.2,1]),X.mlc=F("marker.line.color",L),X.mlw=F("marker.line.width",o.mean,[0,5],2),E.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Z=F("marker.size",o.mean,[2,16],12);X.ms=Z,E.marker.size=Z}$&&(E.line={width:F("line.width",L,[0,10],5)}),C&&(X.tx="Aa",X.tp=F("textposition",L),X.ts=10,X.tc=F("textfont.color",L),X.tf=F("textfont.family",L)),R=[o.minExtend(q,X)],(I=o.minExtend(H,E)).selectedpoints=null,I.texttemplate=null}var S=t.select(this).select("g.legendpoints"),U=S.selectAll("path.scatterpts").data(rt?R:[]);U.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",k),U.exit().remove(),U.call(n.pointStyle,I,b),rt&&(R[0].mrc=3);var P=S.selectAll("g.pointtext").data(C?R:[]);P.enter().append("g").classed("pointtext",!0).append("text").attr("transform",k),P.exit().remove(),P.selectAll("text").call(n.textPointStyle,I,b)}).each(function(g){var R=g[0].trace,I=t.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(R.visible&&R.type==="candlestick"?[g,g]:[]);I.enter().append("path").classed("legendcandle",!0).attr("d",function(j,Y){return Y?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",k).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(j,Y){var B=t.select(this),$=R[Y?"increasing":"decreasing"],rt=x(void 0,$.line,5,2);B.style("stroke-width",rt+"px").call(l.fill,$.fillcolor),rt&&l.stroke(B,$.line.color)})}).each(function(g){var R=g[0].trace,I=t.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(R.visible&&R.type==="ohlc"?[g,g]:[]);I.enter().append("path").classed("legendohlc",!0).attr("d",function(j,Y){return Y?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",k).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(j,Y){var B=t.select(this),$=R[Y?"increasing":"decreasing"],rt=x(void 0,$.line,5,2);B.style("fill","none").call(n.dashLine,$.line.dash,rt),rt&&l.stroke(B,$.line.color)})})}},{"../../lib":232,"../../registry":316,"../../traces/pie/helpers":348,"../../traces/pie/style_one":354,"../../traces/scatter/subtypes":381,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(c,J,N){c("./constants"),J.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(c,J,N){var t=c("../../registry"),s=c("../../plots/plots"),o=c("../../plots/cartesian/axis_ids"),e=c("../../fonts/ploticon"),n=c("../shapes/draw").eraseActiveShape,l=c("../../lib"),i=l._,a=J.exports={};function r(h,A){var y,T,k=A.currentTarget,x=k.getAttribute("data-attr"),D=k.getAttribute("data-val")||!0,z=h._fullLayout,g={},R=o.list(h,null,!0),I=z._cartesianSpikesEnabled;if(x==="zoom"){var j,Y=D==="in"?.5:2,B=(1+Y)/2,$=(1-Y)/2;for(T=0;T<R.length;T++)if(!(y=R[T]).fixedrange)if(j=y._name,D==="auto")g[j+".autorange"]=!0;else if(D==="reset"){if(y._rangeInitial===void 0)g[j+".autorange"]=!0;else{var rt=y._rangeInitial.slice();g[j+".range[0]"]=rt[0],g[j+".range[1]"]=rt[1]}y._showSpikeInitial!==void 0&&(g[j+".showspikes"]=y._showSpikeInitial,I!=="on"||y._showSpikeInitial||(I="off"))}else{var q=[y.r2l(y.range[0]),y.r2l(y.range[1])],H=[B*q[0]+$*q[1],B*q[1]+$*q[0]];g[j+".range[0]"]=y.l2r(H[0]),g[j+".range[1]"]=y.l2r(H[1])}}else x!=="hovermode"||D!=="x"&&D!=="y"||(D=z._isHoriz?"y":"x",k.setAttribute("data-val",D)),g[x]=D;z._cartesianSpikesEnabled=I,t.call("_guiRelayout",h,g)}function u(h,A){for(var y=A.currentTarget,T=y.getAttribute("data-attr"),k=y.getAttribute("data-val")||!0,x=h._fullLayout._subplots.gl3d||[],D={},z=T.split("."),g=0;g<x.length;g++)D[x[g]+"."+z[1]]=k;var R=k==="pan"?k:"zoom";D.dragmode=R,t.call("_guiRelayout",h,D)}function d(h,A){for(var y=A.currentTarget.getAttribute("data-attr"),T=y==="resetLastSave",k=y==="resetDefault",x=h._fullLayout,D=x._subplots.gl3d||[],z={},g=0;g<D.length;g++){var R,I=D[g],j=I+".camera",Y=I+".aspectratio",B=I+".aspectmode",$=x[I]._scene;T?(z[j+".up"]=$.viewInitial.up,z[j+".eye"]=$.viewInitial.eye,z[j+".center"]=$.viewInitial.center,R=!0):k&&(z[j+".up"]=null,z[j+".eye"]=null,z[j+".center"]=null,R=!0),R&&(z[Y+".x"]=$.viewInitial.aspectratio.x,z[Y+".y"]=$.viewInitial.aspectratio.y,z[Y+".z"]=$.viewInitial.aspectratio.z,z[B]=$.viewInitial.aspectmode)}t.call("_guiRelayout",h,z)}function p(h,A){var y=A.currentTarget,T=y._previousVal,k=h._fullLayout,x=k._subplots.gl3d||[],D=["xaxis","yaxis","zaxis"],z={},g={};if(T)g=T,y._previousVal=null;else{for(var R=0;R<x.length;R++){var I=x[R],j=k[I],Y=I+".hovermode";z[Y]=j.hovermode,g[Y]=!1;for(var B=0;B<3;B++){var $=D[B],rt=I+"."+$+".showspikes";g[rt]=!1,z[rt]=j[$].showspikes}}y._previousVal=z}return g}function m(h,A){for(var y=A.currentTarget,T=y.getAttribute("data-attr"),k=y.getAttribute("data-val")||!0,x=h._fullLayout,D=x._subplots.geo||[],z=0;z<D.length;z++){var g=D[z],R=x[g];if(T==="zoom"){var I=R.projection.scale,j=k==="in"?2*I:.5*I;t.call("_guiRelayout",h,g+".projection.scale",j)}}T==="reset"&&v(h,"geo")}function M(h){var A=h._fullLayout;return!A.hovermode&&(A._has("cartesian")?A._isHoriz?"y":"x":"closest")}function w(h){var A=M(h);t.call("_guiRelayout",h,"hovermode",A)}function b(h,A){for(var y=A.currentTarget.getAttribute("data-val"),T=h._fullLayout,k=T._subplots.mapbox||[],x={},D=0;D<k.length;D++){var z=k[D],g=T[z].zoom,R=y==="in"?1.05*g:g/1.05;x[z+".zoom"]=R}t.call("_guiRelayout",h,x)}function v(h,A){for(var y=h._fullLayout,T=y._subplots[A]||[],k={},x=0;x<T.length;x++)for(var D=T[x],z=y[D]._subplot.viewInitial,g=Object.keys(z),R=0;R<g.length;R++){var I=g[R];k[D+"."+I]=z[I]}t.call("_guiRelayout",h,k)}a.toImage={name:"toImage",title:function(h){var A=(h._context.toImageButtonOptions||{}).format||"png";return i(h,A==="png"?"Download plot as a png":"Download plot")},icon:e.camera,click:function(h){var A=h._context.toImageButtonOptions,y={format:A.format||"png"};l.notifier(i(h,"Taking snapshot - this may take a few seconds"),"long"),y.format!=="svg"&&l.isIE()&&(l.notifier(i(h,"IE only supports svg.  Changing format to svg."),"long"),y.format="svg"),["filename","width","height","scale"].forEach(function(T){T in A&&(y[T]=A[T])}),t.call("downloadImage",h,y).then(function(T){l.notifier(i(h,"Snapshot succeeded")+" - "+T,"long")}).catch(function(){l.notifier(i(h,"Sorry, there was a problem downloading your snapshot!"),"long")})}},a.sendDataToCloud={name:"sendDataToCloud",title:function(h){return i(h,"Edit in Chart Studio")},icon:e.disk,click:function(h){s.sendDataToCloud(h)}},a.editInChartStudio={name:"editInChartStudio",title:function(h){return i(h,"Edit in Chart Studio")},icon:e.pencil,click:function(h){s.sendDataToCloud(h)}},a.zoom2d={name:"zoom2d",_cat:"zoom",title:function(h){return i(h,"Zoom")},attr:"dragmode",val:"zoom",icon:e.zoombox,click:r},a.pan2d={name:"pan2d",_cat:"pan",title:function(h){return i(h,"Pan")},attr:"dragmode",val:"pan",icon:e.pan,click:r},a.select2d={name:"select2d",_cat:"select",title:function(h){return i(h,"Box Select")},attr:"dragmode",val:"select",icon:e.selectbox,click:r},a.lasso2d={name:"lasso2d",_cat:"lasso",title:function(h){return i(h,"Lasso Select")},attr:"dragmode",val:"lasso",icon:e.lasso,click:r},a.drawclosedpath={name:"drawclosedpath",title:function(h){return i(h,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:e.drawclosedpath,click:r},a.drawopenpath={name:"drawopenpath",title:function(h){return i(h,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:e.drawopenpath,click:r},a.drawline={name:"drawline",title:function(h){return i(h,"Draw line")},attr:"dragmode",val:"drawline",icon:e.drawline,click:r},a.drawrect={name:"drawrect",title:function(h){return i(h,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:e.drawrect,click:r},a.drawcircle={name:"drawcircle",title:function(h){return i(h,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:e.drawcircle,click:r},a.eraseshape={name:"eraseshape",title:function(h){return i(h,"Erase active shape")},icon:e.eraseshape,click:n},a.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(h){return i(h,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:r},a.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(h){return i(h,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:r},a.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(h){return i(h,"Autoscale")},attr:"zoom",val:"auto",icon:e.autoscale,click:r},a.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(h){return i(h,"Reset axes")},attr:"zoom",val:"reset",icon:e.home,click:r},a.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(h){return i(h,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:e.tooltip_basic,gravity:"ne",click:r},a.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(h){return i(h,"Compare data on hover")},attr:"hovermode",val:function(h){return h._fullLayout._isHoriz?"y":"x"},icon:e.tooltip_compare,gravity:"ne",click:r},a.zoom3d={name:"zoom3d",_cat:"zoom",title:function(h){return i(h,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:e.zoombox,click:u},a.pan3d={name:"pan3d",_cat:"pan",title:function(h){return i(h,"Pan")},attr:"scene.dragmode",val:"pan",icon:e.pan,click:u},a.orbitRotation={name:"orbitRotation",title:function(h){return i(h,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:e["3d_rotate"],click:u},a.tableRotation={name:"tableRotation",title:function(h){return i(h,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:e["z-axis"],click:u},a.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(h){return i(h,"Reset camera to default")},attr:"resetDefault",icon:e.home,click:d},a.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(h){return i(h,"Reset camera to last save")},attr:"resetLastSave",icon:e.movie,click:d},a.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(h){return i(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:function(h,A){var y=p(h,A);t.call("_guiRelayout",h,y)}},a.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(h){return i(h,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:m},a.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(h){return i(h,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:m},a.resetGeo={name:"resetGeo",_cat:"reset",title:function(h){return i(h,"Reset")},attr:"reset",val:null,icon:e.autoscale,click:m},a.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(h){return i(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:w},a.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(h){return i(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:w},a.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(h){return i(h,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:e.tooltip_basic,gravity:"ne",click:w},a.resetViewSankey={name:"resetSankeyGroup",title:function(h){return i(h,"Reset view")},icon:e.home,click:function(h){for(var A={"node.groups":[],"node.x":[],"node.y":[]},y=0;y<h._fullData.length;y++){var T=h._fullData[y]._viewInitial;A["node.groups"].push(T.node.groups.slice()),A["node.x"].push(T.node.x.slice()),A["node.y"].push(T.node.y.slice())}t.call("restyle",h,A)}},a.toggleHover={name:"toggleHover",title:function(h){return i(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:e.tooltip_basic,gravity:"ne",click:function(h,A){var y=p(h,A);y.hovermode=M(h),t.call("_guiRelayout",h,y)}},a.resetViews={name:"resetViews",title:function(h){return i(h,"Reset views")},icon:e.home,click:function(h,A){var y=A.currentTarget;y.setAttribute("data-attr","zoom"),y.setAttribute("data-val","reset"),r(h,A),y.setAttribute("data-attr","resetLastSave"),d(h,A),v(h,"geo"),v(h,"mapbox")}},a.toggleSpikelines={name:"toggleSpikelines",title:function(h){return i(h,"Toggle Spike Lines")},icon:e.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(h){var A=h._fullLayout,y=A._cartesianSpikesEnabled;A._cartesianSpikesEnabled=y==="on"?"off":"on",t.call("_guiRelayout",h,function(T){for(var k=T._fullLayout._cartesianSpikesEnabled==="on",x=o.list(T,null,!0),D={},z=0;z<x.length;z++){var g=x[z];D[g._name+".showspikes"]=!!k||g._showSpikeInitial}return D}(h))}},a.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(h){return i(h,"Reset view")},attr:"reset",icon:e.home,click:function(h){v(h,"mapbox")}},a.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(h){return i(h,"Zoom in")},attr:"zoom",val:"in",icon:e.zoom_plus,click:b},a.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(h){return i(h,"Zoom out")},attr:"zoom",val:"out",icon:e.zoom_minus,click:b}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":314,"../../registry":316,"../shapes/draw":186}],163:[function(c,J,N){var t=c("./buttons"),s=Object.keys(t),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],e=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),n=[];s.forEach(function(l){(function(i){if(e.indexOf(i._cat||i.name)===-1){var a=i.name,r=(i._cat||i.name).toLowerCase();n.indexOf(a)===-1&&n.push(a),n.indexOf(r)===-1&&n.push(r)}})(t[l])}),n.sort(),J.exports={DRAW_MODES:o,backButtons:e,foreButtons:n}},{"./buttons":162}],164:[function(c,J,N){var t=c("../../lib"),s=c("../color"),o=c("../../plot_api/plot_template"),e=c("./attributes");J.exports=function(n,l){var i=n.modebar||{},a=o.newContainer(l,"modebar");function r(d,p){return t.coerce(i,a,e,d,p)}r("orientation"),r("bgcolor",s.addOpacity(l.paper_bgcolor,.5));var u=s.contrast(s.rgb(l.modebar.bgcolor));r("color",s.addOpacity(u,.3)),r("activecolor",s.addOpacity(u,.7)),r("uirevision",l.uirevision),r("add"),r("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(c,J,N){J.exports={moduleType:"component",name:"modebar",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),manage:c("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(c,J,N){var t=c("../../plots/cartesian/axis_ids"),s=c("../../traces/scatter/subtypes"),o=c("../../registry"),e=c("../fx/helpers").isUnifiedHover,n=c("./modebar"),l=c("./buttons"),i=c("./constants").DRAW_MODES;J.exports=function(a){var r=a._fullLayout,u=a._context,d=r._modeBar;if(u.displayModeBar||u.watermark){if(!Array.isArray(u.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(u.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p,m=u.modeBarButtons;p=Array.isArray(m)&&m.length?function(M){for(var w=0;w<M.length;w++)for(var b=M[w],v=0;v<b.length;v++){var h=b[v];if(typeof h=="string"){if(l[h]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));M[w][v]=l[h]}}return M}(m):!u.displayModeBar&&u.watermark?[]:function(M){var w=M._fullLayout,b=M._fullData,v=M._context;function h(et,tt){if(typeof tt=="string"){if(tt.toLowerCase()===et.toLowerCase())return!0}else{var lt=tt.name,ct=tt._cat||tt.name;if(lt===et||ct===et.toLowerCase())return!0}return!1}var A=w.modebar.add;typeof A=="string"&&(A=[A]);var y=w.modebar.remove;typeof y=="string"&&(y=[y]);var T=v.modeBarButtonsToAdd.concat(A.filter(function(et){for(var tt=0;tt<v.modeBarButtonsToRemove.length;tt++)if(h(et,v.modeBarButtonsToRemove[tt]))return!1;return!0})),k=v.modeBarButtonsToRemove.concat(y.filter(function(et){for(var tt=0;tt<v.modeBarButtonsToAdd.length;tt++)if(h(et,v.modeBarButtonsToAdd[tt]))return!1;return!0})),x=w._has("cartesian"),D=w._has("gl3d"),z=w._has("geo"),g=w._has("pie"),R=w._has("funnelarea"),I=w._has("gl2d"),j=w._has("ternary"),Y=w._has("mapbox"),B=w._has("polar"),$=w._has("sankey"),rt=function(et){for(var tt=t.list({_fullLayout:et},null,!0),lt=0;lt<tt.length;lt++)if(!tt[lt].fixedrange)return!1;return!0}(w),q=e(w.hovermode),H=[];function C(et){if(et.length){for(var tt=[],lt=0;lt<et.length;lt++){for(var ct=et[lt],mt=l[ct],Mt=mt.name.toLowerCase(),St=(mt._cat||mt.name).toLowerCase(),_t=!1,Yt=0;Yt<k.length;Yt++){var Et=k[Yt].toLowerCase();if(Et===Mt||Et===St){_t=!0;break}}_t||tt.push(l[ct])}H.push(tt)}}var F=["toImage"];v.showEditInChartStudio?F.push("editInChartStudio"):v.showSendToCloud&&F.push("sendDataToCloud"),C(F);var L=[],X=[],E=[],Z=[];(x||I||g||R||j)+z+D+Y+B>1?(X=["toggleHover"],E=["resetViews"]):z?(L=["zoomInGeo","zoomOutGeo"],X=["hoverClosestGeo"],E=["resetGeo"]):D?(X=["hoverClosest3d"],E=["resetCameraDefault3d","resetCameraLastSave3d"]):Y?(L=["zoomInMapbox","zoomOutMapbox"],X=["toggleHover"],E=["resetViewMapbox"]):I?X=["hoverClosestGl2d"]:g?X=["hoverClosestPie"]:$?(X=["hoverClosestCartesian","hoverCompareCartesian"],E=["resetViewSankey"]):X=["toggleHover"],x&&(X=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(et){for(var tt=0;tt<et.length;tt++)if(!o.traceIs(et[tt],"noHover"))return!1;return!0}(b)||q)&&(X=[]),!x&&!I||rt||(L=["zoomIn2d","zoomOut2d","autoScale2d"],E[0]!=="resetViews"&&(E=["resetScale2d"])),D?Z=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||I)&&!rt||j?Z=["zoom2d","pan2d"]:Y||z?Z=["pan2d"]:B&&(Z=["zoom2d"]),function(et){for(var tt=!1,lt=0;lt<et.length&&!tt;lt++){var ct=et[lt];ct._module&&ct._module.selectPoints&&(o.traceIs(ct,"scatter-like")?(s.hasMarkers(ct)||s.hasText(ct))&&(tt=!0):o.traceIs(ct,"box-violin")&&ct.boxpoints!=="all"&&ct.points!=="all"||(tt=!0))}return tt}(b)&&Z.push("select2d","lasso2d");var S=[],U=function(et){S.indexOf(et)===-1&&X.indexOf(et)!==-1&&S.push(et)};if(Array.isArray(T)){for(var P=[],G=0;G<T.length;G++){var Q=T[G];typeof Q=="string"?(Q=Q.toLowerCase(),i.indexOf(Q)!==-1?(w._has("mapbox")||w._has("cartesian"))&&Z.push(Q):Q==="togglespikelines"?U("toggleSpikelines"):Q==="togglehover"?U("toggleHover"):Q==="hovercompare"?U("hoverCompareCartesian"):Q==="hoverclosest"?(U("hoverClosestCartesian"),U("hoverClosestGeo"),U("hoverClosest3d"),U("hoverClosestGl2d"),U("hoverClosestPie")):Q==="v1hovermode"&&(U("toggleHover"),U("hoverClosestCartesian"),U("hoverCompareCartesian"),U("hoverClosestGeo"),U("hoverClosest3d"),U("hoverClosestGl2d"),U("hoverClosestPie"))):P.push(Q)}T=P}return C(Z),C(L.concat(E)),C(S),function(et,tt){if(tt.length)if(Array.isArray(tt[0]))for(var lt=0;lt<tt.length;lt++)et.push(tt[lt]);else et.push(tt);return et}(H,T)}(a),d?d.update(a,p):r._modeBar=n(a,p)}else d&&(d.destroy(),delete r._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":316,"../../traces/scatter/subtypes":381,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("../../lib"),e=c("../../fonts/ploticon"),n=new DOMParser;function l(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var i=l.prototype;i.update=function(a,r){this.graphInfo=a;var u=this.graphInfo._context,d=this.graphInfo._fullLayout,p="modebar-"+d._uid;this.element.setAttribute("id",p),this._uid=p,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),d.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var m=d.modebar,M=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(p),o.addRelatedStyleRule(p,M+"#"+p+" .modebar-group","background-color: "+m.bgcolor),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn .icon path","fill: "+m.color),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn:hover .icon path","fill: "+m.activecolor),o.addRelatedStyleRule(p,"#"+p+" .modebar-btn.active .icon path","fill: "+m.activecolor);var w=!this.hasButtons(r),b=this.hasLogo!==u.displaylogo,v=this.locale!==u.locale;if(this.locale=u.locale,(w||b||v)&&(this.removeAllButtons(),this.updateButtons(r),u.watermark||u.displaylogo)){var h=this.getLogo();u.watermark&&(h.className=h.className+" watermark"),d.modebar.orientation==="v"?this.element.insertBefore(h,this.element.childNodes[0]):this.element.appendChild(h),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(a){var r=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var d=r.createGroup();u.forEach(function(p){var m=p.name;if(!m)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(m)!==-1)throw new Error("button name '"+m+"' is taken");r.buttonsNames.push(m);var M=r.createButton(p);r.buttonElements.push(M),d.appendChild(M)}),r.element.appendChild(d)})},i.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},i.createButton=function(a){var r=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var d=a.title;d===void 0?d=a.name:typeof d=="function"&&(d=d(this.graphInfo)),(d||d===0)&&u.setAttribute("data-title",d),a.attr!==void 0&&u.setAttribute("data-attr",a.attr);var p=a.val;if(p!==void 0&&(typeof p=="function"&&(p=p(this.graphInfo)),u.setAttribute("data-val",p)),typeof a.click!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(M){a.click(r.graphInfo,M),r.updateActiveButton(M.currentTarget)}),u.setAttribute("data-toggle",a.toggle||!1),a.toggle&&t.select(u).classed("active",!0);var m=a.icon;return typeof m=="function"?u.appendChild(m()):u.appendChild(this.createIcon(m||e.question)),u.setAttribute("data-gravity",a.gravity||"n"),u},i.createIcon=function(a){var r,u=s(a.height)?Number(a.height):a.ascent-a.descent,d="http://www.w3.org/2000/svg";if(a.path){(r=document.createElementNS(d,"svg")).setAttribute("viewBox",[0,0,a.width,u].join(" ")),r.setAttribute("class","icon");var p=document.createElementNS(d,"path");p.setAttribute("d",a.path),a.transform?p.setAttribute("transform",a.transform):a.ascent!==void 0&&p.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),r.appendChild(p)}return a.svg&&(r=n.parseFromString(a.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},i.updateActiveButton=function(a){var r=this.graphInfo._fullLayout,u=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(d){var p=d.getAttribute("data-val")||!0,m=d.getAttribute("data-attr"),M=d.getAttribute("data-toggle")==="true",w=t.select(d);if(M)m===u&&w.classed("active",!w.classed("active"));else{var b=m===null?m:o.nestedProperty(r,m).get();w.classed("active",b===p)}})},i.hasButtons=function(a){var r=this.buttons;if(!r||a.length!==r.length)return!1;for(var u=0;u<a.length;++u){if(a[u].length!==r[u].length)return!1;for(var d=0;d<a[u].length;d++)if(a[u][d].name!==r[u][d].name)return!1}return!0},i.getLogo=function(){var a=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(e.newplotlylogo)),a.appendChild(r),a},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},J.exports=function(a,r){var u=a._fullLayout,d=new l({graphInfo:a,container:u._modebardiv.node(),buttons:r});return u._privateplot&&t.select(d.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),d}},{"../../fonts/ploticon":215,"../../lib":232,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(c,J,N){var t=c("../../plots/font_attributes"),s=c("../color/attributes"),o=(0,c("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});J.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:t({editType:"plot"}),bgcolor:{valType:"color",dflt:s.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:s.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":308,"../color/attributes":101}],169:[function(c,J,N){J.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(c,J,N){var t=c("../../lib"),s=c("../color"),o=c("../../plot_api/plot_template"),e=c("../../plots/array_container_defaults"),n=c("./attributes"),l=c("./constants");function i(a,r,u,d){var p=d.calendar;function m(w,b){return t.coerce(a,r,n.buttons,w,b)}if(m("visible")){var M=m("step");M!=="all"&&(!p||p==="gregorian"||M!=="month"&&M!=="year"?m("stepmode"):r.stepmode="backward",m("count")),m("label")}}J.exports=function(a,r,u,d,p){var m=a.rangeselector||{},M=o.newContainer(r,"rangeselector");function w(h,A){return t.coerce(m,M,n,h,A)}if(w("visible",e(m,M,{name:"buttons",handleItemDefaults:i,calendar:p}).length>0)){var b=function(h,A,y){for(var T=y.filter(function(z){return A[z].anchor===h._id}),k=0,x=0;x<T.length;x++){var D=A[T[x]].domain;D&&(k=Math.max(D[1],k))}return[h.domain[0],k+l.yPad]}(r,u,d);w("x",b[0]),w("y",b[1]),t.noneOrAll(a,r,["x","y"]),w("xanchor"),w("yanchor"),t.coerceFont(w,"font",u.font);var v=w("bgcolor");w("activecolor",s.contrast(v,l.lightAmount,l.darkAmount)),w("bordercolor"),w("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../registry"),o=c("../../plots/plots"),e=c("../color"),n=c("../drawing"),l=c("../../lib"),i=l.strTranslate,a=c("../../lib/svg_text_utils"),r=c("../../plots/cartesian/axis_ids"),u=c("../../constants/alignment"),d=u.LINE_SPACING,p=u.FROM_TL,m=u.FROM_BR,M=c("./constants"),w=c("./get_update_object");function b(A){return A._id}function v(A,y,T){var k=l.ensureSingle(A,"rect","selector-rect",function(x){x.attr("shape-rendering","crispEdges")});k.attr({rx:M.rx,ry:M.ry}),k.call(e.stroke,y.bordercolor).call(e.fill,function(x,D){return D._isActive||D._isHovered?x.activecolor:x.bgcolor}(y,T)).style("stroke-width",y.borderwidth+"px")}function h(A,y,T,k){l.ensureSingle(A,"text","selector-text",function(x){x.attr("text-anchor","middle")}).call(n.font,y.font).text(function(x,D){return x.label?D?l.templateString(x.label,D):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}(T,k._fullLayout._meta)).call(function(x){a.convertToTspans(x,k)})}J.exports=function(A){var y=A._fullLayout._infolayer.selectAll(".rangeselector").data(function(T){for(var k=r.list(T,"x",!0),x=[],D=0;D<k.length;D++){var z=k[D];z.rangeselector&&z.rangeselector.visible&&x.push(z)}return x}(A),b);y.enter().append("g").classed("rangeselector",!0),y.exit().remove(),y.style({cursor:"pointer","pointer-events":"all"}),y.each(function(T){var k=t.select(this),x=T,D=x.rangeselector,z=k.selectAll("g.button").data(l.filterVisible(D.buttons));z.enter().append("g").classed("button",!0),z.exit().remove(),z.each(function(g){var R=t.select(this),I=w(x,g);g._isActive=function(j,Y,B){if(Y.step==="all")return j.autorange===!0;var $=Object.keys(B);return j.range[0]===B[$[0]]&&j.range[1]===B[$[1]]}(x,g,I),R.call(v,D,g),R.call(h,D,g,A),R.on("click",function(){A._dragged||s.call("_guiRelayout",A,I)}),R.on("mouseover",function(){g._isHovered=!0,R.call(v,D,g)}),R.on("mouseout",function(){g._isHovered=!1,R.call(v,D,g)})}),function(g,R,I,j,Y){var B=0,$=0,rt=I.borderwidth;R.each(function(){var X=t.select(this).select(".selector-text"),E=I.font.size*d,Z=Math.max(E*a.lineCount(X),16)+3;$=Math.max($,Z)}),R.each(function(){var X=t.select(this),E=X.select(".selector-rect"),Z=X.select(".selector-text"),S=Z.node()&&n.bBox(Z.node()).width,U=I.font.size*d,P=a.lineCount(Z),G=Math.max(S+10,M.minButtonWidth);X.attr("transform",i(rt+B,rt)),E.attr({x:0,y:0,width:G,height:$}),a.positionText(Z,G/2,$/2-(P-1)*U/2+3),B+=G+5});var q=g._fullLayout._size,H=q.l+q.w*I.x,C=q.t+q.h*(1-I.y),F="left";l.isRightAnchor(I)&&(H-=B,F="right"),l.isCenterAnchor(I)&&(H-=B/2,F="center");var L="top";l.isBottomAnchor(I)&&(C-=$,L="bottom"),l.isMiddleAnchor(I)&&(C-=$/2,L="middle"),B=Math.ceil(B),$=Math.ceil($),H=Math.round(H),C=Math.round(C),o.autoMargin(g,j+"-range-selector",{x:I.x,y:I.y,l:B*p[F],r:B*m[F],b:$*m[L],t:$*p[L]}),Y.attr("transform",i(H,C))}(A,z,D,x._name,k)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":314,"../../registry":316,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(c,J,N){var t=c("d3-time"),s=c("../../lib").titleCase;J.exports=function(o,e){var n=o._name,l={};if(e.step==="all")l[n+".autorange"]=!0;else{var i=function(a,r){var u,d=a.range,p=new Date(a.r2l(d[1])),m=r.step,M=t["utc"+s(m)],w=r.count;switch(r.stepmode){case"backward":u=a.l2r(+M.offset(p,-w));break;case"todate":var b=M.offset(p,-w);u=a.l2r(+M.ceil(b))}var v=d[1];return[u,v]}(o,e);l[n+".range[0]"]=i[0],l[n+".range[1]"]=i[1]}return l}},{"../../lib":232,"d3-time":16}],173:[function(c,J,N){J.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:c("./attributes")}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),draw:c("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(c,J,N){var t=c("../color/attributes");J.exports={bgcolor:{valType:"color",dflt:t.background,editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(c,J,N){var t=c("../../plots/cartesian/axis_ids").list,s=c("../../plots/cartesian/autorange").getAutoRange,o=c("./constants");J.exports=function(e){for(var n=t(e,"x",!0),l=0;l<n.length;l++){var i=n[l],a=i[o.name];a&&a.visible&&a.autorange&&(a._input.autorange=!0,a._input.range=a.range=s(e,i))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(c,J,N){J.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(c,J,N){var t=c("../../lib"),s=c("../../plot_api/plot_template"),o=c("../../plots/cartesian/axis_ids"),e=c("./attributes"),n=c("./oppaxis_attributes");J.exports=function(l,i,a){var r=l[a],u=i[a];if(r.rangeslider||i._requestRangeslider[u._id]){t.isPlainObject(r.rangeslider)||(r.rangeslider={});var d,p,m=r.rangeslider,M=s.newContainer(u,"rangeslider");if(k("visible")){k("bgcolor",i.plot_bgcolor),k("bordercolor"),k("borderwidth"),k("thickness"),k("autorange",!u.isValidRange(m.range)),k("range");var w=i._subplots;if(w)for(var b=w.cartesian.filter(function(D){return D.substr(0,D.indexOf("y"))===o.name2id(a)}).map(function(D){return D.substr(D.indexOf("y"),D.length)}),v=t.simpleMap(b,o.id2name),h=0;h<v.length;h++){var A=v[h];d=m[A]||{},p=s.newContainer(M,A,"yaxis");var y,T=i[A];d.range&&T.isValidRange(d.range)&&(y="fixed"),x("rangemode",y)!=="match"&&x("range",T.range.slice())}M._input=m}}function k(D,z){return t.coerce(m,M,e,D,z)}function x(D,z){return t.coerce(d,p,n,D,z)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../registry"),o=c("../../plots/plots"),e=c("../../lib"),n=e.strTranslate,l=c("../drawing"),i=c("../color"),a=c("../titles"),r=c("../../plots/cartesian"),u=c("../../plots/cartesian/axis_ids"),d=c("../dragelement"),p=c("../../lib/setcursor"),m=c("./constants");function M(y,T,k,x){var D=e.ensureSingle(y,"rect",m.bgClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),z=x.borderwidth%2==0?x.borderwidth:x.borderwidth-1,g=-x._offsetShift,R=l.crispRound(T,x.borderwidth);D.attr({width:x._width+z,height:x._height+z,transform:n(g,g),fill:x.bgcolor,stroke:x.bordercolor,"stroke-width":R})}function w(y,T,k,x){var D=T._fullLayout;e.ensureSingleById(D._topdefs,"clipPath",x._clipId,function(z){z.append("rect").attr({x:0,y:0})}).select("rect").attr({width:x._width,height:x._height})}function b(y,T,k,x){var D,z=T.calcdata,g=y.selectAll("g."+m.rangePlotClassName).data(k._subplotsWith,e.identity);g.enter().append("g").attr("class",function(R){return m.rangePlotClassName+" "+R}).call(l.setClipUrl,x._clipId,T),g.order(),g.exit().remove(),g.each(function(R,I){var j=t.select(this),Y=I===0,B=u.getFromId(T,R,"y"),$=B._name,rt=x[$],q={data:[],layout:{xaxis:{type:k.type,domain:[0,1],range:x.range.slice(),calendar:k.calendar},width:x._width,height:x._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};k.rangebreaks&&(q.layout.xaxis.rangebreaks=k.rangebreaks),q.layout[$]={type:B.type,domain:[0,1],range:rt.rangemode!=="match"?rt.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(q.layout[$].rangebreaks=B.rangebreaks),o.supplyDefaults(q);var H=q._fullLayout.xaxis,C=q._fullLayout[$];H.clearCalc(),H.setScale(),C.clearCalc(),C.setScale();var F={id:R,plotgroup:j,xaxis:H,yaxis:C,isRangePlot:!0};Y?D=F:(F.mainplot="xy",F.mainplotinfo=D),r.rangePlot(T,F,function(L,X){for(var E=[],Z=0;Z<L.length;Z++){var S=L[Z],U=S[0].trace;U.xaxis+U.yaxis===X&&E.push(S)}return E}(z,R))})}function v(y,T,k,x,D){e.ensureSingle(y,"rect",m.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",x._height).call(i.fill,m.maskColor),e.ensureSingle(y,"rect",m.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",x._height).call(i.fill,m.maskColor),D.rangemode!=="match"&&(e.ensureSingle(y,"rect",m.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",x._width).call(i.fill,m.maskOppAxisColor),e.ensureSingle(y,"rect",m.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",x._width).style("border-top",m.maskOppBorder).call(i.fill,m.maskOppAxisColor))}function h(y,T,k,x){T._context.staticPlot||e.ensureSingle(y,"rect",m.slideBoxClassName,function(D){D.attr({y:0,cursor:m.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:x._height,fill:m.slideBoxFill})}function A(y,T,k,x){var D=e.ensureSingle(y,"g",m.grabberMinClassName),z=e.ensureSingle(y,"g",m.grabberMaxClassName),g={x:0,width:m.handleWidth,rx:m.handleRadius,fill:i.background,stroke:i.defaultLine,"stroke-width":m.handleStrokeWidth,"shape-rendering":"crispEdges"},R={y:Math.round(x._height/4),height:Math.round(x._height/2)};e.ensureSingle(D,"rect",m.handleMinClassName,function(j){j.attr(g)}).attr(R),e.ensureSingle(z,"rect",m.handleMaxClassName,function(j){j.attr(g)}).attr(R);var I={width:m.grabAreaWidth,x:0,y:0,fill:m.grabAreaFill,cursor:T._context.staticPlot?void 0:m.grabAreaCursor};e.ensureSingle(D,"rect",m.grabAreaMinClassName,function(j){j.attr(I)}).attr("height",x._height),e.ensureSingle(z,"rect",m.grabAreaMaxClassName,function(j){j.attr(I)}).attr("height",x._height)}J.exports=function(y){for(var T=y._fullLayout,k=T._rangeSliderData,x=0;x<k.length;x++){var D=k[x][m.name];D._clipId=D._id+"-"+T._uid}var z=T._infolayer.selectAll("g."+m.containerClassName).data(k,function(g){return g._name});z.exit().each(function(g){var R=g[m.name];T._topdefs.select("#"+R._clipId).remove()}).remove(),k.length!==0&&(z.enter().append("g").classed(m.containerClassName,!0).attr("pointer-events","all"),z.each(function(g){var R=t.select(this),I=g[m.name],j=T[u.id2name(g.anchor)],Y=I[u.id2name(g.anchor)];if(I.range){var B,$=e.simpleMap(I.range,g.r2l),rt=e.simpleMap(g.range,g.r2l);B=rt[0]<rt[1]?[Math.min($[0],rt[0]),Math.max($[1],rt[1])]:[Math.max($[0],rt[0]),Math.min($[1],rt[1])],I.range=I._input.range=e.simpleMap(B,g.l2r)}g.cleanRange("rangeslider.range");var q=T._size,H=g.domain;I._width=q.w*(H[1]-H[0]);var C=Math.round(q.l+q.w*H[0]),F=Math.round(q.t+q.h*(1-g._counterDomainMin)+(g.side==="bottom"?g._depth:0)+I._offsetShift+m.extraPad);R.attr("transform",n(C,F)),I._rl=e.simpleMap(I.range,g.r2l);var L=I._rl[0],X=I._rl[1],E=X-L;if(I.p2d=function(lt){return lt/I._width*E+L},I.d2p=function(lt){return(lt-L)/E*I._width},g.rangebreaks){var Z=g.locateBreaks(L,X);if(Z.length){var S,U,P=0;for(S=0;S<Z.length;S++)P+=(U=Z[S]).max-U.min;var G=I._width/(X-L-P),Q=[-G*L];for(S=0;S<Z.length;S++)U=Z[S],Q.push(Q[Q.length-1]-G*(U.max-U.min));for(I.d2p=function(lt){for(var ct=Q[0],mt=0;mt<Z.length;mt++){var Mt=Z[mt];if(lt>=Mt.max)ct=Q[mt+1];else if(lt<Mt.min)break}return ct+G*lt},S=0;S<Z.length;S++)(U=Z[S]).pmin=I.d2p(U.min),U.pmax=I.d2p(U.max);I.p2d=function(lt){for(var ct=Q[0],mt=0;mt<Z.length;mt++){var Mt=Z[mt];if(lt>=Mt.pmax)ct=Q[mt+1];else if(lt<Mt.pmin)break}return(lt-ct)/G}}}if(Y.rangemode!=="match"){var et=j.r2l(Y.range[0]),tt=j.r2l(Y.range[1])-et;I.d2pOppAxis=function(lt){return(lt-et)/tt*I._height}}R.call(M,y,g,I).call(w,y,g,I).call(b,y,g,I).call(v,y,g,I,Y).call(h,y,g,I).call(A,y,g,I),function(lt,ct,mt,Mt){if(ct._context.staticPlot)return;var St=lt.select("rect."+m.slideBoxClassName).node(),_t=lt.select("rect."+m.grabAreaMinClassName).node(),Yt=lt.select("rect."+m.grabAreaMaxClassName).node();function Et(){var gt=t.event,ot=gt.target,nt=gt.clientX||gt.touches[0].clientX,ut=nt-lt.node().getBoundingClientRect().left,ht=Mt.d2p(mt._rl[0]),Dt=Mt.d2p(mt._rl[1]),Tt=d.coverSlip();function xt(It){var wt,At,Xt,kt=+(It.clientX||It.touches[0].clientX)-nt;switch(ot){case St:Xt="ew-resize",wt=ht+kt,At=Dt+kt;break;case _t:Xt="col-resize",wt=ht+kt,At=Dt;break;case Yt:Xt="col-resize",wt=ht,At=Dt+kt;break;default:Xt="ew-resize",wt=ut,At=ut+kt}if(At<wt){var Bt=At;At=wt,wt=Bt}Mt._pixelMin=wt,Mt._pixelMax=At,p(t.select(Tt),Xt),function(Zt,Ht,ee,qt){function vt(re){return ee.l2r(e.constrain(re,qt._rl[0],qt._rl[1]))}var bt=vt(qt.p2d(qt._pixelMin)),Gt=vt(qt.p2d(qt._pixelMax));window.requestAnimationFrame(function(){s.call("_guiRelayout",Ht,ee._name+".range",[bt,Gt])})}(0,ct,mt,Mt)}function Ot(){Tt.removeEventListener("mousemove",xt),Tt.removeEventListener("mouseup",Ot),this.removeEventListener("touchmove",xt),this.removeEventListener("touchend",Ot),e.removeElement(Tt)}this.addEventListener("touchmove",xt),this.addEventListener("touchend",Ot),Tt.addEventListener("mousemove",xt),Tt.addEventListener("mouseup",Ot)}lt.on("mousedown",Et),lt.on("touchstart",Et)}(R,y,g,I),function(lt,ct,mt,Mt,St,_t){var Yt=m.handleWidth/2;function Et(Ot){return e.constrain(Ot,0,Mt._width)}function gt(Ot){return e.constrain(Ot,0,Mt._height)}function ot(Ot){return e.constrain(Ot,-Yt,Mt._width+Yt)}var nt=Et(Mt.d2p(mt._rl[0])),ut=Et(Mt.d2p(mt._rl[1]));if(lt.select("rect."+m.slideBoxClassName).attr("x",nt).attr("width",ut-nt),lt.select("rect."+m.maskMinClassName).attr("width",nt),lt.select("rect."+m.maskMaxClassName).attr("x",ut).attr("width",Mt._width-ut),_t.rangemode!=="match"){var ht=Mt._height-gt(Mt.d2pOppAxis(St._rl[1])),Dt=Mt._height-gt(Mt.d2pOppAxis(St._rl[0]));lt.select("rect."+m.maskMinOppAxisClassName).attr("x",nt).attr("height",ht).attr("width",ut-nt),lt.select("rect."+m.maskMaxOppAxisClassName).attr("x",nt).attr("y",Dt).attr("height",Mt._height-Dt).attr("width",ut-nt),lt.select("rect."+m.slideBoxClassName).attr("y",ht).attr("height",Dt-ht)}var Tt=Math.round(ot(nt-Yt))-.5,xt=Math.round(ot(ut-Yt))+.5;lt.select("g."+m.grabberMinClassName).attr("transform",n(Tt,.5)),lt.select("g."+m.grabberMaxClassName).attr("transform",n(xt,.5))}(R,0,g,I,j,Y),g.side==="bottom"&&a.draw(y,g._id+"title",{propContainer:g,propName:g._name+".title",placeholder:T._dfltTitle.x,attributes:{x:g._offset+g._length/2,y:F+I._height+I._offsetShift+10+1.5*g.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":314,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(c,J,N){var t=c("../../plots/cartesian/axis_ids"),s=c("../../lib/svg_text_utils"),o=c("./constants"),e=c("../../constants/alignment").LINE_SPACING,n=o.name;function l(i){var a=i&&i[n];return a&&a.visible}N.isVisible=l,N.makeData=function(i){var a=t.list({_fullLayout:i},"x",!0),r=i.margin,u=[];if(!i._has("gl2d"))for(var d=0;d<a.length;d++){var p=a[d];if(l(p)){u.push(p);var m=p[n];m._id=n+p._id,m._height=(i.height-r.b-r.t)*m.thickness,m._offsetShift=Math.floor(m.borderwidth/2)}}i._rangeSliderData=u},N.autoMarginOpts=function(i,a){var r=i._fullLayout,u=a[n],d=a._id.charAt(0),p=0,m=0;return a.side==="bottom"&&(p=a._depth,a.title.text!==r._dfltTitle[d]&&(m=1.5*a.title.font.size+10+u._offsetShift,m+=(a.title.text.match(s.BR_TAG_ALL)||[]).length*a.title.font.size*e)),{x:0,y:a._counterDomainMin,l:0,r:0,t:0,b:u._height+p+Math.max(r.margin.b,m),pad:o.extraPad+2*u._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(c,J,N){var t=c("../../lib"),s=c("./attributes"),o=c("./oppaxis_attributes"),e=c("./helpers");J.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:t.extendFlat({},s,{yaxis:o})}}},layoutAttributes:c("./attributes"),handleDefaults:c("./defaults"),calcAutorange:c("./calc_autorange"),draw:c("./draw"),isVisible:e.isVisible,makeData:e.makeData,autoMarginOpts:e.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(c,J,N){J.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(c,J,N){var t=c("../annotations/attributes"),s=c("../../traces/scatter/attributes").line,o=c("../drawing/attributes").dash,e=c("../../lib/extend").extendFlat,n=c("../../plot_api/plot_template").templatedArray;c("../../constants/axis_placeable_objects"),J.exports=n("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:e({},t.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:e({},t.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:e({},s.color,{editType:"arraydraw"}),width:e({},s.width,{editType:"calc+arraydraw"}),dash:e({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":356,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/cartesian/axes"),o=c("./constants"),e=c("./helpers");function n(r){return i(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function l(r){return i(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function i(r,u,d,p,m,M){var w=r/2,b=M;if(u==="pixel"){var v=m?e.extractPathCoords(m,M?o.paramIsY:o.paramIsX):[d,p],h=t.aggNums(Math.max,null,v),A=t.aggNums(Math.min,null,v),y=A<0?Math.abs(A)+w:w,T=h>0?h+w:w;return{ppad:w,ppadplus:b?y:T,ppadminus:b?T:y}}return{ppad:w}}function a(r,u,d,p,m){var M=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(u!==void 0)return[M(u),M(d)];if(p){var w,b,v,h,A=1/0,y=-1/0,T=p.match(o.segmentRE);for(r.type==="date"&&(M=e.decodeDate(M)),w=0;w<T.length;w++)(b=m[T[w].charAt(0)].drawn)!==void 0&&(!(v=T[w].substr(1).match(o.paramRE))||v.length<b||((h=M(v[b]))<A&&(A=h),h>y&&(y=h)));return y>=A?[A,y]:void 0}}J.exports=function(r){var u=r._fullLayout,d=t.filterVisible(u.shapes);if(d.length&&r._fullData.length)for(var p=0;p<d.length;p++){var m,M,w=d[p];w._extremes={};var b=s.getRefType(w.xref),v=s.getRefType(w.yref);if(w.xref!=="paper"&&b!=="domain"){var h=w.xsizemode==="pixel"?w.xanchor:w.x0,A=w.xsizemode==="pixel"?w.xanchor:w.x1;(M=a(m=s.getFromId(r,w.xref),h,A,w.path,o.paramIsX))&&(w._extremes[m._id]=s.findExtremes(m,M,n(w)))}if(w.yref!=="paper"&&v!=="domain"){var y=w.ysizemode==="pixel"?w.yanchor:w.y0,T=w.ysizemode==="pixel"?w.yanchor:w.y1;(M=a(m=s.getFromId(r,w.yref),y,T,w.path,o.paramIsY))&&(w._extremes[m._id]=s.findExtremes(m,M,l(w)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(c,J,N){J.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/cartesian/axes"),o=c("../../plots/array_container_defaults"),e=c("./attributes"),n=c("./helpers");function l(i,a,r){function u(Y,B){return t.coerce(i,a,e,Y,B)}if(u("visible")){var d=u("path"),p=u("type",d?"path":"rect");a.type!=="path"&&delete a.path,u("editable"),u("layer"),u("opacity"),u("fillcolor"),u("fillrule"),u("line.width")&&(u("line.color"),u("line.dash"));for(var m=u("xsizemode"),M=u("ysizemode"),w=["x","y"],b=0;b<2;b++){var v,h,A,y=w[b],T=y+"anchor",k=y==="x"?m:M,x={_fullLayout:r},D=s.coerceRef(i,a,x,y,void 0,"paper");if(s.getRefType(D)==="range"?((v=s.getFromId(x,D))._shapeIndices.push(a._index),A=n.rangeToShapePosition(v),h=n.shapePositionToRange(v)):h=A=t.identity,p!=="path"){var z=y+"0",g=y+"1",R=i[z],I=i[g];i[z]=h(i[z],!0),i[g]=h(i[g],!0),k==="pixel"?(u(z,0),u(g,10)):(s.coercePosition(a,x,u,D,z,.25),s.coercePosition(a,x,u,D,g,.75)),a[z]=A(a[z]),a[g]=A(a[g]),i[z]=R,i[g]=I}if(k==="pixel"){var j=i[T];i[T]=h(i[T],!0),s.coercePosition(a,x,u,D,T,.25),a[T]=A(a[T]),i[T]=j}}p==="path"?u("path"):t.noneOrAll(i,a,["x0","x1","y0","y1"])}}J.exports=function(i,a){o(i,a,{name:"shapes",handleItemDefaults:l})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(c,J,N){var t=c("../../registry"),s=c("../../lib"),o=c("../../plots/cartesian/axes"),e=c("./draw_newshape/helpers").readPaths,n=c("./draw_newshape/display_outlines"),l=c("../../plots/cartesian/handle_outline").clearOutlineControllers,i=c("../color"),a=c("../drawing"),r=c("../../plot_api/plot_template").arrayEditor,u=c("../dragelement"),d=c("../../lib/setcursor"),p=c("./constants"),m=c("./helpers");function M(k){var x=k._fullLayout;for(var D in x._shapeUpperLayer.selectAll("path").remove(),x._shapeLowerLayer.selectAll("path").remove(),x._plots){var z=x._plots[D].shapelayer;z&&z.selectAll("path").remove()}for(var g=0;g<x.shapes.length;g++)x.shapes[g].visible&&v(k,g)}function w(k){return!!k._fullLayout._drawing}function b(k){return!k._context.edits.shapePosition}function v(k,x){k._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+x+'"]').remove();var D=m.makeOptionsAndPlotinfo(k,x),z=D.options,g=D.plotinfo;z._input&&z.visible!==!1&&(z.layer!=="below"?R(k._fullLayout._shapeUpperLayer):z.xref==="paper"||z.yref==="paper"?R(k._fullLayout._shapeLowerLayer):g._hadPlotinfo?R((g.mainplotinfo||g).shapelayer):R(k._fullLayout._shapeLowerLayer));function R(I){var j=A(k,z),Y={"data-index":x,"fill-rule":z.fillrule,d:j},B=z.opacity,$=z.fillcolor,rt=z.line.width?z.line.color:"rgba(0,0,0,0)",q=z.line.width,H=z.line.dash;q||z.editable!==!0||(q=5,H="solid");var C=j[j.length-1]!=="Z",F=b(k)&&z.editable&&k._fullLayout._activeShapeIndex===x;F&&($=C?"rgba(0,0,0,0)":k._fullLayout.activeshape.fillcolor,B=k._fullLayout.activeshape.opacity);var L,X=I.append("path").attr(Y).style("opacity",B).call(i.stroke,rt).call(i.fill,$).call(a.dashLine,H,q);if(h(X,k,z),(F||k._context.edits.shapePosition)&&(L=r(k.layout,"shapes",z)),F){X.style({cursor:"move"});var E={element:X.node(),plotinfo:g,gd:k,editHelpers:L,isActiveShape:!0},Z=e(j,k);n(Z,X,E)}else k._context.edits.shapePosition?function(S,U,P,G,Q,et){var tt,lt,ct,mt,Mt,St,_t,Yt,Et,gt,ot,nt,ut,ht,Dt,Tt,xt=P.xsizemode==="pixel",Ot=P.ysizemode==="pixel",It=P.type==="line",wt=P.type==="path",At=et.modifyItem,Xt=o.getFromId(S,P.xref),kt=o.getRefType(P.xref),Bt=o.getFromId(S,P.yref),Zt=o.getRefType(P.yref),Ht=m.getDataToPixel(S,Xt,!1,kt),ee=m.getDataToPixel(S,Bt,!0,Zt),qt=m.getPixelToData(S,Xt,!1,kt),vt=m.getPixelToData(S,Bt,!0,Zt),bt=It?function(){var Ct=Math.max(P.line.width,10),Nt=Q.append("g").attr("data-index",G);Nt.append("path").attr("d",U.attr("d")).style({cursor:"move","stroke-width":Ct,"stroke-opacity":"0"});var Pt={"fill-opacity":"0"},jt=Math.max(Ct/2,10);return Nt.append("circle").attr({"data-line-point":"start-point",cx:xt?Ht(P.xanchor)+P.x0:Ht(P.x0),cy:Ot?ee(P.yanchor)-P.y0:ee(P.y0),r:jt}).style(Pt).classed("cursor-grab",!0),Nt.append("circle").attr({"data-line-point":"end-point",cx:xt?Ht(P.xanchor)+P.x1:Ht(P.x1),cy:Ot?ee(P.yanchor)-P.y1:ee(P.y1),r:jt}).style(Pt).classed("cursor-grab",!0),Nt}():U,Gt={element:bt.node(),gd:S,prepFn:function(Ct){w(S)||(xt&&(Mt=Ht(P.xanchor)),Ot&&(St=ee(P.yanchor)),P.type==="path"?Dt=P.path:(tt=xt?P.x0:Ht(P.x0),lt=Ot?P.y0:ee(P.y0),ct=xt?P.x1:Ht(P.x1),mt=Ot?P.y1:ee(P.y1)),tt<ct?(Et=tt,ut="x0",gt=ct,ht="x1"):(Et=ct,ut="x1",gt=tt,ht="x0"),!Ot&&lt<mt||Ot&&lt>mt?(_t=lt,ot="y0",Yt=mt,nt="y1"):(_t=mt,ot="y1",Yt=lt,nt="y0"),re(Ct),st(Q,P),function(Nt,Pt,jt){var $t=Pt.xref,ne=Pt.yref,se=o.getFromId(jt,$t),Wt=o.getFromId(jt,ne),ae="";$t==="paper"||se.autorange||(ae+=$t),ne==="paper"||Wt.autorange||(ae+=ne),a.setClipUrl(Nt,ae?"clip"+jt._fullLayout._uid+ae:null,jt)}(U,P,S),Gt.moveFn=Tt==="move"?xe:at,Gt.altKey=Ct.altKey)},doneFn:function(){w(S)||(d(U),Lt(Q),h(U,S,P),t.call("_guiRelayout",S,et.getUpdateObj()))},clickFn:function(){w(S)||Lt(Q)}};function re(Ct){if(w(S))Tt=null;else if(It)Tt=Ct.target.tagName==="path"?"move":Ct.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Nt=Gt.element.getBoundingClientRect(),Pt=Nt.right-Nt.left,jt=Nt.bottom-Nt.top,$t=Ct.clientX-Nt.left,ne=Ct.clientY-Nt.top,se=!wt&&Pt>10&&jt>10&&!Ct.shiftKey?u.getCursor($t/Pt,1-ne/jt):"move";d(U,se),Tt=se.split("-")[0]}}function xe(Ct,Nt){if(P.type==="path"){var Pt=function(ne){return ne},jt=Pt,$t=Pt;xt?At("xanchor",P.xanchor=qt(Mt+Ct)):(jt=function(ne){return qt(Ht(ne)+Ct)},Xt&&Xt.type==="date"&&(jt=m.encodeDate(jt))),Ot?At("yanchor",P.yanchor=vt(St+Nt)):($t=function(ne){return vt(ee(ne)+Nt)},Bt&&Bt.type==="date"&&($t=m.encodeDate($t))),At("path",P.path=y(Dt,jt,$t))}else xt?At("xanchor",P.xanchor=qt(Mt+Ct)):(At("x0",P.x0=qt(tt+Ct)),At("x1",P.x1=qt(ct+Ct))),Ot?At("yanchor",P.yanchor=vt(St+Nt)):(At("y0",P.y0=vt(lt+Nt)),At("y1",P.y1=vt(mt+Nt)));U.attr("d",A(S,P)),st(Q,P)}function at(Ct,Nt){if(wt){var Pt=function(de){return de},jt=Pt,$t=Pt;xt?At("xanchor",P.xanchor=qt(Mt+Ct)):(jt=function(de){return qt(Ht(de)+Ct)},Xt&&Xt.type==="date"&&(jt=m.encodeDate(jt))),Ot?At("yanchor",P.yanchor=vt(St+Nt)):($t=function(de){return vt(ee(de)+Nt)},Bt&&Bt.type==="date"&&($t=m.encodeDate($t))),At("path",P.path=y(Dt,jt,$t))}else if(It){if(Tt==="resize-over-start-point"){var ne=tt+Ct,se=Ot?lt-Nt:lt+Nt;At("x0",P.x0=xt?ne:qt(ne)),At("y0",P.y0=Ot?se:vt(se))}else if(Tt==="resize-over-end-point"){var Wt=ct+Ct,ae=Ot?mt-Nt:mt+Nt;At("x1",P.x1=xt?Wt:qt(Wt)),At("y1",P.y1=Ot?ae:vt(ae))}}else{var ce=function(de){return Tt.indexOf(de)!==-1},be=ce("n"),he=ce("s"),me=ce("w"),le=ce("e"),Te=be?_t+Nt:_t,Me=he?Yt+Nt:Yt,ge=me?Et+Ct:Et,oe=le?gt+Ct:gt;Ot&&(be&&(Te=_t-Nt),he&&(Me=Yt-Nt)),(!Ot&&Me-Te>10||Ot&&Te-Me>10)&&(At(ot,P[ot]=Ot?Te:vt(Te)),At(nt,P[nt]=Ot?Me:vt(Me))),oe-ge>10&&(At(ut,P[ut]=xt?ge:qt(ge)),At(ht,P[ht]=xt?oe:qt(oe)))}U.attr("d",A(S,P)),st(Q,P)}function st(Ct,Nt){(xt||Ot)&&function(){var Pt=Nt.type!=="path",jt=Ct.selectAll(".visual-cue").data([0]);jt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var $t=Ht(xt?Nt.xanchor:s.midRange(Pt?[Nt.x0,Nt.x1]:m.extractPathCoords(Nt.path,p.paramIsX))),ne=ee(Ot?Nt.yanchor:s.midRange(Pt?[Nt.y0,Nt.y1]:m.extractPathCoords(Nt.path,p.paramIsY)));if($t=m.roundPositionForSharpStrokeRendering($t,1),ne=m.roundPositionForSharpStrokeRendering(ne,1),xt&&Ot){var se="M"+($t-1-1)+","+(ne-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";jt.attr("d",se)}else if(xt){var Wt="M"+($t-1-1)+","+(ne-9-1)+"v18 h2 v-18 Z";jt.attr("d",Wt)}else{var ae="M"+($t-9-1)+","+(ne-1-1)+"h18 v2 h-18 Z";jt.attr("d",ae)}}()}function Lt(Ct){Ct.selectAll(".visual-cue").remove()}u.init(Gt),bt.node().onmousemove=re}(k,X,z,x,I,L):z.editable===!0&&X.style("pointer-events",C||i.opacity($)*B<=.5?"stroke":"all");X.node().addEventListener("click",function(){return function(S,U){if(b(S)){var P=+U.node().getAttribute("data-index");if(P>=0){if(P===S._fullLayout._activeShapeIndex)return void T(S);S._fullLayout._activeShapeIndex=P,S._fullLayout._deactivateShape=T,M(S)}}}(k,X)})}}function h(k,x,D){var z=(D.xref+D.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(k,z?"clip"+x._fullLayout._uid+z:null,x)}function A(k,x){var D,z,g,R,I,j,Y,B,$=x.type,rt=o.getRefType(x.xref),q=o.getRefType(x.yref),H=o.getFromId(k,x.xref),C=o.getFromId(k,x.yref),F=k._fullLayout._size;if(H?rt==="domain"?z=function(Q){return H._offset+H._length*Q}:(D=m.shapePositionToRange(H),z=function(Q){return H._offset+H.r2p(D(Q,!0))}):z=function(Q){return F.l+F.w*Q},C?q==="domain"?R=function(Q){return C._offset+C._length*(1-Q)}:(g=m.shapePositionToRange(C),R=function(Q){return C._offset+C.r2p(g(Q,!0))}):R=function(Q){return F.t+F.h*(1-Q)},$==="path")return H&&H.type==="date"&&(z=m.decodeDate(z)),C&&C.type==="date"&&(R=m.decodeDate(R)),function(Q,et,tt){var lt=Q.path,ct=Q.xsizemode,mt=Q.ysizemode,Mt=Q.xanchor,St=Q.yanchor;return lt.replace(p.segmentRE,function(_t){var Yt=0,Et=_t.charAt(0),gt=p.paramIsX[Et],ot=p.paramIsY[Et],nt=p.numParams[Et],ut=_t.substr(1).replace(p.paramRE,function(ht){return gt[Yt]?ht=ct==="pixel"?et(Mt)+Number(ht):et(ht):ot[Yt]&&(ht=mt==="pixel"?tt(St)-Number(ht):tt(ht)),++Yt>nt&&(ht="X"),ht});return Yt>nt&&(ut=ut.replace(/[\s,]*X.*/,""),s.log("Ignoring extra params in segment "+_t)),Et+ut})}(x,z,R);if(x.xsizemode==="pixel"){var L=z(x.xanchor);I=L+x.x0,j=L+x.x1}else I=z(x.x0),j=z(x.x1);if(x.ysizemode==="pixel"){var X=R(x.yanchor);Y=X-x.y0,B=X-x.y1}else Y=R(x.y0),B=R(x.y1);if($==="line")return"M"+I+","+Y+"L"+j+","+B;if($==="rect")return"M"+I+","+Y+"H"+j+"V"+B+"H"+I+"Z";var E=(I+j)/2,Z=(Y+B)/2,S=Math.abs(E-I),U=Math.abs(Z-Y),P="A"+S+","+U,G=E+S+","+Z;return"M"+G+P+" 0 1,1 "+(E+","+(Z-U))+P+" 0 0,1 "+G+"Z"}function y(k,x,D){return k.replace(p.segmentRE,function(z){var g=0,R=z.charAt(0),I=p.paramIsX[R],j=p.paramIsY[R],Y=p.numParams[R];return R+z.substr(1).replace(p.paramRE,function(B){return g>=Y||(I[g]?B=x(B):j[g]&&(B=D(B)),g++),B})})}function T(k){b(k)&&k._fullLayout._activeShapeIndex>=0&&(l(k),delete k._fullLayout._activeShapeIndex,M(k))}J.exports={draw:M,drawOne:v,eraseActiveShape:function(k){if(b(k)){l(k);var x=k._fullLayout._activeShapeIndex,D=(k.layout||{}).shapes||[];if(x<D.length){for(var z=[],g=0;g<D.length;g++)g!==x&&z.push(D[g]);delete k._fullLayout._activeShapeIndex,t.call("_guiRelayout",k,{shapes:z})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(c,J,N){var t=c("../../drawing/attributes").dash,s=c("../../../lib/extend").extendFlat;J.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:s({},t,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(c,J,N){J.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(c,J,N){var t=c("../../color");J.exports=function(s,o,e){if(e("newshape.drawdirection"),e("newshape.layer"),e("newshape.fillcolor"),e("newshape.fillrule"),e("newshape.opacity"),e("newshape.line.width")){var n=(s||{}).plot_bgcolor||"#FFF";e("newshape.line.color",t.contrast(n)),e("newshape.line.dash")}e("activeshape.fillcolor"),e("activeshape.opacity")}},{"../../color":102}],190:[function(c,J,N){var t=c("../../dragelement"),s=c("../../dragelement/helpers").drawMode,o=c("../../../registry"),e=c("./constants"),n=e.i000,l=e.i090,i=e.i180,a=e.i270,r=c("../../../plots/cartesian/handle_outline").clearOutlineControllers,u=c("./helpers"),d=u.pointsShapeRectangle,p=u.pointsShapeEllipse,m=u.writePaths,M=c("./newshapes");J.exports=function w(b,v,h,A){A||(A=0);var y=h.gd;function T(){w(b,v,h,A++),p(b[0])&&k({redrawing:!0})}function k(L){h.isActiveShape=!1;var X=M(v,h);Object.keys(X).length&&o.call((L||{}).redrawing?"relayout":"_guiRelayout",y,X)}var x,D,z,g,R,I=h.isActiveShape,j=y._fullLayout._zoomlayer,Y=h.dragmode;s(Y)?y._fullLayout._drawing=!0:y._fullLayout._activeShapeIndex>=0&&r(y),v.attr("d",m(b)),I&&!A&&(R=function(L,X){for(var E=0;E<X.length;E++){var Z=X[E];L[E]=[];for(var S=0;S<Z.length;S++){L[E][S]=[];for(var U=0;U<Z[S].length;U++)L[E][S][U]=Z[S][U]}}return L}([],b),function(L){x=[];for(var X=0;X<b.length;X++){var E=b[X],Z=!d(E)&&p(E);x[X]=[];for(var S=0;S<E.length;S++)if(E[S][0]!=="Z"&&(!Z||S===n||S===l||S===i||S===a)){var U=E[S][1],P=E[S][2],G=L.append("circle").classed("cursor-grab",!0).attr("data-i",X).attr("data-j",S).attr("cx",U).attr("cy",P).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});x[X][S]={element:G.node(),gd:y,prepFn:B,doneFn:rt,clickFn:q},t.init(x[X][S])}}}(j.append("g").attr("class","outline-controllers")),function(){D=[],b.length&&(D[0]={element:v[0][0],gd:y,prepFn:C,doneFn:F},t.init(D[0]))}());function B(L){z=+L.srcElement.getAttribute("data-i"),g=+L.srcElement.getAttribute("data-j"),x[z][g].moveFn=$}function $(L,X){if(b.length){var E=R[z][g][1],Z=R[z][g][2],S=b[z],U=S.length;if(d(S)){for(var P=0;P<U;P++)if(P!==g){var G=S[P];G[1]===S[g][1]&&(G[1]=E+L),G[2]===S[g][2]&&(G[2]=Z+X)}if(S[g][1]=E+L,S[g][2]=Z+X,!d(S))for(var Q=0;Q<U;Q++)for(var et=0;et<S[Q].length;et++)S[Q][et]=R[z][Q][et]}else S[g][1]=E+L,S[g][2]=Z+X;T()}}function rt(){k()}function q(L,X){if(L===2){z=+X.srcElement.getAttribute("data-i"),g=+X.srcElement.getAttribute("data-j");var E=b[z];d(E)||p(E)||function(){if(b.length&&b[z]&&b[z].length){for(var Z=[],S=0;S<b[z].length;S++)S!==g&&Z.push(b[z][S]);Z.length>1&&(Z.length!==2||Z[1][0]!=="Z")&&(g===0&&(Z[0][0]="M"),b[z]=Z,T(),k())}}()}}function H(L,X){(function(E,Z){if(b.length)for(var S=0;S<b.length;S++)for(var U=0;U<b[S].length;U++)for(var P=0;P+2<b[S][U].length;P+=2)b[S][U][P+1]=R[S][U][P+1]+E,b[S][U][P+2]=R[S][U][P+2]+Z})(L,X),T()}function C(L){(z=+L.srcElement.getAttribute("data-i"))||(z=0),D[z].moveFn=H}function F(){k()}}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":316,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(c,J,N){var t=c("parse-svg-path"),s=c("./constants"),o=s.CIRCLE_SIDES,e=s.SQRT2,n=c("../../../plots/cartesian/helpers"),l=n.p2r,i=n.r2p,a=[0,3,4,5,6,1,2],r=[0,3,4,1,2];function u(p,m){return Math.abs(p-m)<=1e-6}function d(p,m){var M=m[1]-p[1],w=m[2]-p[2];return Math.sqrt(M*M+w*w)}N.writePaths=function(p){var m=p.length;if(!m)return"M0,0Z";for(var M="",w=0;w<m;w++)for(var b=p[w].length,v=0;v<b;v++){var h=p[w][v][0];if(h==="Z")M+="Z";else for(var A=p[w][v].length,y=0;y<A;y++){var T=y;h==="Q"||h==="S"?T=r[y]:h==="C"&&(T=a[y]),M+=p[w][v][T],y>0&&y<A-1&&(M+=",")}}return M},N.readPaths=function(p,m,M,w){var b,v,h,A=t(p),y=[],T=-1,k=0,x=0,D=function(){v=k,h=x};D();for(var z=0;z<A.length;z++){var g,R,I,j,Y=[],B=A[z][0],$=B;switch(B){case"M":T++,y[T]=[],k=+A[z][1],x=+A[z][2],Y.push([$,k,x]),D();break;case"Q":case"S":g=+A[z][1],I=+A[z][2],k=+A[z][3],x=+A[z][4],Y.push([$,k,x,g,I]);break;case"C":g=+A[z][1],I=+A[z][2],R=+A[z][3],j=+A[z][4],k=+A[z][5],x=+A[z][6],Y.push([$,k,x,g,I,R,j]);break;case"T":case"L":k=+A[z][1],x=+A[z][2],Y.push([$,k,x]);break;case"H":$="L",k=+A[z][1],Y.push([$,k,x]);break;case"V":$="L",x=+A[z][1],Y.push([$,k,x]);break;case"A":$="L";var rt=+A[z][1],q=+A[z][2];+A[z][4]||(rt=-rt,q=-q);var H=k-rt,C=x;for(b=1;b<=o/2;b++){var F=2*Math.PI*b/o;Y.push([$,H+rt*Math.cos(F),C+q*Math.sin(F)])}break;case"Z":k===v&&x===h||(k=v,x=h,Y.push([$,k,x]))}for(var L=(M||{}).domain,X=m._fullLayout._size,E=M&&M.xsizemode==="pixel",Z=M&&M.ysizemode==="pixel",S=w===!1,U=0;U<Y.length;U++){for(b=0;b+2<7;b+=2){var P=Y[U][b+1],G=Y[U][b+2];P!==void 0&&G!==void 0&&(k=P,x=G,M&&(M.xaxis&&M.xaxis.p2r?(S&&(P-=M.xaxis._offset),P=E?i(M.xaxis,M.xanchor)+P:l(M.xaxis,P)):(S&&(P-=X.l),L?P=L.x[0]+P/X.w:P/=X.w),M.yaxis&&M.yaxis.p2r?(S&&(G-=M.yaxis._offset),G=Z?i(M.yaxis,M.yanchor)-G:l(M.yaxis,G)):(S&&(G-=X.t),G=L?L.y[1]-G/X.h:1-G/X.h)),Y[U][b+1]=P,Y[U][b+2]=G)}y[T].push(Y[U].slice())}}return y},N.pointsShapeRectangle=function(p){if(p.length!==5)return!1;for(var m=1;m<3;m++)if(!u(p[0][m]-p[1][m],p[3][m]-p[2][m])||!u(p[0][m]-p[3][m],p[1][m]-p[2][m]))return!1;return!(!u(p[0][1],p[1][1])&&!u(p[0][1],p[3][1]))&&!!(d(p[0],p[1])*d(p[0],p[3]))},N.pointsShapeEllipse=function(p){var m=p.length;if(m!==o+1)return!1;m=o;for(var M=0;M<m;M++){var w=(2*m-M)%m,b=(m/2+w)%m,v=(m/2+M)%m;if(!u(d(p[M],p[v]),d(p[w],p[b])))return!1}return!0},N.handleEllipse=function(p,m,M){if(!p)return[m,M];var w=N.ellipseOver({x0:m[0],y0:m[1],x1:M[0],y1:M[1]}),b=(w.x1+w.x0)/2,v=(w.y1+w.y0)/2,h=(w.x1-w.x0)/2,A=(w.y1-w.y0)/2;h||(h=A/=e),A||(A=h/=e);for(var y=[],T=0;T<o;T++){var k=2*T*Math.PI/o;y.push([b+h*Math.cos(k),v+A*Math.sin(k)])}return y},N.ellipseOver=function(p){var m=p.x0,M=p.y0,w=p.x1,b=p.y1,v=w-m,h=b-M,A=((m-=v)+w)/2,y=((M-=h)+b)/2;return{x0:A-(v*=e),y0:y-(h*=e),x1:A+v,y1:y+h}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(c,J,N){var t=c("../../dragelement/helpers"),s=t.drawMode,o=t.openMode,e=c("./constants"),n=e.i000,l=e.i090,i=e.i180,a=e.i270,r=e.cos45,u=e.sin45,d=c("../../../plots/cartesian/helpers"),p=d.p2r,m=d.r2p,M=c("../../../plots/cartesian/handle_outline").clearSelect,w=c("./helpers"),b=w.readPaths,v=w.writePaths,h=w.ellipseOver;J.exports=function(A,y){if(A.length){var T=A[0][0];if(T){var k=T.getAttribute("d"),x=y.gd,D=x._fullLayout.newshape,z=y.plotinfo,g=z.xaxis,R=z.yaxis,I=!!z.domain||!z.xaxis,j=!!z.domain||!z.yaxis,Y=y.isActiveShape,B=y.dragmode,$=(x.layout||{}).shapes||[];if(!s(B)&&Y!==void 0){var rt=x._fullLayout._activeShapeIndex;if(rt<$.length)switch(x._fullLayout.shapes[rt].type){case"rect":B="drawrect";break;case"circle":B="drawcircle";break;case"line":B="drawline";break;case"path":var q=$[rt].path||"";B=q[q.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var H,C=o(B),F=b(k,x,z,Y),L={editable:!0,xref:I?"paper":g._id,yref:j?"paper":R._id,layer:D.layer,opacity:D.opacity,line:{color:D.line.color,width:D.line.width,dash:D.line.dash}};if(C||(L.fillcolor=D.fillcolor,L.fillrule=D.fillrule),F.length===1&&(H=F[0]),H&&B==="drawrect")L.type="rect",L.x0=H[0][1],L.y0=H[0][2],L.x1=H[2][1],L.y1=H[2][2];else if(H&&B==="drawline")L.type="line",L.x0=H[0][1],L.y0=H[0][2],L.x1=H[1][1],L.y1=H[1][2];else if(H&&B==="drawcircle"){L.type="circle";var X=H[n][1],E=H[l][1],Z=H[i][1],S=H[a][1],U=H[n][2],P=H[l][2],G=H[i][2],Q=H[a][2],et=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),tt=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");et&&(X=m(z.xaxis,X),E=m(z.xaxis,E),Z=m(z.xaxis,Z),S=m(z.xaxis,S)),tt&&(U=m(z.yaxis,U),P=m(z.yaxis,P),G=m(z.yaxis,G),Q=m(z.yaxis,Q));var lt=(E+S)/2,ct=(U+G)/2,mt=h({x0:lt,y0:ct,x1:lt+(S-E+Z-X)/2*r,y1:ct+(Q-P+G-U)/2*u});et&&(mt.x0=p(z.xaxis,mt.x0),mt.x1=p(z.xaxis,mt.x1)),tt&&(mt.y0=p(z.yaxis,mt.y0),mt.y1=p(z.yaxis,mt.y1)),L.x0=mt.x0,L.y0=mt.y0,L.x1=mt.x1,L.y1=mt.y1}else L.type="path",g&&R&&function(ot,nt,ut){var ht=nt.type==="date",Dt=ut.type==="date";if(!ht&&!Dt)return ot;for(var Tt=0;Tt<ot.length;Tt++)for(var xt=0;xt<ot[Tt].length;xt++)for(var Ot=0;Ot+2<ot[Tt][xt].length;Ot+=2)ht&&(ot[Tt][xt][Ot+1]=ot[Tt][xt][Ot+1].replace(" ","_")),Dt&&(ot[Tt][xt][Ot+2]=ot[Tt][xt][Ot+2].replace(" ","_"))}(F,g,R),L.path=v(F),H=null;M(x);for(var Mt=y.editHelpers,St=(Mt||{}).modifyItem,_t=[],Yt=0;Yt<$.length;Yt++){var Et=x._fullLayout.shapes[Yt];if(_t[Yt]=Et._input,Y!==void 0&&Yt===x._fullLayout._activeShapeIndex){var gt=L;switch(Et.type){case"line":case"rect":case"circle":St("x0",gt.x0),St("x1",gt.x1),St("y0",gt.y0),St("y1",gt.y1);break;case"path":St("path",gt.path)}}}return Y===void 0?(_t.push(L),_t):Mt?Mt.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(c,J,N){var t=c("./constants"),s=c("../../lib");N.rangeToShapePosition=function(o){return o.type==="log"?o.r2d:function(e){return e}},N.shapePositionToRange=function(o){return o.type==="log"?o.d2r:function(e){return e}},N.decodeDate=function(o){return function(e){return e.replace&&(e=e.replace("_"," ")),o(e)}},N.encodeDate=function(o){return function(e){return o(e).replace(" ","_")}},N.extractPathCoords=function(o,e){var n=[];return o.match(t.segmentRE).forEach(function(l){var i=e[l.charAt(0)].drawn;if(i!==void 0){var a=l.substr(1).match(t.paramRE);!a||a.length<i||n.push(s.cleanNumber(a[i]))}}),n},N.getDataToPixel=function(o,e,n,l){var i,a=o._fullLayout._size;if(e)if(l==="domain")i=function(u){return e._length*(n?1-u:u)+e._offset};else{var r=N.shapePositionToRange(e);i=function(u){return e._offset+e.r2p(r(u,!0))},e.type==="date"&&(i=N.decodeDate(i))}else i=n?function(u){return a.t+a.h*(1-u)}:function(u){return a.l+a.w*u};return i},N.getPixelToData=function(o,e,n,l){var i,a=o._fullLayout._size;if(e)if(l==="domain")i=function(u){var d=(u-e._offset)/e._length;return n?1-d:d};else{var r=N.rangeToShapePosition(e);i=function(u){return r(e.p2r(u-e._offset))}}else i=n?function(u){return 1-(u-a.t)/a.h}:function(u){return(u-a.l)/a.w};return i},N.roundPositionForSharpStrokeRendering=function(o,e){var n=Math.round(e%2)===1,l=Math.round(o);return n?l+.5:l},N.makeOptionsAndPlotinfo=function(o,e){var n=o._fullLayout.shapes[e]||{},l=o._fullLayout._plots[n.xref+n.yref];return l?l._hadPlotinfo=!0:(l={},n.xref&&n.xref!=="paper"&&(l.xaxis=o._fullLayout[n.xref+"axis"]),n.yref&&n.yref!=="paper"&&(l.yaxis=o._fullLayout[n.yref+"axis"])),l.xsizemode=n.xsizemode,l.ysizemode=n.ysizemode,l.xanchor=n.xanchor,l.yanchor=n.yanchor,{options:n,plotinfo:l}}},{"../../lib":232,"./constants":184}],194:[function(c,J,N){var t=c("./draw");J.exports={moduleType:"component",name:"shapes",layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),supplyDrawNewShapeDefaults:c("./draw_newshape/defaults"),includeBasePlot:c("../../plots/cartesian/include_components")("shapes"),calcAutorange:c("./calc_autorange"),draw:t.draw,drawOne:t.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(c,J,N){var t=c("../../plots/font_attributes"),s=c("../../plots/pad_attributes"),o=c("../../lib/extend").extendDeepAll,e=c("../../plot_api/edit_types").overrideAll,n=c("../../plots/animation_attributes"),l=c("../../plot_api/plot_template").templatedArray,i=c("./constants"),a=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});J.exports=e(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:a,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(s({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:n.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:t({})},font:t({}),activebgcolor:{valType:"color",dflt:i.gripBgActiveColor},bgcolor:{valType:"color",dflt:i.railBgColor},bordercolor:{valType:"color",dflt:i.railBorderColor},borderwidth:{valType:"number",min:0,dflt:i.railBorderWidth},ticklen:{valType:"number",min:0,dflt:i.tickLength},tickcolor:{valType:"color",dflt:i.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:i.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":308,"../../plots/pad_attributes":313,"./constants":196}],196:[function(c,J,N){J.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/array_container_defaults"),o=c("./attributes"),e=c("./constants").name,n=o.steps;function l(a,r,u){function d(b,v){return t.coerce(a,r,o,b,v)}for(var p=s(a,r,{name:"steps",handleItemDefaults:i}),m=0,M=0;M<p.length;M++)p[M].visible&&m++;if(m<2?r.visible=!1:d("visible")){r._stepCount=m;var w=r._visibleSteps=t.filterVisible(p);(p[d("active")]||{}).visible||(r.active=w[0]._index),d("x"),d("y"),t.noneOrAll(a,r,["x","y"]),d("xanchor"),d("yanchor"),d("len"),d("lenmode"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),t.coerceFont(d,"font",u.font),d("currentvalue.visible")&&(d("currentvalue.xanchor"),d("currentvalue.prefix"),d("currentvalue.suffix"),d("currentvalue.offset"),t.coerceFont(d,"currentvalue.font",r.font)),d("transition.duration"),d("transition.easing"),d("bgcolor"),d("activebgcolor"),d("bordercolor"),d("borderwidth"),d("ticklen"),d("tickwidth"),d("tickcolor"),d("minorticklen")}}function i(a,r){function u(p,m){return t.coerce(a,r,n,p,m)}if(a.method==="skip"||Array.isArray(a.args)?u("visible"):r.visible=!1){u("method"),u("args");var d=u("label","step-"+r._index);u("value",d),u("execute")}}J.exports=function(a,r){s(a,r,{name:e,handleItemDefaults:l})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../plots/plots"),o=c("../color"),e=c("../drawing"),n=c("../../lib"),l=n.strTranslate,i=c("../../lib/svg_text_utils"),a=c("../../plot_api/plot_template").arrayEditor,r=c("./constants"),u=c("../../constants/alignment"),d=u.LINE_SPACING,p=u.FROM_TL,m=u.FROM_BR;function M(Y){return r.autoMarginIdRoot+Y._index}function w(Y){return Y._index}function b(Y,B){var $=e.tester.selectAll("g."+r.labelGroupClass).data(B._visibleSteps);$.enter().append("g").classed(r.labelGroupClass,!0);var rt=0,q=0;$.each(function(U){var P=A(t.select(this),{step:U},B).node();if(P){var G=e.bBox(P);q=Math.max(q,G.height),rt=Math.max(rt,G.width)}}),$.remove();var H=B._dims={};H.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var C=Y._fullLayout._size;H.lx=C.l+C.w*B.x,H.ly=C.t+C.h*(1-B.y),B.lenmode==="fraction"?H.outerLength=Math.round(C.w*B.len):H.outerLength=B.len,H.inputAreaStart=0,H.inputAreaLength=Math.round(H.outerLength-B.pad.l-B.pad.r);var F=(H.inputAreaLength-2*r.stepInset)/(B._stepCount-1),L=rt+r.labelPadding;if(H.labelStride=Math.max(1,Math.ceil(L/F)),H.labelHeight=q,H.currentValueMaxWidth=0,H.currentValueHeight=0,H.currentValueTotalHeight=0,H.currentValueMaxLines=1,B.currentvalue.visible){var X=e.tester.append("g");$.each(function(U){var P=v(X,B,U.label),G=P.node()&&e.bBox(P.node())||{width:0,height:0},Q=i.lineCount(P);H.currentValueMaxWidth=Math.max(H.currentValueMaxWidth,Math.ceil(G.width)),H.currentValueHeight=Math.max(H.currentValueHeight,Math.ceil(G.height)),H.currentValueMaxLines=Math.max(H.currentValueMaxLines,Q)}),H.currentValueTotalHeight=H.currentValueHeight+B.currentvalue.offset,X.remove()}H.height=H.currentValueTotalHeight+r.tickOffset+B.ticklen+r.labelOffset+H.labelHeight+B.pad.t+B.pad.b;var E="left";n.isRightAnchor(B)&&(H.lx-=H.outerLength,E="right"),n.isCenterAnchor(B)&&(H.lx-=H.outerLength/2,E="center");var Z="top";n.isBottomAnchor(B)&&(H.ly-=H.height,Z="bottom"),n.isMiddleAnchor(B)&&(H.ly-=H.height/2,Z="middle"),H.outerLength=Math.ceil(H.outerLength),H.height=Math.ceil(H.height),H.lx=Math.round(H.lx),H.ly=Math.round(H.ly);var S={y:B.y,b:H.height*m[Z],t:H.height*p[Z]};B.lenmode==="fraction"?(S.l=0,S.xl=B.x-B.len*p[E],S.r=0,S.xr=B.x+B.len*m[E]):(S.x=B.x,S.l=H.outerLength*p[E],S.r=H.outerLength*m[E]),s.autoMargin(Y,M(B),S)}function v(Y,B,$){if(B.currentvalue.visible){var rt,q,H=B._dims;switch(B.currentvalue.xanchor){case"right":rt=H.inputAreaLength-r.currentValueInset-H.currentValueMaxWidth,q="left";break;case"center":rt=.5*H.inputAreaLength,q="middle";break;default:rt=r.currentValueInset,q="left"}var C=n.ensureSingle(Y,"text",r.labelClass,function(S){S.attr({"text-anchor":q,"data-notex":1})}),F=B.currentvalue.prefix?B.currentvalue.prefix:"";if(typeof $=="string")F+=$;else{var L=B.steps[B.active].label,X=B._gd._fullLayout._meta;X&&(L=n.templateString(L,X)),F+=L}B.currentvalue.suffix&&(F+=B.currentvalue.suffix),C.call(e.font,B.currentvalue.font).text(F).call(i.convertToTspans,B._gd);var E=i.lineCount(C),Z=(H.currentValueMaxLines+1-E)*B.currentvalue.font.size*d;return i.positionText(C,rt,Z),C}}function h(Y,B,$){n.ensureSingle(Y,"rect",r.gripRectClass,function(rt){rt.call(x,B,Y,$).style("pointer-events","all")}).attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(o.stroke,$.bordercolor).call(o.fill,$.bgcolor).style("stroke-width",$.borderwidth+"px")}function A(Y,B,$){var rt=n.ensureSingle(Y,"text",r.labelClass,function(C){C.attr({"text-anchor":"middle","data-notex":1})}),q=B.step.label,H=$._gd._fullLayout._meta;return H&&(q=n.templateString(q,H)),rt.call(e.font,$.font).text(q).call(i.convertToTspans,$._gd),rt}function y(Y,B){var $=n.ensureSingle(Y,"g",r.labelsClass),rt=B._dims,q=$.selectAll("g."+r.labelGroupClass).data(rt.labelSteps);q.enter().append("g").classed(r.labelGroupClass,!0),q.exit().remove(),q.each(function(H){var C=t.select(this);C.call(A,H,B),e.setTranslate(C,g(B,H.fraction),r.tickOffset+B.ticklen+B.font.size*d+r.labelOffset+rt.currentValueTotalHeight)})}function T(Y,B,$,rt,q){var H=Math.round(rt*($._stepCount-1)),C=$._visibleSteps[H]._index;C!==$.active&&k(Y,B,$,C,!0,q)}function k(Y,B,$,rt,q,H){var C=$.active;$.active=rt,a(Y.layout,r.name,$).applyUpdate("active",rt);var F=$.steps[$.active];B.call(z,$,H),B.call(v,$),Y.emit("plotly_sliderchange",{slider:$,step:$.steps[$.active],interaction:q,previousActive:C}),F&&F.method&&q&&(B._nextMethod?(B._nextMethod.step=F,B._nextMethod.doCallback=q,B._nextMethod.doTransition=H):(B._nextMethod={step:F,doCallback:q,doTransition:H},B._nextMethodRaf=window.requestAnimationFrame(function(){var L=B._nextMethod.step;L.method&&(L.execute&&s.executeAPICommand(Y,L.method,L.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function x(Y,B,$){var rt=$.node(),q=t.select(B);function H(){return $.data()[0]}Y.on("mousedown",function(){var C=H();B.emit("plotly_sliderstart",{slider:C});var F=$.select("."+r.gripRectClass);t.event.stopPropagation(),t.event.preventDefault(),F.call(o.fill,C.activebgcolor);var L=R(C,t.mouse(rt)[0]);T(B,$,C,L,!0),C._dragging=!0,q.on("mousemove",function(){var X=H(),E=R(X,t.mouse(rt)[0]);T(B,$,X,E,!1)}),q.on("mouseup",function(){var X=H();X._dragging=!1,F.call(o.fill,X.bgcolor),q.on("mouseup",null),q.on("mousemove",null),B.emit("plotly_sliderend",{slider:X,step:X.steps[X.active]})})})}function D(Y,B){var $=Y.selectAll("rect."+r.tickRectClass).data(B._visibleSteps),rt=B._dims;$.enter().append("rect").classed(r.tickRectClass,!0),$.exit().remove(),$.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),$.each(function(q,H){var C=H%rt.labelStride==0,F=t.select(this);F.attr({height:C?B.ticklen:B.minorticklen}).call(o.fill,B.tickcolor),e.setTranslate(F,g(B,H/(B._stepCount-1))-.5*B.tickwidth,(C?r.tickOffset:r.minorTickOffset)+rt.currentValueTotalHeight)})}function z(Y,B,$){for(var rt=Y.select("rect."+r.gripRectClass),q=0,H=0;H<B._stepCount;H++)if(B._visibleSteps[H]._index===B.active){q=H;break}var C=g(B,q/(B._stepCount-1));if(!B._invokingCommand){var F=rt;$&&B.transition.duration>0&&(F=F.transition().duration(B.transition.duration).ease(B.transition.easing)),F.attr("transform",l(C-.5*r.gripWidth,B._dims.currentValueTotalHeight))}}function g(Y,B){var $=Y._dims;return $.inputAreaStart+r.stepInset+($.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,B))}function R(Y,B){var $=Y._dims;return Math.min(1,Math.max(0,(B-r.stepInset-$.inputAreaStart)/($.inputAreaLength-2*r.stepInset-2*$.inputAreaStart)))}function I(Y,B,$){var rt=$._dims,q=n.ensureSingle(Y,"rect",r.railTouchRectClass,function(H){H.call(x,B,Y,$).style("pointer-events","all")});q.attr({width:rt.inputAreaLength,height:Math.max(rt.inputAreaWidth,r.tickOffset+$.ticklen+rt.labelHeight)}).call(o.fill,$.bgcolor).attr("opacity",0),e.setTranslate(q,0,rt.currentValueTotalHeight)}function j(Y,B){var $=B._dims,rt=$.inputAreaLength-2*r.railInset,q=n.ensureSingle(Y,"rect",r.railRectClass);q.attr({width:rt,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,B.bordercolor).call(o.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),e.setTranslate(q,r.railInset,.5*($.inputAreaWidth-r.railWidth)+$.currentValueTotalHeight)}J.exports=function(Y){var B=Y._fullLayout,$=function(L,X){for(var E=L[r.name],Z=[],S=0;S<E.length;S++){var U=E[S];U.visible&&(U._gd=X,Z.push(U))}return Z}(B,Y),rt=B._infolayer.selectAll("g."+r.containerClassName).data($.length>0?[0]:[]);function q(L){L._commandObserver&&(L._commandObserver.remove(),delete L._commandObserver),s.autoMargin(Y,M(L))}if(rt.enter().append("g").classed(r.containerClassName,!0).style("cursor","ew-resize"),rt.exit().each(function(){t.select(this).selectAll("g."+r.groupClassName).each(q)}).remove(),$.length!==0){var H=rt.selectAll("g."+r.groupClassName).data($,w);H.enter().append("g").classed(r.groupClassName,!0),H.exit().each(q).remove();for(var C=0;C<$.length;C++){var F=$[C];b(Y,F)}H.each(function(L){var X=t.select(this);(function(E){var Z=E._dims;Z.labelSteps=[];for(var S=E._stepCount,U=0;U<S;U+=Z.labelStride)Z.labelSteps.push({fraction:U/(S-1),step:E._visibleSteps[U]})})(L),s.manageCommandObserver(Y,L,L._visibleSteps,function(E){var Z=X.data()[0];Z.active!==E.index&&(Z._dragging||k(Y,X,Z,E.index,!1,!0))}),function(E,Z,S){(S.steps[S.active]||{}).visible||(S.active=S._visibleSteps[0]._index),Z.call(v,S).call(j,S).call(y,S).call(D,S).call(I,E,S).call(h,E,S);var U=S._dims;e.setTranslate(Z,U.lx+S.pad.l,U.ly+S.pad.t),Z.call(z,S,!1),Z.call(v,S)}(Y,t.select(this),L)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":314,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(c,J,N){var t=c("./constants");J.exports={moduleType:"component",name:t.name,layoutAttributes:c("./attributes"),supplyLayoutDefaults:c("./defaults"),draw:c("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib"),l=n.strTranslate,i=c("../drawing"),a=c("../color"),r=c("../../lib/svg_text_utils"),u=c("../../constants/interactions"),d=c("../../constants/alignment").OPPOSITE_SIDE,p=/ [XY][0-9]* /;J.exports={draw:function(m,M,w){var b,v=w.propContainer,h=w.propName,A=w.placeholder,y=w.traceIndex,T=w.avoid||{},k=w.attributes,x=w.transform,D=w.containerGroup,z=m._fullLayout,g=1,R=!1,I=v.title,j=(I&&I.text?I.text:"").trim(),Y=I&&I.font?I.font:{},B=Y.family,$=Y.size,rt=Y.color;h==="title.text"?b="titleText":h.indexOf("axis")!==-1?b="axisTitleText":h.indexOf(!0)&&(b="colorbarTitleText");var q=m._context.edits[b];j===""?g=0:j.replace(p," % ")===A.replace(p," % ")&&(g=.2,R=!0,q||(j="")),w._meta?j=n.templateString(j,w._meta):z._meta&&(j=n.templateString(j,z._meta));var H=j||q;D||(D=n.ensureSingle(z._infolayer,"g","g-"+M));var C=D.selectAll("text").data(H?[0]:[]);if(C.enter().append("text"),C.text(j).attr("class",M),C.exit().remove(),!H)return D;function F(E){n.syncOrAsync([L,X],E)}function L(E){var Z;return x?(Z="",x.rotate&&(Z+="rotate("+[x.rotate,k.x,k.y]+")"),x.offset&&(Z+=l(0,x.offset))):Z=null,E.attr("transform",Z),E.style({"font-family":B,"font-size":t.round($,2)+"px",fill:a.rgb(rt),opacity:g*a.opacity(rt),"font-weight":o.fontWeight}).attr(k).call(r.convertToTspans,m),o.previousPromises(m)}function X(E){var Z=t.select(E.node().parentNode);if(T&&T.selection&&T.side&&j){Z.attr("transform",null);var S=d[T.side],U=T.side==="left"||T.side==="top"?-1:1,P=s(T.pad)?T.pad:2,G=i.bBox(Z.node()),Q={left:0,top:0,right:z.width,bottom:z.height},et=T.maxShift||U*(Q[T.side]-G[T.side]),tt=0;if(et<0)tt=et;else{var lt=T.offsetLeft||0,ct=T.offsetTop||0;G.left-=lt,G.right-=lt,G.top-=ct,G.bottom-=ct,T.selection.each(function(){var Mt=i.bBox(this);n.bBoxIntersect(G,Mt,P)&&(tt=Math.max(tt,U*(Mt[T.side]-G[S])+P))}),tt=Math.min(et,tt)}if(tt>0||et<0){var mt={left:[-tt,0],right:[tt,0],top:[0,-tt],bottom:[0,tt]}[T.side];Z.attr("transform",l(mt[0],mt[1]))}}}return C.call(F),q&&(j?C.on(".opacity",null):(g=0,R=!0,C.text(A).on("mouseover.opacity",function(){t.select(this).transition().duration(u.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){t.select(this).transition().duration(u.HIDE_PLACEHOLDER).style("opacity",0)})),C.call(r.makeEditable,{gd:m}).on("edit",function(E){y!==void 0?e.call("_guiRestyle",m,h,E,y):e.call("_guiRelayout",m,h,E)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(F)}).on("input",function(E){this.text(E||" ").call(r.positionText,k.x,k.y)})),C.classed("js-placeholder",R),D}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../../registry":316,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(c,J,N){var t=c("../../plots/font_attributes"),s=c("../color/attributes"),o=c("../../lib/extend").extendFlat,e=c("../../plot_api/edit_types").overrideAll,n=c("../../plots/pad_attributes"),l=c("../../plot_api/plot_template").templatedArray,i=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});J.exports=e(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:i,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(n({editType:"arraydraw"}),{}),font:t({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:s.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":308,"../../plots/pad_attributes":313,"../color/attributes":101}],202:[function(c,J,N){J.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},{}],203:[function(c,J,N){var t=c("../../lib"),s=c("../../plots/array_container_defaults"),o=c("./attributes"),e=c("./constants").name,n=o.buttons;function l(a,r,u){function d(p,m){return t.coerce(a,r,o,p,m)}d("visible",s(a,r,{name:"buttons",handleItemDefaults:i}).length>0)&&(d("active"),d("direction"),d("type"),d("showactive"),d("x"),d("y"),t.noneOrAll(a,r,["x","y"]),d("xanchor"),d("yanchor"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),t.coerceFont(d,"font",u.font),d("bgcolor",u.paper_bgcolor),d("bordercolor"),d("borderwidth"))}function i(a,r){function u(d,p){return t.coerce(a,r,n,d,p)}u("visible",a.method==="skip"||Array.isArray(a.args))&&(u("method"),u("args"),u("args2"),u("label"),u("execute"))}J.exports=function(a,r){s(a,r,{name:e,handleItemDefaults:l})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../plots/plots"),o=c("../color"),e=c("../drawing"),n=c("../../lib"),l=c("../../lib/svg_text_utils"),i=c("../../plot_api/plot_template").arrayEditor,a=c("../../constants/alignment").LINE_SPACING,r=c("./constants"),u=c("./scrollbox");function d(g){return g._index}function p(g,R){return+g.attr(r.menuIndexAttrName)===R._index}function m(g,R,I,j,Y,B,$,rt){R.active=$,i(g.layout,r.name,R).applyUpdate("active",$),R.type==="buttons"?w(g,j,null,null,R):R.type==="dropdown"&&(Y.attr(r.menuIndexAttrName,"-1"),M(g,j,Y,B,R),rt||w(g,j,Y,B,R))}function M(g,R,I,j,Y){var B=n.ensureSingle(R,"g",r.headerClassName,function(F){F.style("pointer-events","all")}),$=Y._dims,rt=Y.active,q=Y.buttons[rt]||r.blankHeaderOpts,H={y:Y.pad.t,yPad:0,x:Y.pad.l,xPad:0,index:0},C={width:$.headerWidth,height:$.headerHeight};B.call(b,Y,q,g).call(D,Y,H,C),n.ensureSingle(R,"text",r.headerArrowClassName,function(F){F.attr("text-anchor","end").call(e.font,Y.font).text(r.arrowSymbol[Y.direction])}).attr({x:$.headerWidth-r.arrowOffsetX+Y.pad.l,y:$.headerHeight/2+r.textOffsetY+Y.pad.t}),B.on("click",function(){I.call(z,String(p(I,Y)?-1:Y._index)),w(g,R,I,j,Y)}),B.on("mouseover",function(){B.call(y)}),B.on("mouseout",function(){B.call(T,Y)}),e.setTranslate(R,$.lx,$.ly)}function w(g,R,I,j,Y){I||(I=R).attr("pointer-events","all");var B=function(S){return+S.attr(r.menuIndexAttrName)==-1}(I)&&Y.type!=="buttons"?[]:Y.buttons,$=Y.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,rt=I.selectAll("g."+$).data(n.filterVisible(B)),q=rt.enter().append("g").classed($,!0),H=rt.exit();Y.type==="dropdown"?(q.attr("opacity","0").transition().attr("opacity","1"),H.transition().attr("opacity","0").remove()):H.remove();var C=0,F=0,L=Y._dims,X=["up","down"].indexOf(Y.direction)!==-1;Y.type==="dropdown"&&(X?F=L.headerHeight+r.gapButtonHeader:C=L.headerWidth+r.gapButtonHeader),Y.type==="dropdown"&&Y.direction==="up"&&(F=-r.gapButtonHeader+r.gapButton-L.openHeight),Y.type==="dropdown"&&Y.direction==="left"&&(C=-r.gapButtonHeader+r.gapButton-L.openWidth);var E={x:L.lx+C+Y.pad.l,y:L.ly+F+Y.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},Z={l:E.x+Y.borderwidth,t:E.y+Y.borderwidth};rt.each(function(S,U){var P=t.select(this);P.call(b,Y,S,g).call(D,Y,E),P.on("click",function(){t.event.defaultPrevented||(S.execute&&(S.args2&&Y.active===U?(m(g,Y,0,R,I,j,-1),s.executeAPICommand(g,S.method,S.args2)):(m(g,Y,0,R,I,j,U),s.executeAPICommand(g,S.method,S.args))),g.emit("plotly_buttonclicked",{menu:Y,button:S,active:Y.active}))}),P.on("mouseover",function(){P.call(y)}),P.on("mouseout",function(){P.call(T,Y),rt.call(A,Y)})}),rt.call(A,Y),X?(Z.w=Math.max(L.openWidth,L.headerWidth),Z.h=E.y-Z.t):(Z.w=E.x-Z.l,Z.h=Math.max(L.openHeight,L.headerHeight)),Z.direction=Y.direction,j&&(rt.size()?function(S,U,P,G,Q,et){var tt,lt,ct,mt=Q.direction,Mt=mt==="up"||mt==="down",St=Q._dims,_t=Q.active;if(Mt)for(lt=0,ct=0;ct<_t;ct++)lt+=St.heights[ct]+r.gapButton;else for(tt=0,ct=0;ct<_t;ct++)tt+=St.widths[ct]+r.gapButton;G.enable(et,tt,lt),G.hbar&&G.hbar.attr("opacity","0").transition().attr("opacity","1"),G.vbar&&G.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,j,Y,Z):function(S){var U=!!S.hbar,P=!!S.vbar;U&&S.hbar.transition().attr("opacity","0").each("end",function(){U=!1,P||S.disable()}),P&&S.vbar.transition().attr("opacity","0").each("end",function(){P=!1,U||S.disable()})}(j))}function b(g,R,I,j){g.call(v,R).call(h,R,I,j)}function v(g,R){n.ensureSingle(g,"rect",r.itemRectClassName,function(I){I.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,R.bordercolor).call(o.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px")}function h(g,R,I,j){var Y=n.ensureSingle(g,"text",r.itemTextClassName,function(rt){rt.attr({"text-anchor":"start","data-notex":1})}),B=I.label,$=j._fullLayout._meta;$&&(B=n.templateString(B,$)),Y.call(e.font,R.font).text(B).call(l.convertToTspans,j)}function A(g,R){var I=R.active;g.each(function(j,Y){var B=t.select(this);Y===I&&R.showactive&&B.select("rect."+r.itemRectClassName).call(o.fill,r.activeColor)})}function y(g){g.select("rect."+r.itemRectClassName).call(o.fill,r.hoverColor)}function T(g,R){g.select("rect."+r.itemRectClassName).call(o.fill,R.bgcolor)}function k(g,R){var I=R._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},j=e.tester.selectAll("g."+r.dropdownButtonClassName).data(n.filterVisible(R.buttons));j.enter().append("g").classed(r.dropdownButtonClassName,!0);var Y=["up","down"].indexOf(R.direction)!==-1;j.each(function(C,F){var L=t.select(this);L.call(b,R,C,g);var X=L.select("."+r.itemTextClassName),E=X.node()&&e.bBox(X.node()).width,Z=Math.max(E+r.textPadX,r.minWidth),S=R.font.size*a,U=l.lineCount(X),P=Math.max(S*U,r.minHeight)+r.textOffsetY;P=Math.ceil(P),Z=Math.ceil(Z),I.widths[F]=Z,I.heights[F]=P,I.height1=Math.max(I.height1,P),I.width1=Math.max(I.width1,Z),Y?(I.totalWidth=Math.max(I.totalWidth,Z),I.openWidth=I.totalWidth,I.totalHeight+=P+r.gapButton,I.openHeight+=P+r.gapButton):(I.totalWidth+=Z+r.gapButton,I.openWidth+=Z+r.gapButton,I.totalHeight=Math.max(I.totalHeight,P),I.openHeight=I.totalHeight)}),Y?I.totalHeight-=r.gapButton:I.totalWidth-=r.gapButton,I.headerWidth=I.width1+r.arrowPadX,I.headerHeight=I.height1,R.type==="dropdown"&&(Y?(I.width1+=r.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=r.arrowPadX),j.remove();var B=I.totalWidth+R.pad.l+R.pad.r,$=I.totalHeight+R.pad.t+R.pad.b,rt=g._fullLayout._size;I.lx=rt.l+rt.w*R.x,I.ly=rt.t+rt.h*(1-R.y);var q="left";n.isRightAnchor(R)&&(I.lx-=B,q="right"),n.isCenterAnchor(R)&&(I.lx-=B/2,q="center");var H="top";n.isBottomAnchor(R)&&(I.ly-=$,H="bottom"),n.isMiddleAnchor(R)&&(I.ly-=$/2,H="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),s.autoMargin(g,x(R),{x:R.x,y:R.y,l:B*({right:1,center:.5}[q]||0),r:B*({left:1,center:.5}[q]||0),b:$*({top:1,middle:.5}[H]||0),t:$*({bottom:1,middle:.5}[H]||0)})}function x(g){return r.autoMarginIdRoot+g._index}function D(g,R,I,j){j=j||{};var Y=g.select("."+r.itemRectClassName),B=g.select("."+r.itemTextClassName),$=R.borderwidth,rt=I.index,q=R._dims;e.setTranslate(g,$+I.x,$+I.y);var H=["up","down"].indexOf(R.direction)!==-1,C=j.height||(H?q.heights[rt]:q.height1);Y.attr({x:0,y:0,width:j.width||(H?q.width1:q.widths[rt]),height:C});var F=R.font.size*a,L=(l.lineCount(B)-1)*F/2;l.positionText(B,r.textOffsetX,C/2-L+r.textOffsetY),H?I.y+=q.heights[rt]+I.yPad:I.x+=q.widths[rt]+I.xPad,I.index++}function z(g,R){g.attr(r.menuIndexAttrName,R||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}J.exports=function(g){var R=g._fullLayout,I=n.filterVisible(R[r.name]);function j(F){s.autoMargin(g,x(F))}var Y=R._menulayer.selectAll("g."+r.containerClassName).data(I.length>0?[0]:[]);if(Y.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),Y.exit().each(function(){t.select(this).selectAll("g."+r.headerGroupClassName).each(j)}).remove(),I.length!==0){var B=Y.selectAll("g."+r.headerGroupClassName).data(I,d);B.enter().append("g").classed(r.headerGroupClassName,!0);for(var $=n.ensureSingle(Y,"g",r.dropdownButtonGroupClassName,function(F){F.style("pointer-events","all")}),rt=0;rt<I.length;rt++){var q=I[rt];k(g,q)}var H="updatemenus"+R._uid,C=new u(g,$,H);B.enter().size()&&($.node().parentNode.appendChild($.node()),$.call(z)),B.exit().each(function(F){$.call(z),j(F)}).remove(),B.each(function(F){var L=t.select(this),X=F.type==="dropdown"?$:null;s.manageCommandObserver(g,F,F.buttons,function(E){m(g,F,F.buttons[E.index],L,X,C,E.index,!0)}),F.type==="dropdown"?(M(g,L,$,C,F),p($,F)&&w(g,L,$,C,F)):w(g,L,null,null,F)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":314,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(c,J,N){arguments[4][199][0].apply(N,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(c,J,N){J.exports=n;var t=c("@plotly/d3"),s=c("../color"),o=c("../drawing"),e=c("../../lib");function n(l,i,a){this.gd=l,this.container=i,this.id=a,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}n.barWidth=2,n.barLength=20,n.barRadius=2,n.barPad=1,n.barColor="#808BA4",n.prototype.enable=function(l,i,a){var r=this.gd._fullLayout,u=r.width,d=r.height;this.position=l;var p,m,M,w,b=this.position.l,v=this.position.w,h=this.position.t,A=this.position.h,y=this.position.direction,T=y==="down",k=y==="left",x=y==="up",D=v,z=A;T||k||y==="right"||x||(this.position.direction="down",T=!0),T||x?(m=(p=b)+D,T?(M=h,z=(w=Math.min(M+z,d))-M):z=(w=h+z)-(M=Math.max(w-z,0))):(w=(M=h)+z,k?D=(m=b+D)-(p=Math.max(m-D,0)):(p=b,D=(m=Math.min(p+D,u))-p)),this._box={l:p,t:M,w:D,h:z};var g=v>D,R=n.barLength+2*n.barPad,I=n.barWidth+2*n.barPad,j=b,Y=h+A;Y+I>d&&(Y=d-I);var B=this.container.selectAll("rect.scrollbar-horizontal").data(g?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(s.fill,n.barColor),g?(this.hbar=B.attr({rx:n.barRadius,ry:n.barRadius,x:j,y:Y,width:R,height:I}),this._hbarXMin=j+R/2,this._hbarTranslateMax=D-R):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var $=A>z,rt=n.barWidth+2*n.barPad,q=n.barLength+2*n.barPad,H=b+v,C=h;H+rt>u&&(H=u-rt);var F=this.container.selectAll("rect.scrollbar-vertical").data($?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-vertical",!0).call(s.fill,n.barColor),$?(this.vbar=F.attr({rx:n.barRadius,ry:n.barRadius,x:H,y:C,width:rt,height:q}),this._vbarYMin=C+q/2,this._vbarTranslateMax=z-q):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var L=this.id,X=p-.5,E=$?m+rt+.5:m+.5,Z=M-.5,S=g?w+I+.5:w+.5,U=r._topdefs.selectAll("#"+L).data(g||$?[0]:[]);if(U.exit().remove(),U.enter().append("clipPath").attr("id",L).append("rect"),g||$?(this._clipRect=U.select("rect").attr({x:Math.floor(X),y:Math.floor(Z),width:Math.ceil(E)-Math.floor(X),height:Math.ceil(S)-Math.floor(Z)}),this.container.call(o.setClipUrl,L,this.gd),this.bg.attr({x:b,y:h,width:v,height:A})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),g||$){var P=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(P);var G=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault(),t.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));g&&this.hbar.on(".drag",null).call(G),$&&this.vbar.on(".drag",null).call(G)}this.setTranslate(i,a)},n.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},n.prototype._onBoxDrag=function(){var l=this.translateX,i=this.translateY;this.hbar&&(l-=t.event.dx),this.vbar&&(i-=t.event.dy),this.setTranslate(l,i)},n.prototype._onBoxWheel=function(){var l=this.translateX,i=this.translateY;this.hbar&&(l+=t.event.deltaY),this.vbar&&(i+=t.event.deltaY),this.setTranslate(l,i)},n.prototype._onBarDrag=function(){var l=this.translateX,i=this.translateY;if(this.hbar){var a=l+this._hbarXMin,r=a+this._hbarTranslateMax;l=(e.constrain(t.event.x,a,r)-a)/(r-a)*(this.position.w-this._box.w)}if(this.vbar){var u=i+this._vbarYMin,d=u+this._vbarTranslateMax;i=(e.constrain(t.event.y,u,d)-u)/(d-u)*(this.position.h-this._box.h)}this.setTranslate(l,i)},n.prototype.setTranslate=function(l,i){var a=this.position.w-this._box.w,r=this.position.h-this._box.h;if(l=e.constrain(l||0,0,a),i=e.constrain(i||0,0,r),this.translateX=l,this.translateY=i,this.container.call(o.setTranslate,this._box.l-this.position.l-l,this._box.t-this.position.t-i),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+l-.5),y:Math.floor(this.position.t+i-.5)}),this.hbar){var u=l/a;this.hbar.call(o.setTranslate,l+u*this._hbarTranslateMax,i)}if(this.vbar){var d=i/r;this.vbar.call(o.setTranslate,l,i+d*this._vbarTranslateMax)}}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(c,J,N){J.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(c,J,N){J.exports={axisRefDescription:function(t,s,o){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",s,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",s,"("+o+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",s,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",s,"and the",o,"of the domain of the","second",t,"axis."].join(" ")}}},{}],209:[function(c,J,N){J.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(c,J,N){J.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(c,J,N){J.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(c,J,N){J.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},{}],213:[function(c,J,N){N.xmlns="http://www.w3.org/2000/xmlns/",N.svg="http://www.w3.org/2000/svg",N.xlink="http://www.w3.org/1999/xlink",N.svgAttrs={xmlns:N.svg,"xmlns:xlink":N.xlink}},{}],214:[function(c,J,N){N.version=c("./version").version,c("native-promise-only"),c("../build/plotcss");for(var t=c("./registry"),s=N.register=t.register,o=c("./plot_api"),e=Object.keys(o),n=0;n<e.length;n++){var l=e[n];l.charAt(0)!=="_"&&(N[l]=o[l]),s({moduleType:"apiMethod",name:l,fn:o[l]})}s(c("./traces/scatter")),s([c("./components/legend"),c("./components/fx"),c("./components/annotations"),c("./components/annotations3d"),c("./components/shapes"),c("./components/images"),c("./components/updatemenus"),c("./components/sliders"),c("./components/rangeslider"),c("./components/rangeselector"),c("./components/grid"),c("./components/errorbars"),c("./components/colorscale"),c("./components/colorbar"),c("./components/modebar")]),s([c("./locale-en"),c("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(s(window.PlotlyLocales),delete window.PlotlyLocales),N.Icons=c("./fonts/ploticon");var i=c("./components/fx"),a=c("./plots/plots");N.Plots={resize:a.resize,graphJson:a.graphJson,sendDataToCloud:a.sendDataToCloud},N.Fx={hover:i.hover,unhover:i.unhover,loneHover:i.loneHover,loneUnhover:i.loneUnhover},N.Snapshot=c("./snapshot"),N.PlotSchema=c("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":314,"./registry":316,"./snapshot":321,"./traces/scatter":368,"./version":389,"native-promise-only":54}],215:[function(c,J,N){J.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(c,J,N){N.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=1/3},N.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>1/3&&t.x<2/3},N.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=2/3},N.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=2/3},N.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>1/3&&t.y<2/3},N.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=1/3}},{}],217:[function(c,J,N){var t=c("./mod"),s=t.mod,o=t.modHalf,e=Math.PI,n=2*e;function l(u){return Math.abs(u[1]-u[0])>n-1e-14}function i(u,d){return o(d-u,n)}function a(u,d){if(l(d))return!0;var p,m;d[0]<d[1]?(p=d[0],m=d[1]):(p=d[1],m=d[0]),(p=s(p,n))>(m=s(m,n))&&(m+=n);var M=s(u,n),w=M+n;return M>=p&&M<=m||w>=p&&w<=m}function r(u,d,p,m,M,w,b){M=M||0,w=w||0;var v,h,A,y,T,k=l([p,m]);function x(R,I){return[R*Math.cos(I)+M,w-R*Math.sin(I)]}k?(v=0,h=e,A=n):p<m?(v=p,A=m):(v=m,A=p),u<d?(y=u,T=d):(y=d,T=u);var D,z=Math.abs(A-v)<=e?0:1;function g(R,I,j){return"A"+[R,R]+" "+[0,z,j]+" "+x(R,I)}return k?D=y===null?"M"+x(T,v)+g(T,h,0)+g(T,A,0)+"Z":"M"+x(y,v)+g(y,h,0)+g(y,A,0)+"ZM"+x(T,v)+g(T,h,1)+g(T,A,1)+"Z":y===null?(D="M"+x(T,v)+g(T,A,0),b&&(D+="L0,0Z")):D="M"+x(y,v)+"L"+x(T,v)+g(T,A,0)+"L"+x(y,A)+g(y,v,1)+"Z",D}J.exports={deg2rad:function(u){return u/180*e},rad2deg:function(u){return u/e*180},angleDelta:i,angleDist:function(u,d){return Math.abs(i(u,d))},isFullCircle:l,isAngleInsideSector:a,isPtInsideSector:function(u,d,p,m){return!!a(d,m)&&(p[0]<p[1]?(M=p[0],w=p[1]):(M=p[1],w=p[0]),u>=M&&u<=w);var M,w},pathArc:function(u,d,p,m,M){return r(null,u,d,p,m,M,0)},pathSector:function(u,d,p,m,M){return r(null,u,d,p,m,M,1)},pathAnnulus:function(u,d,p,m,M,w){return r(u,d,p,m,M,w,1)}}},{"./mod":239}],218:[function(c,J,N){var t=Array.isArray,s=ArrayBuffer,o=DataView;function e(i){return s.isView(i)&&!(i instanceof o)}function n(i){return t(i)||e(i)}function l(i,a,r){if(n(i)){if(n(i[0])){for(var u=r,d=0;d<i.length;d++)u=a(u,i[d].length);return u}return i.length}return 0}N.isTypedArray=e,N.isArrayOrTypedArray=n,N.isArray1D=function(i){return!n(i[0])},N.ensureArray=function(i,a){return t(i)||(i=[]),i.length=a,i},N.concat=function(){var i,a,r,u,d,p,m,M,w=[],b=!0,v=0;for(r=0;r<arguments.length;r++)(p=(u=arguments[r]).length)&&(a?w.push(u):(a=u,d=p),t(u)?i=!1:(b=!1,v?i!==u.constructor&&(i=!1):i=u.constructor),v+=p);if(!v)return[];if(!w.length)return a;if(b)return a.concat.apply(a,w);if(i){for((m=new i(v)).set(a),r=0;r<w.length;r++)u=w[r],m.set(u,d),d+=u.length;return m}for(m=new Array(v),M=0;M<a.length;M++)m[M]=a[M];for(r=0;r<w.length;r++){for(u=w[r],M=0;M<u.length;M++)m[d+M]=u[M];d+=M}return m},N.maxRowLength=function(i){return l(i,Math.max,0)},N.minRowLength=function(i){return l(i,Math.min,1/0)}},{}],219:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;J.exports=function(e){return typeof e=="string"&&(e=e.replace(o,"")),t(e)?Number(e):s}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(c,J,N){J.exports=function(t){var s=t._fullLayout;s._glcanvas&&s._glcanvas.size()&&s._glcanvas.each(function(o){o.regl&&o.regl.clear({color:!0,depth:!0})})}},{}],221:[function(c,J,N){J.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},{}],222:[function(c,J,N){var t=c("fast-isnumeric"),s=c("tinycolor2"),o=c("../plots/attributes"),e=c("../components/colorscale/scales"),n=c("../components/color"),l=c("../constants/interactions").DESELECTDIM,i=c("./nested_property"),a=c("./regex").counter,r=c("./mod").modHalf,u=c("./array").isArrayOrTypedArray;function d(p,m){var M=N.valObjectMeta[m.valType];if(m.arrayOk&&u(p))return!0;if(M.validateFunction)return M.validateFunction(p,m);var w={},b=w,v={set:function(h){b=h}};return M.coerceFunction(p,v,w,m),b!==w}N.valObjectMeta={data_array:{coerceFunction:function(p,m,M){u(p)?m.set(p):M!==void 0&&m.set(M)}},enumerated:{coerceFunction:function(p,m,M,w){w.coerceNumber&&(p=+p),w.values.indexOf(p)===-1?m.set(M):m.set(p)},validateFunction:function(p,m){m.coerceNumber&&(p=+p);for(var M=m.values,w=0;w<M.length;w++){var b=String(M[w]);if(b.charAt(0)==="/"&&b.charAt(b.length-1)==="/"){if(new RegExp(b.substr(1,b.length-2)).test(p))return!0}else if(p===M[w])return!0}return!1}},boolean:{coerceFunction:function(p,m,M){p===!0||p===!1?m.set(p):m.set(M)}},number:{coerceFunction:function(p,m,M,w){!t(p)||w.min!==void 0&&p<w.min||w.max!==void 0&&p>w.max?m.set(M):m.set(+p)}},integer:{coerceFunction:function(p,m,M,w){p%1||!t(p)||w.min!==void 0&&p<w.min||w.max!==void 0&&p>w.max?m.set(M):m.set(+p)}},string:{coerceFunction:function(p,m,M,w){if(typeof p!="string"){var b=typeof p=="number";w.strict!==!0&&b?m.set(String(p)):m.set(M)}else w.noBlank&&!p?m.set(M):m.set(p)}},color:{coerceFunction:function(p,m,M){s(p).isValid()?m.set(p):m.set(M)}},colorlist:{coerceFunction:function(p,m,M){Array.isArray(p)&&p.length&&p.every(function(w){return s(w).isValid()})?m.set(p):m.set(M)}},colorscale:{coerceFunction:function(p,m,M){m.set(e.get(p,M))}},angle:{coerceFunction:function(p,m,M){p==="auto"?m.set("auto"):t(p)?m.set(r(+p,360)):m.set(M)}},subplotid:{coerceFunction:function(p,m,M,w){var b=w.regex||a(M);typeof p=="string"&&b.test(p)?m.set(p):m.set(M)},validateFunction:function(p,m){var M=m.dflt;return p===M||typeof p=="string"&&!!a(M).test(p)}},flaglist:{coerceFunction:function(p,m,M,w){if(typeof p=="string")if((w.extras||[]).indexOf(p)===-1){for(var b=p.split("+"),v=0;v<b.length;){var h=b[v];w.flags.indexOf(h)===-1||b.indexOf(h)<v?b.splice(v,1):v++}b.length?m.set(b.join("+")):m.set(M)}else m.set(p);else m.set(M)}},any:{coerceFunction:function(p,m,M){p===void 0?m.set(M):m.set(p)}},info_array:{coerceFunction:function(p,m,M,w){function b(Y,B,$){var rt,q={set:function(H){rt=H}};return $===void 0&&($=B.dflt),N.valObjectMeta[B.valType].coerceFunction(Y,q,$,B),rt}var v=w.dimensions===2||w.dimensions==="1-2"&&Array.isArray(p)&&Array.isArray(p[0]);if(Array.isArray(p)){var h,A,y,T,k,x,D=w.items,z=[],g=Array.isArray(D),R=g&&v&&Array.isArray(D[0]),I=v&&g&&!R,j=g&&!I?D.length:p.length;if(M=Array.isArray(M)?M:[],v)for(h=0;h<j;h++)for(z[h]=[],y=Array.isArray(p[h])?p[h]:[],k=I?D.length:g?D[h].length:y.length,A=0;A<k;A++)T=I?D[A]:g?D[h][A]:D,(x=b(y[A],T,(M[h]||[])[A]))!==void 0&&(z[h][A]=x);else for(h=0;h<j;h++)(x=b(p[h],g?D[h]:D,M[h]))!==void 0&&(z[h]=x);m.set(z)}else m.set(M)},validateFunction:function(p,m){if(!Array.isArray(p))return!1;var M=m.items,w=Array.isArray(M),b=m.dimensions===2;if(!m.freeLength&&p.length!==M.length)return!1;for(var v=0;v<p.length;v++)if(b){if(!Array.isArray(p[v])||!m.freeLength&&p[v].length!==M[v].length)return!1;for(var h=0;h<p[v].length;h++)if(!d(p[v][h],w?M[v][h]:M))return!1}else if(!d(p[v],w?M[v]:M))return!1;return!0}}},N.coerce=function(p,m,M,w,b){var v=i(M,w).get(),h=i(p,w),A=i(m,w),y=h.get(),T=m._template;if(y===void 0&&T&&(y=i(T,w).get(),T=0),b===void 0&&(b=v.dflt),v.arrayOk&&u(y))return A.set(y),y;var k=N.valObjectMeta[v.valType].coerceFunction;k(y,A,b,v);var x=A.get();return T&&x===b&&!d(y,v)&&(k(y=i(T,w).get(),A,b,v),x=A.get()),x},N.coerce2=function(p,m,M,w,b){var v=i(p,w),h=N.coerce(p,m,M,w,b),A=v.get();return A!=null&&h},N.coerceFont=function(p,m,M){var w={};return M=M||{},w.family=p(m+".family",M.family),w.size=p(m+".size",M.size),w.color=p(m+".color",M.color),w},N.coercePattern=function(p,m,M,w){if(p(m+".shape")){p(m+".solidity"),p(m+".size");var b=p(m+".fillmode")==="overlay";if(!w){var v=p(m+".bgcolor",b?M:void 0);p(m+".fgcolor",b?n.contrast(v):M)}p(m+".fgopacity",b?.5:1)}},N.coerceHoverinfo=function(p,m,M){var w,b=m._module.attributes,v=b.hoverinfo?b:o,h=v.hoverinfo;if(M._dataLength===1){var A=h.dflt==="all"?h.flags.slice():h.dflt.split("+");A.splice(A.indexOf("name"),1),w=A.join("+")}return N.coerce(p,m,v,"hoverinfo",w)},N.coerceSelectionMarkerOpacity=function(p,m){if(p.marker){var M,w,b=p.marker.opacity;b!==void 0&&(u(b)||p.selected||p.unselected||(M=b,w=l*b),m("selected.marker.opacity",M),m("unselected.marker.opacity",w))}},N.validate=d},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(c,J,N){var t,s,o=c("d3-time-format").timeFormat,e=c("fast-isnumeric"),n=c("./loggers"),l=c("./mod").mod,i=c("../constants/numerical"),a=i.BADNUM,r=i.ONEDAY,u=i.ONEHOUR,d=i.ONEMIN,p=i.ONESEC,m=i.EPOCHJD,M=c("../registry"),w=c("d3-time-format").utcFormat,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function A(B){return B&&M.componentsRegistry.calendars&&typeof B=="string"&&B!=="gregorian"}function y(B,$){return String(B+Math.pow(10,$)).substr(1)}N.dateTick0=function(B,$){var rt=function(H,C){return A(H)?C?M.getComponentMethod("calendars","CANONICAL_SUNDAY")[H]:M.getComponentMethod("calendars","CANONICAL_TICK")[H]:C?"2000-01-02":"2000-01-01"}(B,!!$);if($<2)return rt;var q=N.dateTime2ms(rt,B);return q+=r*($-1),N.ms2DateTime(q,0,B)},N.dfltRange=function(B){return A(B)?M.getComponentMethod("calendars","DFLTRANGE")[B]:["2000-01-01","2001-01-01"]},N.isJSDate=function(B){return typeof B=="object"&&B!==null&&typeof B.getTime=="function"},N.dateTime2ms=function(B,$){if(N.isJSDate(B)){var rt=B.getTimezoneOffset()*d,q=(B.getUTCMinutes()-B.getMinutes())*d+(B.getUTCSeconds()-B.getSeconds())*p+(B.getUTCMilliseconds()-B.getMilliseconds());if(q){var H=3*d;rt=rt-H/2+l(q-rt+H/2,H)}return(B=Number(B)-rt)>=t&&B<=s?B:a}if(typeof B!="string"&&typeof B!="number")return a;B=String(B);var C=A($),F=B.charAt(0);!C||F!=="G"&&F!=="g"||(B=B.substr(1),$="");var L=C&&$.substr(0,7)==="chinese",X=B.match(L?v:b);if(!X)return a;var E=X[1],Z=X[3]||"1",S=Number(X[5]||1),U=Number(X[7]||0),P=Number(X[9]||0),G=Number(X[11]||0);if(C){if(E.length===2)return a;var Q;E=Number(E);try{var et=M.getComponentMethod("calendars","getCal")($);if(L){var tt=Z.charAt(Z.length-1)==="i";Z=parseInt(Z,10),Q=et.newDate(E,et.toMonthIndex(E,Z,tt),S)}else Q=et.newDate(E,Number(Z),S)}catch{return a}return Q?(Q.toJD()-m)*r+U*u+P*d+G*p:a}E=E.length===2?(Number(E)+2e3-h)%100+h:Number(E),Z-=1;var lt=new Date(Date.UTC(2e3,Z,S,U,P));return lt.setUTCFullYear(E),lt.getUTCMonth()!==Z||lt.getUTCDate()!==S?a:lt.getTime()+G*p},t=N.MIN_MS=N.dateTime2ms("-9999"),s=N.MAX_MS=N.dateTime2ms("9999-12-31 23:59:59.9999"),N.isDateTime=function(B,$){return N.dateTime2ms(B,$)!==a};var T=90*r,k=3*u,x=5*d;function D(B,$,rt,q,H){if(($||rt||q||H)&&(B+=" "+y($,2)+":"+y(rt,2),(q||H)&&(B+=":"+y(q,2),H))){for(var C=4;H%10==0;)C-=1,H/=10;B+="."+y(H,C)}return B}N.ms2DateTime=function(B,$,rt){if(typeof B!="number"||!(B>=t&&B<=s))return a;$||($=0);var q,H,C,F,L,X,E=Math.floor(10*l(B+.05,1)),Z=Math.round(B-E/10);if(A(rt)){var S=Math.floor(Z/r)+m,U=Math.floor(l(B,r));try{q=M.getComponentMethod("calendars","getCal")(rt).fromJD(S).formatDate("yyyy-mm-dd")}catch{q=w("G%Y-%m-%d")(new Date(Z))}if(q.charAt(0)==="-")for(;q.length<11;)q="-0"+q.substr(1);else for(;q.length<10;)q="0"+q;H=$<T?Math.floor(U/u):0,C=$<T?Math.floor(U%u/d):0,F=$<k?Math.floor(U%d/p):0,L=$<x?U%p*10+E:0}else X=new Date(Z),q=w("%Y-%m-%d")(X),H=$<T?X.getUTCHours():0,C=$<T?X.getUTCMinutes():0,F=$<k?X.getUTCSeconds():0,L=$<x?10*X.getUTCMilliseconds()+E:0;return D(q,H,C,F,L)},N.ms2DateTimeLocal=function(B){if(!(B>=t+r&&B<=s-r))return a;var $=Math.floor(10*l(B+.05,1)),rt=new Date(Math.round(B-$/10));return D(o("%Y-%m-%d")(rt),rt.getHours(),rt.getMinutes(),rt.getSeconds(),10*rt.getUTCMilliseconds()+$)},N.cleanDate=function(B,$,rt){if(B===a)return $;if(N.isJSDate(B)||typeof B=="number"&&isFinite(B)){if(A(rt))return n.error("JS Dates and milliseconds are incompatible with world calendars",B),$;if(!(B=N.ms2DateTimeLocal(+B))&&$!==void 0)return $}else if(!N.isDateTime(B,rt))return n.error("unrecognized date",B),$;return B};var z=/%\d?f/g,g=/%h/g,R={1:"1",2:"1",3:"2",4:"2"};function I(B,$,rt,q){B=B.replace(z,function(C){var F=Math.min(+C.charAt(1)||6,6);return($/1e3%1+2).toFixed(F).substr(2).replace(/0+$/,"")||"0"});var H=new Date(Math.floor($+.05));if(B=B.replace(g,function(){return R[rt("%q")(H)]}),A(q))try{B=M.getComponentMethod("calendars","worldCalFmt")(B,$,q)}catch{return"Invalid"}return rt(B)(H)}var j=[59,59.9,59.99,59.999,59.9999];N.formatDate=function(B,$,rt,q,H,C){if(H=A(H)&&H,!$)if(rt==="y")$=C.year;else if(rt==="m")$=C.month;else{if(rt!=="d")return function(F,L){var X=l(F+.05,r),E=y(Math.floor(X/u),2)+":"+y(l(Math.floor(X/d),60),2);if(L!=="M"){e(L)||(L=0);var Z=(100+Math.min(l(F/p,60),j[L])).toFixed(L).substr(1);L>0&&(Z=Z.replace(/0+$/,"").replace(/[\.]$/,"")),E+=":"+Z}return E}(B,rt)+`
`+I(C.dayMonthYear,B,q,H);$=C.dayMonth+`
`+C.year}return I($,B,q,H)};var Y=3*r;N.incrementMonth=function(B,$,rt){rt=A(rt)&&rt;var q=l(B,r);if(B=Math.round(B-q),rt)try{var H=Math.round(B/r)+m,C=M.getComponentMethod("calendars","getCal")(rt),F=C.fromJD(H);return $%12?C.add(F,$,"m"):C.add(F,$/12,"y"),(F.toJD()-m)*r+q}catch{n.error("invalid ms "+B+" in calendar "+rt)}var L=new Date(B+Y);return L.setUTCMonth(L.getUTCMonth()+$)+q-Y},N.findExactDates=function(B,$){for(var rt,q,H=0,C=0,F=0,L=0,X=A($)&&M.getComponentMethod("calendars","getCal")($),E=0;E<B.length;E++)if(q=B[E],e(q)){if(!(q%r))if(X)try{(rt=X.fromJD(q/r+m)).day()===1?rt.month()===1?H++:C++:F++}catch{}else(rt=new Date(q)).getUTCDate()===1?rt.getUTCMonth()===0?H++:C++:F++}else L++;F+=C+=H;var Z=B.length-L;return{exactYears:H/Z,exactMonths:C/Z,exactDays:F/Z}}},{"../constants/numerical":212,"../registry":316,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(c,J,N){var t=c("@plotly/d3"),s=c("./loggers"),o=c("./matrix"),e=c("gl-mat4");function n(u){var d=u&&u.parentNode;d&&d.removeChild(u)}function l(u,d,p){var m="plotly.js-style-"+u,M=document.getElementById(m);M||((M=document.createElement("style")).setAttribute("id",m),M.appendChild(document.createTextNode("")),document.head.appendChild(M));var w=M.sheet;w.insertRule?w.insertRule(d+"{"+p+"}",0):w.addRule?w.addRule(d,p,0):s.warn("addStyleRule failed")}function i(u){var d=window.getComputedStyle(u,null),p=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("-moz-transform")||d.getPropertyValue("-ms-transform")||d.getPropertyValue("-o-transform")||d.getPropertyValue("transform");return p==="none"?null:p.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(m){return+m})}function a(u){for(var d=[];r(u);)d.push(u),u=u.parentNode;return d}function r(u){return u&&(u instanceof Element||u instanceof HTMLElement)}J.exports={getGraphDiv:function(u){var d;if(typeof u=="string"){if((d=document.getElementById(u))===null)throw new Error("No DOM element with id '"+u+"' exists on the page.");return d}if(u==null)throw new Error("DOM element provided is null or undefined");return u},isPlotDiv:function(u){var d=t.select(u);return d.node()instanceof HTMLElement&&d.size()&&d.classed("js-plotly-plot")},removeElement:n,addStyleRule:function(u,d){l("global",u,d)},addRelatedStyleRule:l,deleteRelatedStyleRule:function(u){var d="plotly.js-style-"+u,p=document.getElementById(d);p&&n(p)},getFullTransformMatrix:function(u){var d=a(u),p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return d.forEach(function(m){var M=i(m);if(M){var w=o.convertCssMatrix(M);p=e.multiply(p,p,w)}}),p},getElementTransformMatrix:i,getElementAndAncestors:a,equalDomRects:function(u,d){return u&&d&&u.x===d.x&&u.y===d.y&&u.top===d.top&&u.left===d.left&&u.right===d.right&&u.bottom===d.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(c,J,N){var t=c("events").EventEmitter,s={init:function(o){if(o._ev instanceof t)return o;var e=new t,n=new t;return o._ev=e,o._internalEv=n,o.on=e.on.bind(e),o.once=e.once.bind(e),o.removeListener=e.removeListener.bind(e),o.removeAllListeners=e.removeAllListeners.bind(e),o._internalOn=n.on.bind(n),o._internalOnce=n.once.bind(n),o._removeInternalListener=n.removeListener.bind(n),o._removeAllInternalListeners=n.removeAllListeners.bind(n),o.emit=function(l,i){typeof jQuery<"u"&&jQuery(o).trigger(l,i),e.emit(l,i),n.emit(l,i)},o},triggerHandler:function(o,e,n){var l,i;typeof jQuery<"u"&&(l=jQuery(o).triggerHandler(e,n));var a=o._ev;if(!a)return l;var r,u=a._events[e];if(!u)return l;function d(p){return p.listener?(a.removeListener(e,p.listener),p.fired?void 0:(p.fired=!0,p.listener.apply(a,[n]))):p.apply(a,[n])}for(u=Array.isArray(u)?u:[u],r=0;r<u.length-1;r++)d(u[r]);return i=d(u[r]),l!==void 0?l:i},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}};J.exports=s},{events:12}],226:[function(c,J,N){var t=c("./is_plain_object.js"),s=Array.isArray;function o(e,n,l,i){var a,r,u,d,p,m,M=e[0],w=e.length;if(w===2&&s(M)&&s(e[1])&&M.length===0){if(function(v,h){var A,y;for(A=0;A<v.length;A++){if((y=v[A])!==null&&typeof y=="object")return!1;y!==void 0&&(h[A]=y)}return!0}(e[1],M))return M;M.splice(0,M.length)}for(var b=1;b<w;b++)for(r in a=e[b])u=M[r],d=a[r],i&&s(d)?M[r]=d:n&&d&&(t(d)||(p=s(d)))?(p?(p=!1,m=u&&s(u)?u:[]):m=u&&t(u)?u:{},M[r]=o([m,d],n,l,i)):(d!==void 0||l)&&(M[r]=d);return M}N.extendFlat=function(){return o(arguments,!1,!1,!1)},N.extendDeep=function(){return o(arguments,!0,!1,!1)},N.extendDeepAll=function(){return o(arguments,!0,!0,!1)},N.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(c,J,N){J.exports=function(t){for(var s={},o=[],e=0,n=0;n<t.length;n++){var l=t[n];s[l]!==1&&(s[l]=1,o[e++]=l)}return o}},{}],228:[function(c,J,N){function t(o){return o.visible===!0}function s(o){var e=o[0].trace;return e.visible===!0&&e._length!==0}J.exports=function(o){for(var e,n=(e=o,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?s:t),l=[],i=0;i<o.length;i++){var a=o[i];n(a)&&l.push(a)}return l}},{}],229:[function(c,J,N){var t,s,o,e=c("./mod").mod;function n(i,a,r,u,d,p,m,M){var w=r-i,b=d-i,v=m-d,h=u-a,A=p-a,y=M-p,T=w*y-v*h;if(T===0)return null;var k=(b*y-v*A)/T,x=(b*h-w*A)/T;return x<0||x>1||k<0||k>1?null:{x:i+w*k,y:a+h*k}}function l(i,a,r,u,d){var p=u*i+d*a;if(p<0)return u*u+d*d;if(p>r){var m=u-i,M=d-a;return m*m+M*M}var w=u*a-d*i;return w*w/r}N.segmentsIntersect=n,N.segmentDistance=function(i,a,r,u,d,p,m,M){if(n(i,a,r,u,d,p,m,M))return 0;var w=r-i,b=u-a,v=m-d,h=M-p,A=w*w+b*b,y=v*v+h*h,T=Math.min(l(w,b,A,d-i,p-a),l(w,b,A,m-i,M-a),l(v,h,y,i-d,a-p),l(v,h,y,r-d,u-p));return Math.sqrt(T)},N.getTextLocation=function(i,a,r,u){if(i===s&&u===o||(t={},s=i,o=u),t[r])return t[r];var d=i.getPointAtLength(e(r-u/2,a)),p=i.getPointAtLength(e(r+u/2,a)),m=Math.atan((p.y-d.y)/(p.x-d.x)),M=i.getPointAtLength(e(r,a)),w={x:(4*M.x+d.x+p.x)/6,y:(4*M.y+d.y+p.y)/6,theta:m};return t[r]=w,w},N.clearLocationCache=function(){s=null},N.getVisibleSegment=function(i,a,r){var u,d,p=a.left,m=a.right,M=a.top,w=a.bottom,b=0,v=i.getTotalLength(),h=v;function A(T){var k=i.getPointAtLength(T);T===0?u=k:T===v&&(d=k);var x=k.x<p?p-k.x:k.x>m?k.x-m:0,D=k.y<M?M-k.y:k.y>w?k.y-w:0;return Math.sqrt(x*x+D*D)}for(var y=A(b);y;){if((b+=y+r)>h)return;y=A(b)}for(y=A(h);y;){if(b>(h-=y+r))return;y=A(h)}return{min:b,max:h,len:h-b,total:v,isClosed:b===0&&h===v&&Math.abs(u.x-d.x)<.1&&Math.abs(u.y-d.y)<.1}},N.findPointOnPath=function(i,a,r,u){for(var d,p,m,M=(u=u||{}).pathLength||i.getTotalLength(),w=u.tolerance||.001,b=u.iterationLimit||30,v=i.getPointAtLength(0)[r]>i.getPointAtLength(M)[r]?-1:1,h=0,A=0,y=M;h<b;){if(d=(A+y)/2,m=(p=i.getPointAtLength(d))[r]-a,Math.abs(m)<w)return p;v*m>0?y=d:A=d,h++}return p}},{"./mod":239}],230:[function(c,J,N){J.exports=function(t){return t}},{}],231:[function(c,J,N){J.exports=function(t,s){if(!s)return t;var o=1/Math.abs(s),e=o>1?(o*t+o*s)/o:t+s,n=String(e).length;if(n>16){var l=String(s).length;if(n>=String(t).length+l){var i=parseFloat(e).toPrecision(12);i.indexOf("e+")===-1&&(e=+i)}}return e}},{}],232:[function(c,J,N){var t=c("@plotly/d3"),s=c("d3-time-format").utcFormat,o=c("d3-format").format,e=c("fast-isnumeric"),n=c("../constants/numerical"),l=n.FP_SAFE,i=-l,a=n.BADNUM,r=J.exports={};r.adjustFormat=function(E){return!E||/^\d[.]\df/.test(E)||/[.]\d%/.test(E)?E:E==="0.f"?"~f":/^\d%/.test(E)?"~%":/^\ds/.test(E)?"~s":!/^[~,.0$]/.test(E)&&/[&fps]/.test(E)?"~"+E:E};var u={};r.warnBadFormat=function(E){var Z=String(E);u[Z]||(u[Z]=1,r.warn('encountered bad format: "'+Z+'"'))},r.noFormat=function(E){return String(E)},r.numberFormat=function(E){var Z;try{Z=o(r.adjustFormat(E))}catch{return r.warnBadFormat(E),r.noFormat}return Z},r.nestedProperty=c("./nested_property"),r.keyedContainer=c("./keyed_container"),r.relativeAttr=c("./relative_attr"),r.isPlainObject=c("./is_plain_object"),r.toLogRange=c("./to_log_range"),r.relinkPrivateKeys=c("./relink_private");var d=c("./array");r.isTypedArray=d.isTypedArray,r.isArrayOrTypedArray=d.isArrayOrTypedArray,r.isArray1D=d.isArray1D,r.ensureArray=d.ensureArray,r.concat=d.concat,r.maxRowLength=d.maxRowLength,r.minRowLength=d.minRowLength;var p=c("./mod");r.mod=p.mod,r.modHalf=p.modHalf;var m=c("./coerce");r.valObjectMeta=m.valObjectMeta,r.coerce=m.coerce,r.coerce2=m.coerce2,r.coerceFont=m.coerceFont,r.coercePattern=m.coercePattern,r.coerceHoverinfo=m.coerceHoverinfo,r.coerceSelectionMarkerOpacity=m.coerceSelectionMarkerOpacity,r.validate=m.validate;var M=c("./dates");r.dateTime2ms=M.dateTime2ms,r.isDateTime=M.isDateTime,r.ms2DateTime=M.ms2DateTime,r.ms2DateTimeLocal=M.ms2DateTimeLocal,r.cleanDate=M.cleanDate,r.isJSDate=M.isJSDate,r.formatDate=M.formatDate,r.incrementMonth=M.incrementMonth,r.dateTick0=M.dateTick0,r.dfltRange=M.dfltRange,r.findExactDates=M.findExactDates,r.MIN_MS=M.MIN_MS,r.MAX_MS=M.MAX_MS;var w=c("./search");r.findBin=w.findBin,r.sorterAsc=w.sorterAsc,r.sorterDes=w.sorterDes,r.distinctVals=w.distinctVals,r.roundUp=w.roundUp,r.sort=w.sort,r.findIndexOfMin=w.findIndexOfMin,r.sortObjectKeys=c("./sort_object_keys");var b=c("./stats");r.aggNums=b.aggNums,r.len=b.len,r.mean=b.mean,r.median=b.median,r.midRange=b.midRange,r.variance=b.variance,r.stdev=b.stdev,r.interp=b.interp;var v=c("./matrix");r.init2dArray=v.init2dArray,r.transposeRagged=v.transposeRagged,r.dot=v.dot,r.translationMatrix=v.translationMatrix,r.rotationMatrix=v.rotationMatrix,r.rotationXYMatrix=v.rotationXYMatrix,r.apply3DTransform=v.apply3DTransform,r.apply2DTransform=v.apply2DTransform,r.apply2DTransform2=v.apply2DTransform2,r.convertCssMatrix=v.convertCssMatrix,r.inverseTransformMatrix=v.inverseTransformMatrix;var h=c("./angles");r.deg2rad=h.deg2rad,r.rad2deg=h.rad2deg,r.angleDelta=h.angleDelta,r.angleDist=h.angleDist,r.isFullCircle=h.isFullCircle,r.isAngleInsideSector=h.isAngleInsideSector,r.isPtInsideSector=h.isPtInsideSector,r.pathArc=h.pathArc,r.pathSector=h.pathSector,r.pathAnnulus=h.pathAnnulus;var A=c("./anchor_utils");r.isLeftAnchor=A.isLeftAnchor,r.isCenterAnchor=A.isCenterAnchor,r.isRightAnchor=A.isRightAnchor,r.isTopAnchor=A.isTopAnchor,r.isMiddleAnchor=A.isMiddleAnchor,r.isBottomAnchor=A.isBottomAnchor;var y=c("./geometry2d");r.segmentsIntersect=y.segmentsIntersect,r.segmentDistance=y.segmentDistance,r.getTextLocation=y.getTextLocation,r.clearLocationCache=y.clearLocationCache,r.getVisibleSegment=y.getVisibleSegment,r.findPointOnPath=y.findPointOnPath;var T=c("./extend");r.extendFlat=T.extendFlat,r.extendDeep=T.extendDeep,r.extendDeepAll=T.extendDeepAll,r.extendDeepNoArrays=T.extendDeepNoArrays;var k=c("./loggers");r.log=k.log,r.warn=k.warn,r.error=k.error;var x=c("./regex");r.counterRegex=x.counter;var D=c("./throttle");r.throttle=D.throttle,r.throttleDone=D.done,r.clearThrottle=D.clear;var z=c("./dom");function g(E){var Z={};for(var S in E)for(var U=E[S],P=0;P<U.length;P++)Z[U[P]]=+S;return Z}r.getGraphDiv=z.getGraphDiv,r.isPlotDiv=z.isPlotDiv,r.removeElement=z.removeElement,r.addStyleRule=z.addStyleRule,r.addRelatedStyleRule=z.addRelatedStyleRule,r.deleteRelatedStyleRule=z.deleteRelatedStyleRule,r.getFullTransformMatrix=z.getFullTransformMatrix,r.getElementTransformMatrix=z.getElementTransformMatrix,r.getElementAndAncestors=z.getElementAndAncestors,r.equalDomRects=z.equalDomRects,r.clearResponsive=c("./clear_responsive"),r.preserveDrawingBuffer=c("./preserve_drawing_buffer"),r.makeTraceGroups=c("./make_trace_groups"),r._=c("./localize"),r.notifier=c("./notifier"),r.filterUnique=c("./filter_unique"),r.filterVisible=c("./filter_visible"),r.pushUnique=c("./push_unique"),r.increment=c("./increment"),r.cleanNumber=c("./clean_number"),r.ensureNumber=function(E){return e(E)?(E=Number(E))>l||E<i?a:E:a},r.isIndex=function(E,Z){return!(Z!==void 0&&E>=Z)&&e(E)&&E>=0&&E%1==0},r.noop=c("./noop"),r.identity=c("./identity"),r.repeat=function(E,Z){for(var S=new Array(Z),U=0;U<Z;U++)S[U]=E;return S},r.swapAttrs=function(E,Z,S,U){S||(S="x"),U||(U="y");for(var P=0;P<Z.length;P++){var G=Z[P],Q=r.nestedProperty(E,G.replace("?",S)),et=r.nestedProperty(E,G.replace("?",U)),tt=Q.get();Q.set(et.get()),et.set(tt)}},r.raiseToTop=function(E){E.parentNode.appendChild(E)},r.cancelTransition=function(E){return E.transition().duration(0)},r.constrain=function(E,Z,S){return Z>S?Math.max(S,Math.min(Z,E)):Math.max(Z,Math.min(S,E))},r.bBoxIntersect=function(E,Z,S){return S=S||0,E.left<=Z.right+S&&Z.left<=E.right+S&&E.top<=Z.bottom+S&&Z.top<=E.bottom+S},r.simpleMap=function(E,Z,S,U,P){for(var G=E.length,Q=new Array(G),et=0;et<G;et++)Q[et]=Z(E[et],S,U,P);return Q},r.randstr=function E(Z,S,U,P){if(U||(U=16),S===void 0&&(S=24),S<=0)return"0";var G,Q,et=Math.log(Math.pow(2,S))/Math.log(U),tt="";for(G=2;et===1/0;G*=2)et=Math.log(Math.pow(2,S/G))/Math.log(U)*G;var lt=et-Math.floor(et);for(G=0;G<Math.floor(et);G++)tt=Math.floor(Math.random()*U).toString(U)+tt;lt&&(Q=Math.pow(U,lt),tt=Math.floor(Math.random()*Q).toString(U)+tt);var ct=parseInt(tt,U);return Z&&Z[tt]||ct!==1/0&&ct>=Math.pow(2,S)?P>10?(r.warn("randstr failed uniqueness"),tt):E(Z,S,U,(P||0)+1):tt},r.OptionControl=function(E,Z){E||(E={}),Z||(Z="opt");var S={optionList:[],_newoption:function(U){U[Z]=E,S[U.name]=U,S.optionList.push(U)}};return S["_"+Z]=E,S},r.smooth=function(E,Z){if((Z=Math.round(Z)||0)<2)return E;var S,U,P,G,Q=E.length,et=2*Q,tt=2*Z-1,lt=new Array(tt),ct=new Array(Q);for(S=0;S<tt;S++)lt[S]=(1-Math.cos(Math.PI*(S+1)/Z))/(2*Z);for(S=0;S<Q;S++){for(G=0,U=0;U<tt;U++)(P=S+U+1-Z)<-Q?P-=et*Math.round(P/et):P>=et&&(P-=et*Math.floor(P/et)),P<0?P=-1-P:P>=Q&&(P=et-1-P),G+=E[P]*lt[U];ct[S]=G}return ct},r.syncOrAsync=function(E,Z,S){var U;function P(){return r.syncOrAsync(E,Z,S)}for(;E.length;)if((U=(0,E.splice(0,1)[0])(Z))&&U.then)return U.then(P).then(void 0,r.promiseError);return S&&S(Z)},r.stripTrailingSlash=function(E){return E.substr(-1)==="/"?E.substr(0,E.length-1):E},r.noneOrAll=function(E,Z,S){if(E){var U,P=!1,G=!0;for(U=0;U<S.length;U++)E[S[U]]!=null?P=!0:G=!1;if(P&&!G)for(U=0;U<S.length;U++)E[S[U]]=Z[S[U]]}},r.mergeArray=function(E,Z,S,U){var P=typeof U=="function";if(r.isArrayOrTypedArray(E))for(var G=Math.min(E.length,Z.length),Q=0;Q<G;Q++){var et=E[Q];Z[Q][S]=P?U(et):et}},r.mergeArrayCastPositive=function(E,Z,S){return r.mergeArray(E,Z,S,function(U){var P=+U;return isFinite(P)&&P>0?P:0})},r.fillArray=function(E,Z,S,U){if(U=U||r.identity,r.isArrayOrTypedArray(E))for(var P=0;P<Z.length;P++)Z[P][S]=U(E[P])},r.castOption=function(E,Z,S,U){U=U||r.identity;var P=r.nestedProperty(E,S).get();return r.isArrayOrTypedArray(P)?Array.isArray(Z)&&r.isArrayOrTypedArray(P[Z[0]])?U(P[Z[0]][Z[1]]):U(P[Z]):P},r.extractOption=function(E,Z,S,U){if(S in E)return E[S];var P=r.nestedProperty(Z,U).get();return Array.isArray(P)?void 0:P},r.tagSelected=function(E,Z,S){var U,P,G=Z.selectedpoints,Q=Z._indexToPoints;Q&&(U=g(Q));for(var et=0;et<G.length;et++){var tt=G[et];if(r.isIndex(tt)||r.isArrayOrTypedArray(tt)&&r.isIndex(tt[0])&&r.isIndex(tt[1])){var lt=U?U[tt]:tt,ct=S?S[lt]:lt;(P=ct)!==void 0&&P<E.length&&(E[ct].selected=1)}}},r.selIndices2selPoints=function(E){var Z=E.selectedpoints,S=E._indexToPoints;if(S){for(var U=g(S),P=[],G=0;G<Z.length;G++){var Q=Z[G];if(r.isIndex(Q)){var et=U[Q];r.isIndex(et)&&P.push(et)}}return P}return Z},r.getTargetArray=function(E,Z){var S=Z.target;if(typeof S=="string"&&S){var U=r.nestedProperty(E,S).get();return!!Array.isArray(U)&&U}return!!Array.isArray(S)&&S},r.minExtend=function(E,Z){var S={};typeof Z!="object"&&(Z={});var U,P,G,Q=Object.keys(E);for(U=0;U<Q.length;U++)G=E[P=Q[U]],P.charAt(0)!=="_"&&typeof G!="function"&&(P==="module"?S[P]=G:Array.isArray(G)?S[P]=P==="colorscale"?G.slice():G.slice(0,3):r.isTypedArray(G)?S[P]=G.subarray(0,3):S[P]=G&&typeof G=="object"?r.minExtend(E[P],Z[P]):G);for(Q=Object.keys(Z),U=0;U<Q.length;U++)typeof(G=Z[P=Q[U]])=="object"&&P in S&&typeof S[P]=="object"||(S[P]=G);return S},r.titleCase=function(E){return E.charAt(0).toUpperCase()+E.substr(1)},r.containsAny=function(E,Z){for(var S=0;S<Z.length;S++)if(E.indexOf(Z[S])!==-1)return!0;return!1},r.isIE=function(){return window.navigator.msSaveBlob!==void 0};var R=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return R.test(window.navigator.userAgent)};var I=/iPad|iPhone|iPod/;r.isIOS=function(){return I.test(window.navigator.userAgent)};var j=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var E=j.exec(window.navigator.userAgent);if(E&&E.length===2){var Z=parseInt(E[1]);if(!isNaN(Z))return Z}return null},r.isD3Selection=function(E){return E instanceof t.selection},r.ensureSingle=function(E,Z,S,U){var P=E.select(Z+(S?"."+S:""));if(P.size())return P;var G=E.append(Z);return S&&G.classed(S,!0),U&&G.call(U),G},r.ensureSingleById=function(E,Z,S,U){var P=E.select(Z+"#"+S);if(P.size())return P;var G=E.append(Z).attr("id",S);return U&&G.call(U),G},r.objectFromPath=function(E,Z){for(var S,U=E.split("."),P=S={},G=0;G<U.length;G++){var Q=U[G],et=null,tt=U[G].match(/(.*)\[([0-9]+)\]/);tt?(Q=tt[1],et=tt[2],S=S[Q]=[],G===U.length-1?S[et]=Z:S[et]={},S=S[et]):(G===U.length-1?S[Q]=Z:S[Q]={},S=S[Q])}return P};var Y=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(E){var Z,S,U,P,G,Q,et;if(typeof E=="object"&&!Array.isArray(E))for(S in E)E.hasOwnProperty(S)&&((Z=S.match(Y))?(P=E[S],U=Z[1],delete E[S],E[U]=r.extendDeepNoArrays(E[U]||{},r.objectFromPath(S,r.expandObjectPaths(P))[U])):(Z=S.match(B))?(P=E[S],U=Z[1],G=parseInt(Z[2]),delete E[S],E[U]=E[U]||[],Z[3]==="."?(et=Z[4],Q=E[U][G]=E[U][G]||{},r.extendDeepNoArrays(Q,r.objectFromPath(et,r.expandObjectPaths(P)))):E[U][G]=r.expandObjectPaths(P)):E[S]=r.expandObjectPaths(E[S]));return E},r.numSeparate=function(E,Z,S){if(S||(S=!1),typeof Z!="string"||Z.length===0)throw new Error("Separator string required for formatting!");typeof E=="number"&&(E=String(E));var U=/(\d+)(\d{3})/,P=Z.charAt(0),G=Z.charAt(1),Q=E.split("."),et=Q[0],tt=Q.length>1?P+Q[1]:"";if(G&&(Q.length>1||et.length>4||S))for(;U.test(et);)et=et.replace(U,"$1"+G+"$2");return et+tt},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var $=/^\w*$/;r.templateString=function(E,Z){var S={};return E.replace(r.TEMPLATE_STRING_REGEX,function(U,P){var G;return $.test(P)?G=Z[P]:(S[P]=S[P]||r.nestedProperty(Z,P).get,G=S[P]()),r.isValidTextValue(G)?G:""})};var rt={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return C.apply(rt,arguments)};var q={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return C.apply(q,arguments)};var H=/^[:|\|]/;function C(E,Z,S){var U=this,P=arguments;Z||(Z={});var G={};return E.replace(r.TEMPLATE_STRING_REGEX,function(Q,et,tt){var lt,ct,mt,Mt=et==="_xother"||et==="_yother",St=et==="_xother_"||et==="_yother_",_t=et==="xother_"||et==="yother_",Yt=et==="xother"||et==="yother"||Mt||_t||St,Et=et;if((Mt||St)&&(Et=Et.substring(1)),(_t||St)&&(Et=Et.substring(0,Et.length-1)),Yt){if((lt=Z[Et])===void 0)return""}else for(mt=3;mt<P.length;mt++)if(ct=P[mt]){if(ct.hasOwnProperty(Et)){lt=ct[Et];break}if($.test(Et)||(lt=r.nestedProperty(ct,Et).get(),(lt=G[Et]||r.nestedProperty(ct,Et).get())&&(G[Et]=lt)),lt!==void 0)break}if(lt===void 0&&U)return U.count<U.max&&(r.warn("Variable '"+Et+"' in "+U.name+" could not be found!"),lt=Q),U.count===U.max&&r.warn("Too many "+U.name+" warnings - additional warnings will be suppressed"),U.count++,Q;if(tt){var gt;if(tt[0]===":"&&(lt=(gt=S?S.numberFormat:r.numberFormat)(tt.replace(H,""))(lt)),tt[0]==="|"){gt=S?S.timeFormat:s;var ot=r.dateTime2ms(lt);lt=r.formatDate(ot,tt.replace(H,""),!1,gt)}}else{var nt=Et+"Label";Z.hasOwnProperty(nt)&&(lt=Z[nt])}return Yt&&(lt="("+lt+")",(Mt||St)&&(lt=" "+lt),(_t||St)&&(lt+=" ")),lt})}r.subplotSort=function(E,Z){for(var S=Math.min(E.length,Z.length)+1,U=0,P=0,G=0;G<S;G++){var Q=E.charCodeAt(G)||0,et=Z.charCodeAt(G)||0,tt=Q>=48&&Q<=57,lt=et>=48&&et<=57;if(tt&&(U=10*U+Q-48),lt&&(P=10*P+et-48),!tt||!lt){if(U!==P)return U-P;if(Q!==et)return Q-et}}return P-U};var F=2e9;r.seedPseudoRandom=function(){F=2e9},r.pseudoRandom=function(){var E=F;return F=(69069*F+1)%4294967296,Math.abs(F-E)<429496729?r.pseudoRandom():F/4294967296},r.fillText=function(E,Z,S){var U=Array.isArray(S)?function(Q){S.push(Q)}:function(Q){S.text=Q},P=r.extractOption(E,Z,"htx","hovertext");if(r.isValidTextValue(P))return U(P);var G=r.extractOption(E,Z,"tx","text");return r.isValidTextValue(G)?U(G):void 0},r.isValidTextValue=function(E){return E||E===0},r.formatPercent=function(E,Z){Z=Z||0;for(var S=(Math.round(100*E*Math.pow(10,Z))*Math.pow(.1,Z)).toFixed(Z)+"%",U=0;U<Z;U++)S.indexOf(".")!==-1&&(S=(S=S.replace("0%","%")).replace(".%","%"));return S},r.isHidden=function(E){var Z=window.getComputedStyle(E).display;return!Z||Z==="none"},r.strTranslate=function(E,Z){return E||Z?"translate("+E+","+Z+")":""},r.strRotate=function(E){return E?"rotate("+E+")":""},r.strScale=function(E){return E!==1?"scale("+E+")":""},r.getTextTransform=function(E){var Z=E.noCenter,S=E.textX,U=E.textY,P=E.targetX,G=E.targetY,Q=E.anchorX||0,et=E.anchorY||0,tt=E.rotate,lt=E.scale;return lt?lt>1&&(lt=1):lt=0,r.strTranslate(P-lt*(S+Q),G-lt*(U+et))+r.strScale(lt)+(tt?"rotate("+tt+(Z?"":" "+S+" "+U)+")":"")},r.ensureUniformFontSize=function(E,Z){var S=r.extendFlat({},Z);return S.size=Math.max(Z.size,E._fullLayout.uniformtext.minsize||0),S},r.join2=function(E,Z,S){var U=E.length;return U>1?E.slice(0,-1).join(Z)+S+E[U-1]:E.join(Z)},r.bigFont=function(E){return Math.round(1.2*E)};var L=r.getFirefoxVersion(),X=L!==null&&L<86;r.getPositionFromD3Event=function(){return X?[t.event.layerX,t.event.layerY]:[t.event.offsetX,t.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(c,J,N){J.exports=function(t){return window&&window.process&&window.process.versions?Object.prototype.toString.call(t)==="[object Object]":Object.prototype.toString.call(t)==="[object Object]"&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},{}],234:[function(c,J,N){var t=c("./nested_property"),s=/^\w*$/;J.exports=function(o,e,n,l){var i,a,r;n=n||"name",l=l||"value";var u={};e&&e.length?(r=t(o,e),a=r.get()):a=o,e=e||"";var d={};if(a)for(i=0;i<a.length;i++)d[a[i][n]]=i;var p=s.test(l),m={set:function(M,w){var b=w===null?4:0;if(!a){if(!r||b===4)return;a=[],r.set(a)}var v=d[M];if(v===void 0){if(b===4)return;b|=3,v=a.length,d[M]=v}else w!==(p?a[v][l]:t(a[v],l).get())&&(b|=2);var h=a[v]=a[v]||{};return h[n]=M,p?h[l]=w:t(h,l).set(w),w!==null&&(b&=-5),u[v]=u[v]|b,m},get:function(M){if(a){var w=d[M];return w===void 0?void 0:p?a[w][l]:t(a[w],l).get()}},rename:function(M,w){var b=d[M];return b===void 0||(u[b]=1|u[b],d[w]=b,delete d[M],a[b][n]=w),m},remove:function(M){var w=d[M];if(w===void 0)return m;var b=a[w];if(Object.keys(b).length>2)return u[w]=2|u[w],m.set(M,null);if(p){for(i=w;i<a.length;i++)u[i]=3|u[i];for(i=w;i<a.length;i++)d[a[i][n]]--;a.splice(w,1),delete d[M]}else t(b,l).set(null),u[w]=6|u[w];return m},constructUpdate:function(){for(var M,w,b={},v=Object.keys(u),h=0;h<v.length;h++)w=v[h],M=e+"["+w+"]",a[w]?(1&u[w]&&(b[M+"."+n]=a[w][n]),2&u[w]&&(b[M+"."+l]=p?4&u[w]?null:a[w][l]:4&u[w]?null:t(a[w],l).get())):b[M]=null;return b}};return m}},{"./nested_property":240}],235:[function(c,J,N){var t=c("../registry");J.exports=function(s,o){for(var e=s._context.locale,n=0;n<2;n++){for(var l=s._context.locales,i=0;i<2;i++){var a=(l[e]||{}).dictionary;if(a){var r=a[o];if(r)return r}l=t.localeRegistry}var u=e.split("-")[0];if(u===e)break;e=u}return o}},{"../registry":316}],236:[function(c,J,N){var t=c("../plot_api/plot_config").dfltConfig,s=c("./notifier"),o=J.exports={};o.log=function(){var e;if(t.logging>1){var n=["LOG:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.trace.apply(console,n)}if(t.notifyOnLogging>1){var l=[];for(e=0;e<arguments.length;e++)l.push(arguments[e]);s(l.join("<br>"),"long")}},o.warn=function(){var e;if(t.logging>0){var n=["WARN:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.trace.apply(console,n)}if(t.notifyOnLogging>0){var l=[];for(e=0;e<arguments.length;e++)l.push(arguments[e]);s(l.join("<br>"),"stick")}},o.error=function(){var e;if(t.logging>0){var n=["ERROR:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);console.error.apply(console,n)}if(t.notifyOnLogging>0){var l=[];for(e=0;e<arguments.length;e++)l.push(arguments[e]);s(l.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(c,J,N){var t=c("@plotly/d3");J.exports=function(s,o,e){var n=s.selectAll("g."+e.replace(/\s/g,".")).data(o,function(i){return i[0].trace.uid});n.exit().remove(),n.enter().append("g").attr("class",e),n.order();var l=s.classed("rangeplot")?"nodeRangePlot3":"node3";return n.each(function(i){i[0][l]=t.select(this)}),n}},{"@plotly/d3":11}],238:[function(c,J,N){var t=c("gl-mat4");N.init2dArray=function(s,o){for(var e=new Array(s),n=0;n<s;n++)e[n]=new Array(o);return e},N.transposeRagged=function(s){var o,e,n=0,l=s.length;for(o=0;o<l;o++)n=Math.max(n,s[o].length);var i=new Array(n);for(o=0;o<n;o++)for(i[o]=new Array(l),e=0;e<l;e++)i[o][e]=s[e][o];return i},N.dot=function(s,o){if(!s.length||!o.length||s.length!==o.length)return null;var e,n,l=s.length;if(s[0].length)for(e=new Array(l),n=0;n<l;n++)e[n]=N.dot(s[n],o);else if(o[0].length){var i=N.transposeRagged(o);for(e=new Array(i.length),n=0;n<i.length;n++)e[n]=N.dot(s,i[n])}else for(e=0,n=0;n<l;n++)e+=s[n]*o[n];return e},N.translationMatrix=function(s,o){return[[1,0,s],[0,1,o],[0,0,1]]},N.rotationMatrix=function(s){var o=s*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},N.rotationXYMatrix=function(s,o,e){return N.dot(N.dot(N.translationMatrix(o,e),N.rotationMatrix(s)),N.translationMatrix(-o,-e))},N.apply3DTransform=function(s){return function(){var o=arguments,e=arguments.length===1?o[0]:[o[0],o[1],o[2]||0];return N.dot(s,[e[0],e[1],e[2],1]).slice(0,3)}},N.apply2DTransform=function(s){return function(){var o=arguments;o.length===3&&(o=o[0]);var e=arguments.length===1?o[0]:[o[0],o[1]];return N.dot(s,[e[0],e[1],1]).slice(0,2)}},N.apply2DTransform2=function(s){var o=N.apply2DTransform(s);return function(e){return o(e.slice(0,2)).concat(o(e.slice(2,4)))}},N.convertCssMatrix=function(s){if(s){var o=s.length;if(o===16)return s;if(o===6)return[s[0],s[1],0,0,s[2],s[3],0,0,0,0,1,0,s[4],s[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},N.inverseTransformMatrix=function(s){var o=[];return t.invert(o,s),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},{"gl-mat4":33}],239:[function(c,J,N){J.exports={mod:function(t,s){var o=t%s;return o<0?o+s:o},modHalf:function(t,s){return Math.abs(t)>s/2?t-Math.round(t/s)*s:t}}},{}],240:[function(c,J,N){var t=c("fast-isnumeric"),s=c("./array").isArrayOrTypedArray;function o(u,d){return function(){var p,m,M,w,b,v=u;for(w=0;w<d.length-1;w++){if((p=d[w])===-1){for(m=!0,M=[],b=0;b<v.length;b++)M[b]=o(v[b],d.slice(w+1))(),M[b]!==M[0]&&(m=!1);return m?M[0]:M}if(typeof p=="number"&&!s(v)||typeof(v=v[p])!="object"||v===null)return}if(typeof v=="object"&&v!==null&&(M=v[d[w]])!==null)return M}}J.exports=function(u,d){if(t(d))d=String(d);else if(typeof d!="string"||d.substr(d.length-4)==="[-1]")throw"bad property string";for(var p,m,M,w=0,b=d.split(".");w<b.length;){if(p=String(b[w]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(p[1])b[w]=p[1];else{if(w!==0)throw"bad property string";b.splice(0,1)}for(m=p[2].substr(1,p[2].length-2).split("]["),M=0;M<m.length;M++)w++,b.splice(w,0,Number(m[M]))}w++}return typeof u!="object"?function(v,h,A){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:A,obj:v}}(u,d,b):{set:l(u,b,d),get:o(u,b),astr:d,parts:b,obj:u}};var e=/(^|\.)args\[/;function n(u,d){return u===void 0||u===null&&!d.match(e)}function l(u,d,p){return function(m){var M,w,b=u,v="",h=n(m,p);for(w=0;w<d.length-1;w++){if(typeof(M=d[w])=="number"&&!s(b))throw"array index but container is not an array";if(M===-1){if(h=!a(b,d.slice(w+1),m,p))break;return}if(!r(b,M,d[w+1],h))break;if(typeof(b=b[M])!="object"||b===null)throw"container is not an object";v=i(v,M)}if(h){if(w===d.length-1&&(delete b[d[w]],Array.isArray(b)&&+d[w]==b.length-1))for(;b.length&&b[b.length-1]===void 0;)b.pop()}else b[d[w]]=m}}function i(u,d){var p=d;return t(d)?p="["+d+"]":u&&(p="."+d),u+p}function a(u,d,p,m){var M,w=s(p),b=!0,v=p,h=m.replace("-1",0),A=!w&&n(p,h),y=d[0];for(M=0;M<u.length;M++)h=m.replace("-1",M),w&&(A=n(v=p[M%p.length],h)),A&&(b=!1),r(u,M,y,A)&&l(u[M],d,m.replace("-1",M))(v);return b}function r(u,d,p,m){if(u[d]===void 0){if(m)return!1;u[d]=typeof p=="number"?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(c,J,N){J.exports=function(){}},{}],242:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=[];J.exports=function(e,n){if(o.indexOf(e)===-1){o.push(e);var l=1e3;s(n)?l=n:n==="long"&&(l=3e3);var i=t.select("body").selectAll(".plotly-notifier").data([0]);i.enter().append("div").classed("plotly-notifier",!0),i.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(r){var u=t.select(this);u.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){u.transition().call(a)});for(var d=u.append("p"),p=r.split(/<br\s*\/?>/g),m=0;m<p.length;m++)m&&d.append("br"),d.append("span").text(p[m]);n==="stick"?u.transition().duration(350).style("opacity",1):u.transition().duration(700).style("opacity",1).transition().delay(l).call(a)})}function a(r){r.duration(700).style("opacity",0).each("end",function(u){var d=o.indexOf(u);d!==-1&&o.splice(d,1),t.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(c,J,N){var t=c("./setcursor"),s="data-savedcursor";J.exports=function(o,e){var n=o.attr(s);if(e){if(!n){for(var l=(o.attr("class")||"").split(" "),i=0;i<l.length;i++){var a=l[i];a.indexOf("cursor-")===0&&o.attr(s,a.substr(7)).classed(a,!1)}o.attr(s)||o.attr(s,"!!")}t(o,e)}else n&&(o.attr(s,null),n==="!!"?t(o):t(o,n))}},{"./setcursor":252}],244:[function(c,J,N){var t=c("./matrix").dot,s=c("../constants/numerical").BADNUM,o=J.exports={};o.tester=function(e){var n,l=e.slice(),i=l[0][0],a=i,r=l[0][1],u=r;for(l.push(l[0]),n=1;n<l.length;n++)i=Math.min(i,l[n][0]),a=Math.max(a,l[n][0]),r=Math.min(r,l[n][1]),u=Math.max(u,l[n][1]);var d,p=!1;l.length===5&&(l[0][0]===l[1][0]?l[2][0]===l[3][0]&&l[0][1]===l[3][1]&&l[1][1]===l[2][1]&&(p=!0,d=function(w){return w[0]===l[0][0]}):l[0][1]===l[1][1]&&l[2][1]===l[3][1]&&l[0][0]===l[3][0]&&l[1][0]===l[2][0]&&(p=!0,d=function(w){return w[1]===l[0][1]}));var m=!0,M=l[0];for(n=1;n<l.length;n++)if(M[0]!==l[n][0]||M[1]!==l[n][1]){m=!1;break}return{xmin:i,xmax:a,ymin:r,ymax:u,pts:l,contains:p?function(w,b){var v=w[0],h=w[1];return!(v===s||v<i||v>a||h===s||h<r||h>u)&&(!b||!d(w))}:function(w,b){var v=w[0],h=w[1];if(v===s||v<i||v>a||h===s||h<r||h>u)return!1;var A,y,T,k,x,D=l.length,z=l[0][0],g=l[0][1],R=0;for(A=1;A<D;A++)if(y=z,T=g,z=l[A][0],g=l[A][1],!(v<(k=Math.min(y,z))||v>Math.max(y,z)||h>Math.max(T,g)))if(h<Math.min(T,g))v!==k&&R++;else{if(h===(x=z===y?h:T+(v-y)*(g-T)/(z-y)))return A!==1||!b;h<=x&&v!==k&&R++}return R%2==1},isRect:p,degenerate:m}},o.isSegmentBent=function(e,n,l,i){var a,r,u,d=e[n],p=[e[l][0]-d[0],e[l][1]-d[1]],m=t(p,p),M=Math.sqrt(m),w=[-p[1]/M,p[0]/M];for(a=n+1;a<l;a++)if(r=[e[a][0]-d[0],e[a][1]-d[1]],(u=t(r,p))<0||u>m||Math.abs(t(r,w))>i)return!0;return!1},o.filter=function(e,n){var l=[e[0]],i=0,a=0;function r(u){e.push(u);var d=l.length,p=i;l.splice(a+1);for(var m=p+1;m<e.length;m++)(m===e.length-1||o.isSegmentBent(e,p,m+1,n))&&(l.push(e[m]),l.length<d-2&&(i=m,a=l.length-1),p=m)}return e.length>1&&r(e.pop()),{addPt:r,raw:e,filtered:l}}},{"../constants/numerical":212,"./matrix":238}],245:[function(c,J,N){var t=c("fast-isnumeric"),s=c("is-mobile");J.exports=function(o){var e;if(typeof(e=o&&o.hasOwnProperty("userAgent")?o.userAgent:function(){var d;return typeof navigator<"u"&&(d=navigator.userAgent),d&&d.headers&&typeof d.headers["user-agent"]=="string"&&(d=d.headers["user-agent"]),d}())!="string")return!0;var n=s({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!n){for(var l=e.split(" "),i=1;i<l.length;i++)if(l[i].indexOf("Safari")!==-1)for(var a=i-1;a>-1;a--){var r=l[a];if(r.substr(0,8)==="Version/"){var u=r.substr(8).split(".")[0];if(t(u)&&(u=+u),u>=13)return!0}}}return n}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(c,J,N){J.exports=function(t,s){if(s instanceof RegExp){for(var o=s.toString(),e=0;e<t.length;e++)if(t[e]instanceof RegExp&&t[e].toString()===o)return t;t.push(s)}else!s&&s!==0||t.indexOf(s)!==-1||t.push(s);return t}},{}],247:[function(c,J,N){var t=c("../lib"),s=c("../plot_api/plot_config").dfltConfig,o={add:function(e,n,l,i,a){var r,u;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},u=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(r={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(u,e.undoQueue.queue.length-u,r),e.undoQueue.index+=1):r=e.undoQueue.queue[u-1],e.undoQueue.beginSequence=!1,r&&(r.undo.calls.unshift(n),r.undo.args.unshift(l),r.redo.calls.push(i),r.redo.args.push(a)),e.undoQueue.queue.length>s.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var n,l;if(!(e.undoQueue===void 0||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,l=0;l<n.undo.calls.length;l++)o.plotDo(e,n.undo.calls[l],n.undo.args[l]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var n,l;if(!(e.undoQueue===void 0||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,l=0;l<n.redo.calls.length;l++)o.plotDo(e,n.redo.calls[l],n.redo.args[l]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}}};o.plotDo=function(e,n,l){e.autoplay=!0,l=function(i,a){for(var r,u=[],d=0;d<a.length;d++)r=a[d],u[d]=r===i?r:typeof r=="object"?Array.isArray(r)?t.extendDeep([],r):t.extendDeepAll({},r):r;return u}(e,l),n.apply(null,l)},J.exports=o},{"../lib":232,"../plot_api/plot_config":266}],248:[function(c,J,N){N.counter=function(t,s,o,e){var n=(s||"")+(o?"":"$"),l=e===!1?"":"^";return t==="xy"?new RegExp(l+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(l+t+"([2-9]|[1-9][0-9]+)?"+n)}},{}],249:[function(c,J,N){var t=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,s=/^[^\.\[\]]+$/;J.exports=function(o,e){for(;e;){var n=o.match(t);if(n)o=n[1];else{if(!o.match(s))throw new Error("bad relativeAttr call:"+[o,e]);o=""}if(e.charAt(0)!=="^")break;e=e.slice(1)}return o&&e.charAt(0)!=="["?o+"."+e:o+e}},{}],250:[function(c,J,N){var t=c("./array").isArrayOrTypedArray,s=c("./is_plain_object");J.exports=function o(e,n){for(var l in n){var i=n[l],a=e[l];if(a!==i)if(l.charAt(0)==="_"||typeof i=="function"){if(l in e)continue;e[l]=i}else if(t(i)&&t(a)&&s(i[0])){if(l==="customdata"||l==="ids")continue;for(var r=Math.min(i.length,a.length),u=0;u<r;u++)a[u]!==i[u]&&s(i[u])&&s(a[u])&&o(a[u],i[u])}else s(i)&&s(a)&&(o(a,i),Object.keys(a).length||delete e[l])}}},{"./array":218,"./is_plain_object":233}],251:[function(c,J,N){var t=c("fast-isnumeric"),s=c("./loggers"),o=c("./identity"),e=c("../constants/numerical").BADNUM;function n(r,u){return r<u}function l(r,u){return r<=u}function i(r,u){return r>u}function a(r,u){return r>=u}N.findBin=function(r,u,d){if(t(u.start))return d?Math.ceil((r-u.start)/u.size-1e-9)-1:Math.floor((r-u.start)/u.size+1e-9);var p,m,M=0,w=u.length,b=0,v=w>1?(u[w-1]-u[0])/(w-1):1;for(m=v>=0?d?n:l:d?a:i,r+=1e-9*v*(d?-1:1)*(v>=0?1:-1);M<w&&b++<100;)m(u[p=Math.floor((M+w)/2)],r)?M=p+1:w=p;return b>90&&s.log("Long binary search..."),M-1},N.sorterAsc=function(r,u){return r-u},N.sorterDes=function(r,u){return u-r},N.distinctVals=function(r){var u,d=r.slice();for(d.sort(N.sorterAsc),u=d.length-1;u>-1&&d[u]===e;u--);for(var p,m=d[u]-d[0]||1,M=m/(u||1)/1e4,w=[],b=0;b<=u;b++){var v=d[b],h=v-p;p===void 0?(w.push(v),p=v):h>M&&(m=Math.min(m,h),w.push(v),p=v)}return{vals:w,minDiff:m}},N.roundUp=function(r,u,d){for(var p,m=0,M=u.length-1,w=0,b=d?0:1,v=d?1:0,h=d?Math.ceil:Math.floor;m<M&&w++<100;)u[p=h((m+M)/2)]<=r?m=p+b:M=p-v;return u[m]},N.sort=function(r,u){for(var d=0,p=0,m=1;m<r.length;m++){var M=u(r[m],r[m-1]);if(M<0?d=1:M>0&&(p=1),d&&p)return r.sort(u)}return p?r:r.reverse()},N.findIndexOfMin=function(r,u){u=u||o;for(var d,p=1/0,m=0;m<r.length;m++){var M=u(r[m]);M<p&&(p=M,d=m)}return d}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(c,J,N){J.exports=function(t,s){(t.attr("class")||"").split(" ").forEach(function(o){o.indexOf("cursor-")===0&&t.classed(o,!1)}),s&&t.classed("cursor-"+s,!0)}},{}],253:[function(c,J,N){J.exports=function(t){return Object.keys(t).sort()}},{}],254:[function(c,J,N){var t=c("fast-isnumeric"),s=c("./array").isArrayOrTypedArray;N.aggNums=function(o,e,n,l){var i,a;if((!l||l>n.length)&&(l=n.length),t(e)||(e=!1),s(n[0])){for(a=new Array(l),i=0;i<l;i++)a[i]=N.aggNums(o,e,n[i]);n=a}for(i=0;i<l;i++)t(e)?t(n[i])&&(e=o(+e,+n[i])):e=n[i];return e},N.len=function(o){return N.aggNums(function(e){return e+1},0,o)},N.mean=function(o,e){return e||(e=N.len(o)),N.aggNums(function(n,l){return n+l},0,o)/e},N.midRange=function(o){if(o!==void 0&&o.length!==0)return(N.aggNums(Math.max,null,o)+N.aggNums(Math.min,null,o))/2},N.variance=function(o,e,n){return e||(e=N.len(o)),t(n)||(n=N.mean(o,e)),N.aggNums(function(l,i){return l+Math.pow(i-n,2)},0,o)/e},N.stdev=function(o,e,n){return Math.sqrt(N.variance(o,e,n))},N.median=function(o){var e=o.slice().sort();return N.interp(e,.5)},N.interp=function(o,e){if(!t(e))throw"n should be a finite number";if((e=e*o.length-.5)<0)return o[0];if(e>o.length-1)return o[o.length-1];var n=e%1;return n*o[Math.ceil(e)]+(1-n)*o[Math.floor(e)]}},{"./array":218,"fast-isnumeric":17}],255:[function(c,J,N){var t=c("@plotly/d3"),s=c("../lib"),o=s.strTranslate,e=c("../constants/xmlns_namespaces"),n=c("../constants/alignment").LINE_SPACING;function l(j,Y){return j.node().getBoundingClientRect()[Y]}var i=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;N.convertToTspans=function(j,Y,B){var $=j.text(),rt=!j.attr("data-notex")&&typeof MathJax<"u"&&$.match(i),q=t.select(j.node().parentNode);if(!q.empty()){var H=j.attr("class")?j.attr("class").split(" ")[0]:"text";return H+="-math",q.selectAll("svg."+H).remove(),q.selectAll("g."+H+"-group").remove(),j.style("display",null).attr({"data-unformatted":$,"data-math":"N"}),rt?(Y&&Y._promises||[]).push(new Promise(function(F){j.style("display","none");var L=parseInt(j.node().style.fontSize,10),X={fontSize:L};(function(E,Z,S){var U,P,G,Q;MathJax.Hub.Queue(function(){return P=s.extendDeepAll({},MathJax.Hub.config),G=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})},function(){if((U=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},function(){var et="math-output-"+s.randstr({},64);return Q=t.select("body").append("div").attr({id:et}).style({visibility:"hidden",position:"absolute"}).style({"font-size":Z.fontSize+"px"}).text(E.replace(a,"\\lt ").replace(r,"\\gt ")),MathJax.Hub.Typeset(Q.node())},function(){var et=t.select("body").select("#MathJax_SVG_glyphs");if(Q.select(".MathJax_SVG").empty()||!Q.select("svg").node())s.log("There was an error in the tex syntax.",E),S();else{var tt=Q.select("svg").node().getBoundingClientRect();S(Q.select(".MathJax_SVG"),et,tt)}if(Q.remove(),U!=="SVG")return MathJax.Hub.setRenderer(U)},function(){return G!==void 0&&(MathJax.Hub.processSectionDelay=G),MathJax.Hub.Config(P)})})(rt[2],X,function(E,Z,S){q.selectAll("svg."+H).remove(),q.selectAll("g."+H+"-group").remove();var U=E&&E.select("svg");if(!U||!U.node())return C(),void F();var P=q.append("g").classed(H+"-group",!0).attr({"pointer-events":"none","data-unformatted":$,"data-math":"Y"});P.node().appendChild(U.node()),Z&&Z.node()&&U.node().insertBefore(Z.node().cloneNode(!0),U.node().firstChild),U.attr({class:H,height:S.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var G=j.node().style.fill||"black",Q=U.select("g");Q.attr({fill:G,stroke:G});var et=l(Q,"width"),tt=l(Q,"height"),lt=+j.attr("x")-et*{start:0,middle:.5,end:1}[j.attr("text-anchor")||"start"],ct=-(L||l(j,"height"))/4;H[0]==="y"?(P.attr({transform:"rotate("+[-90,+j.attr("x"),+j.attr("y")]+")"+o(-et/2,ct-tt/2)}),U.attr({x:+j.attr("x"),y:+j.attr("y")})):H[0]==="l"?U.attr({x:j.attr("x"),y:ct-tt/2}):H[0]==="a"&&H.indexOf("atitle")!==0?U.attr({x:0,y:ct}):U.attr({x:lt,y:+j.attr("y")+ct-tt/2}),B&&B.call(j,P),F(P)})})):C(),j}function C(){q.empty()||(H=j.attr("class")+"-math",q.select("svg."+H).remove()),j.text("").style("white-space","pre"),function(F,L){L=L.replace(M," ");var X,E=!1,Z=[],S=-1;function U(){S++;var ot=document.createElementNS(e.svg,"tspan");t.select(ot).attr({class:"line",dy:S*n+"em"}),F.appendChild(ot),X=ot;var nt=Z;if(Z=[{node:ot}],nt.length>1)for(var ut=1;ut<nt.length;ut++)P(nt[ut])}function P(ot){var nt,ut=ot.type,ht={};if(ut==="a"){nt="a";var Dt=ot.target,Tt=ot.href,xt=ot.popup;Tt&&(ht={"xlink:xlink:show":Dt==="_blank"||Dt.charAt(0)!=="_"?"new":"replace",target:Dt,"xlink:xlink:href":Tt},xt&&(ht.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+xt+'");return false;'))}else nt="tspan";ot.style&&(ht.style=ot.style);var Ot=document.createElementNS(e.svg,nt);if(ut==="sup"||ut==="sub"){G(X,"​"),X.appendChild(Ot);var It=document.createElementNS(e.svg,"tspan");G(It,"​"),t.select(It).attr("dy",p[ut]),ht.dy=d[ut],X.appendChild(Ot),X.appendChild(It)}else X.appendChild(Ot);t.select(Ot).attr(ht),X=ot.node=Ot,Z.push(ot)}function G(ot,nt){ot.appendChild(document.createTextNode(nt))}function Q(ot){if(Z.length!==1){var nt=Z.pop();ot!==nt.type&&s.log("Start tag <"+nt.type+"> doesnt match end tag <"+ot+">. Pretending it did match.",L),X=Z[Z.length-1].node}else s.log("Ignoring unexpected end tag </"+ot+">.",L)}v.test(L)?U():(X=F,Z=[{node:F}]);for(var et=L.split(w),tt=0;tt<et.length;tt++){var lt=et[tt],ct=lt.match(b),mt=ct&&ct[2].toLowerCase(),Mt=u[mt];if(mt==="br")U();else if(Mt===void 0)G(X,g(lt));else if(ct[1])Q(mt);else{var St=ct[4],_t={type:mt},Yt=k(St,h);if(Yt?(Yt=Yt.replace(x,"$1 fill:"),Mt&&(Yt+=";"+Mt)):Mt&&(Yt=Mt),Yt&&(_t.style=Yt),mt==="a"){E=!0;var Et=k(St,A);if(Et){var gt=R(Et);gt&&(_t.href=gt,_t.target=k(St,y)||"_blank",_t.popup=k(St,T))}}P(_t)}}return E}(j.node(),$)&&j.style("pointer-events","all"),N.positionText(j),B&&B.call(j)}};var a=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g,u={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},p={sub:"-0.21em",sup:"0.42em"},m=["http:","https:","mailto:","",void 0,":"],M=N.NEWLINES=/(\r\n?|\n)/g,w=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;N.BR_TAG_ALL=/<br(\s+.*)?>/gi;var h=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,T=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function k(j,Y){if(!j)return null;var B=j.match(Y),$=B&&(B[3]||B[4]);return $&&g($)}var x=/(^|;)\s*color:/;N.plainText=function(j,Y){for(var B=(Y=Y||{}).len!==void 0&&Y.len!==-1?Y.len:1/0,$=Y.allowedTags!==void 0?Y.allowedTags:["br"],rt=3,q=j.split(w),H=[],C="",F=0,L=0;L<q.length;L++){var X=q[L],E=X.match(b),Z=E&&E[2].toLowerCase();if(Z)$.indexOf(Z)!==-1&&(H.push(X),C=Z);else{var S=X.length;if(F+S<B)H.push(X),F+=S;else if(F<B){var U=B-F;C&&(C!=="br"||U<=rt||S<=rt)&&H.pop(),B>rt?H.push(X.substr(0,U-rt)+"..."):H.push(X.substr(0,U));break}C=""}}return H.join("")};var D={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},z=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function g(j){return j.replace(z,function(Y,B){return(B.charAt(0)==="#"?function($){if(!($>1114111)){var rt=String.fromCodePoint;if(rt)return rt($);var q=String.fromCharCode;return $<=65535?q($):q(55232+($>>10),$%1024+56320)}}(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):D[B])||Y})}function R(j){var Y=encodeURI(decodeURI(j)),B=document.createElement("a"),$=document.createElement("a");B.href=j,$.href=Y;var rt=B.protocol,q=$.protocol;return m.indexOf(rt)!==-1&&m.indexOf(q)!==-1?Y:""}function I(j,Y,B){var $,rt,q,H=B.horizontalAlign,C=B.verticalAlign||"top",F=j.node().getBoundingClientRect(),L=Y.node().getBoundingClientRect();return rt=C==="bottom"?function(){return F.bottom-$.height}:C==="middle"?function(){return F.top+(F.height-$.height)/2}:function(){return F.top},q=H==="right"?function(){return F.right-$.width}:H==="center"?function(){return F.left+(F.width-$.width)/2}:function(){return F.left},function(){$=this.node().getBoundingClientRect();var X=q()-L.left,E=rt()-L.top,Z=B.gd||{};if(B.gd){Z._fullLayout._calcInverseTransform(Z);var S=s.apply3DTransform(Z._fullLayout._invTransform)(X,E);X=S[0],E=S[1]}return this.style({top:E+"px",left:X+"px","z-index":1e3}),this}}N.convertEntities=g,N.sanitizeHTML=function(j){j=j.replace(M," ");for(var Y=document.createElement("p"),B=Y,$=[],rt=j.split(w),q=0;q<rt.length;q++){var H=rt[q],C=H.match(b),F=C&&C[2].toLowerCase();if(F in u)if(C[1])$.length&&(B=$.pop());else{var L=C[4],X=k(L,h),E=X?{style:X}:{};if(F==="a"){var Z=k(L,A);if(Z){var S=R(Z);if(S){E.href=S;var U=k(L,y);U&&(E.target=U)}}}var P=document.createElement(F);B.appendChild(P),t.select(P).attr(E),B=P,$.push(P)}else B.appendChild(document.createTextNode(g(H)))}return Y.innerHTML},N.lineCount=function(j){return j.selectAll("tspan.line").size()||1},N.positionText=function(j,Y,B){return j.each(function(){var $=t.select(this);function rt(C,F){return F===void 0?(F=$.attr(C))===null&&($.attr(C,0),F=0):$.attr(C,F),F}var q=rt("x",Y),H=rt("y",B);this.nodeName==="text"&&$.selectAll("tspan.line").attr({x:q,y:H})})},N.makeTextShadow=function(j){var Y="1px ",B="1px ",$="1px ";return Y+B+$+j+", -"+Y+"-"+B+$+j+", "+Y+"-"+B+$+j+", -"+Y+B+$+j},N.makeEditable=function(j,Y){var B=Y.gd,$=Y.delegate,rt=t.dispatch("edit","input","cancel"),q=$||j;if(j.style({"pointer-events":$?"none":"all"}),j.size()!==1)throw new Error("boo");function H(){(function(){var X=t.select(B).select(".svg-container"),E=X.append("div"),Z=j.node().style,S=parseFloat(Z.fontSize||12),U=Y.text;U===void 0&&(U=j.attr("data-unformatted")),E.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Z.fontFamily||"Arial","font-size":S,color:Y.fill||Z.fill||"black",opacity:1,"background-color":Y.background||"transparent",outline:"#ffffff33 1px solid",margin:[-S/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(U).call(I(j,X,Y)).on("blur",function(){B._editing=!1,j.text(this.textContent).style({opacity:1});var P,G=t.select(this).attr("class");(P=G?"."+G.split(" ")[0]+"-math-group":"[class*=-math-group]")&&t.select(j.node().parentNode).select(P).style({opacity:0});var Q=this.textContent;t.select(this).transition().duration(0).remove(),t.select(document).on("mouseup",null),rt.edit.call(j,Q)}).on("focus",function(){var P=this;B._editing=!0,t.select(document).on("mouseup",function(){if(t.event.target===P)return!1;document.activeElement===E.node()&&E.node().blur()})}).on("keyup",function(){t.event.which===27?(B._editing=!1,j.style({opacity:1}),t.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),rt.cancel.call(j,this.textContent)):(rt.input.call(j,this.textContent),t.select(this).call(I(j,X,Y)))}).on("keydown",function(){t.event.which===13&&this.blur()}).call(C)})(),j.style({opacity:0});var F,L=q.attr("class");(F=L?"."+L.split(" ")[0]+"-math-group":"[class*=-math-group]")&&t.select(j.node().parentNode).select(F).style({opacity:0})}function C(F){var L=F.node(),X=document.createRange();X.selectNodeContents(L);var E=window.getSelection();E.removeAllRanges(),E.addRange(X),L.focus()}return Y.immediate?H():q.on("click",H),t.rebind(j,rt,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(c,J,N){var t={};function s(o){o&&o.timer!==null&&(clearTimeout(o.timer),o.timer=null)}N.throttle=function(o,e,n){var l=t[o],i=Date.now();if(!l){for(var a in t)t[a].ts<i-6e4&&delete t[a];l=t[o]={ts:0,timer:null}}function r(){n(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}s(l),i>l.ts+e?r():l.timer=setTimeout(function(){r(),l.timer=null},e)},N.done=function(o){var e=t[o];return e&&e.timer?new Promise(function(n){var l=e.onDone;e.onDone=function(){l&&l(),n(),e.onDone=null}}):Promise.resolve()},N.clear=function(o){if(o)s(t[o]),delete t[o];else for(var e in t)N.clear(e)}},{}],257:[function(c,J,N){var t=c("fast-isnumeric");J.exports=function(s,o){if(s>0)return Math.log(s)/Math.LN10;var e=Math.log(Math.min(o[0],o[1]))/Math.LN10;return t(e)||(e=Math.log(Math.max(o[0],o[1]))/Math.LN10-6),e}},{"fast-isnumeric":17}],258:[function(c,J,N){J.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(c,J,N){J.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(c,J,N){var t=c("../registry");J.exports=function(s){for(var o,e,n=t.layoutArrayContainers,l=t.layoutArrayRegexes,i=s.split("[")[0],a=0;a<l.length;a++)if((e=s.match(l[a]))&&e.index===0){o=e[0];break}if(o||(o=n[n.indexOf(i)]),!o)return!1;var r=s.substr(o.length);return r?!!(e=r.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:o,index:Number(e[1]),property:e[3]||""}:{array:o,index:"",property:""}}},{"../registry":316}],261:[function(c,J,N){var t=c("../lib"),s=t.extendFlat,o=t.isPlainObject,e={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},n={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=e.flags.slice().concat(["fullReplot"]),i=n.flags.slice().concat("layoutReplot");function a(d){for(var p={},m=0;m<d.length;m++)p[d[m]]=!1;return p}function r(d,p,m){var M=s({},d);for(var w in M){var b=M[w];o(b)&&(M[w]=u(b,p,m,w))}return m==="from-root"&&(M.editType=p),M}function u(d,p,m,M){if(d.valType){var w=s({},d);if(w.editType=p,Array.isArray(d.items)){w.items=new Array(d.items.length);for(var b=0;b<d.items.length;b++)w.items[b]=u(d.items[b],p)}return w}return r(d,p,M.charAt(0)==="_"?"nested":"from-root")}J.exports={traces:e,layout:n,traceFlags:function(){return a(l)},layoutFlags:function(){return a(i)},update:function(d,p){var m=p.editType;if(m&&m!=="none")for(var M=m.split("+"),w=0;w<M.length;w++)d[M[w]]=!0},overrideAll:r}},{"../lib":232}],262:[function(c,J,N){var t=c("fast-isnumeric"),s=c("gl-mat4/fromQuat"),o=c("../registry"),e=c("../lib"),n=c("../plots/plots"),l=c("../plots/cartesian/axis_ids"),i=c("../components/color"),a=l.cleanId,r=l.getFromTrace,u=o.traceIs;function d(y,T){var k=y[T],x=T.charAt(0);k&&k!=="paper"&&(y[T]=a(k,x,!0))}function p(y){function T(k,x){var D=y[k],z=y.title&&y.title[x];D&&!z&&(y.title||(y.title={}),y.title[x]=y[k],delete y[k])}y&&(typeof y.title!="string"&&typeof y.title!="number"||(y.title={text:y.title}),T("titlefont","font"),T("titleposition","position"),T("titleside","side"),T("titleoffset","offset"))}function m(y){if(!e.isPlainObject(y))return!1;var T=y.name;return delete y.name,delete y.showlegend,(typeof T=="string"||typeof T=="number")&&String(T)}function M(y,T,k,x){if(k&&!x)return y;if(x&&!k||!y.trim())return T;if(!T.trim())return y;var D,z=Math.min(y.length,T.length);for(D=0;D<z&&y.charAt(D)===T.charAt(D);D++);return y.substr(0,D).trim()}function w(y){var T="middle",k="center";return typeof y=="string"&&(y.indexOf("top")!==-1?T="top":y.indexOf("bottom")!==-1&&(T="bottom"),y.indexOf("left")!==-1?k="left":y.indexOf("right")!==-1&&(k="right")),T+" "+k}function b(y,T){return T in y&&typeof y[T]=="object"&&Object.keys(y[T]).length===0}N.clearPromiseQueue=function(y){Array.isArray(y._promises)&&y._promises.length>0&&e.log("Clearing previous rejected promises from queue."),y._promises=[]},N.cleanLayout=function(y){var T,k;y||(y={}),y.xaxis1&&(y.xaxis||(y.xaxis=y.xaxis1),delete y.xaxis1),y.yaxis1&&(y.yaxis||(y.yaxis=y.yaxis1),delete y.yaxis1),y.scene1&&(y.scene||(y.scene=y.scene1),delete y.scene1);var x=(n.subplotsRegistry.cartesian||{}).attrRegex,D=(n.subplotsRegistry.polar||{}).attrRegex,z=(n.subplotsRegistry.ternary||{}).attrRegex,g=(n.subplotsRegistry.gl3d||{}).attrRegex,R=Object.keys(y);for(T=0;T<R.length;T++){var I=R[T];if(x&&x.test(I)){var j=y[I];j.anchor&&j.anchor!=="free"&&(j.anchor=a(j.anchor)),j.overlaying&&(j.overlaying=a(j.overlaying)),j.type||(j.isdate?j.type="date":j.islog?j.type="log":j.isdate===!1&&j.islog===!1&&(j.type="linear")),j.autorange!=="withzero"&&j.autorange!=="tozero"||(j.autorange=!0,j.rangemode="tozero"),delete j.islog,delete j.isdate,delete j.categories,b(j,"domain")&&delete j.domain,j.autotick!==void 0&&(j.tickmode===void 0&&(j.tickmode=j.autotick?"auto":"linear"),delete j.autotick),p(j)}else if(D&&D.test(I))p(y[I].radialaxis);else if(z&&z.test(I)){var Y=y[I];p(Y.aaxis),p(Y.baxis),p(Y.caxis)}else if(g&&g.test(I)){var B=y[I],$=B.cameraposition;if(Array.isArray($)&&$[0].length===4){var rt=$[0],q=$[1],H=$[2],C=s([],rt),F=[];for(k=0;k<3;++k)F[k]=q[k]+H*C[2+4*k];B.camera={eye:{x:F[0],y:F[1],z:F[2]},center:{x:q[0],y:q[1],z:q[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}p(B.xaxis),p(B.yaxis),p(B.zaxis)}}var L=Array.isArray(y.annotations)?y.annotations.length:0;for(T=0;T<L;T++){var X=y.annotations[T];e.isPlainObject(X)&&(X.ref&&(X.ref==="paper"?(X.xref="paper",X.yref="paper"):X.ref==="data"&&(X.xref="x",X.yref="y"),delete X.ref),d(X,"xref"),d(X,"yref"))}var E=Array.isArray(y.shapes)?y.shapes.length:0;for(T=0;T<E;T++){var Z=y.shapes[T];e.isPlainObject(Z)&&(d(Z,"xref"),d(Z,"yref"))}var S=Array.isArray(y.images)?y.images.length:0;for(T=0;T<S;T++){var U=y.images[T];e.isPlainObject(U)&&(d(U,"xref"),d(U,"yref"))}var P=y.legend;return P&&(P.x>3?(P.x=1.02,P.xanchor="left"):P.x<-2&&(P.x=-.02,P.xanchor="right"),P.y>3?(P.y=1.02,P.yanchor="bottom"):P.y<-2&&(P.y=-.02,P.yanchor="top")),p(y),y.dragmode==="rotate"&&(y.dragmode="orbit"),i.clean(y),y.template&&y.template.layout&&N.cleanLayout(y.template.layout),y},N.cleanData=function(y){for(var T=0;T<y.length;T++){var k,x=y[T];if(x.type==="histogramy"&&"xbins"in x&&!("ybins"in x)&&(x.ybins=x.xbins,delete x.xbins),x.error_y&&"opacity"in x.error_y){var D=i.defaults,z=x.error_y.color||(u(x,"bar")?i.defaultLine:D[T%D.length]);x.error_y.color=i.addOpacity(i.rgb(z),i.opacity(z)*x.error_y.opacity),delete x.error_y.opacity}if("bardir"in x&&(x.bardir!=="h"||!u(x,"bar")&&x.type.substr(0,9)!=="histogram"||(x.orientation="h",N.swapXYData(x)),delete x.bardir),x.type==="histogramy"&&N.swapXYData(x),x.type!=="histogramx"&&x.type!=="histogramy"||(x.type="histogram"),"scl"in x&&!("colorscale"in x)&&(x.colorscale=x.scl,delete x.scl),"reversescl"in x&&!("reversescale"in x)&&(x.reversescale=x.reversescl,delete x.reversescl),x.xaxis&&(x.xaxis=a(x.xaxis,"x")),x.yaxis&&(x.yaxis=a(x.yaxis,"y")),u(x,"gl3d")&&x.scene&&(x.scene=n.subplotsRegistry.gl3d.cleanId(x.scene)),!u(x,"pie-like")&&!u(x,"bar-like"))if(Array.isArray(x.textposition))for(k=0;k<x.textposition.length;k++)x.textposition[k]=w(x.textposition[k]);else x.textposition&&(x.textposition=w(x.textposition));var g=o.getModule(x);if(g&&g.colorbar){var R=g.colorbar.container,I=R?x[R]:x;I&&I.colorscale&&(I.colorscale==="YIGnBu"&&(I.colorscale="YlGnBu"),I.colorscale==="YIOrRd"&&(I.colorscale="YlOrRd"))}if(x.type==="surface"&&e.isPlainObject(x.contours)){var j=["x","y","z"];for(k=0;k<j.length;k++){var Y=x.contours[j[k]];e.isPlainObject(Y)&&(Y.highlightColor&&(Y.highlightcolor=Y.highlightColor,delete Y.highlightColor),Y.highlightWidth&&(Y.highlightwidth=Y.highlightWidth,delete Y.highlightWidth))}}if(x.type==="candlestick"||x.type==="ohlc"){var B=(x.increasing||{}).showlegend!==!1,$=(x.decreasing||{}).showlegend!==!1,rt=m(x.increasing),q=m(x.decreasing);if(rt!==!1&&q!==!1){var H=M(rt,q,B,$);H&&(x.name=H)}else!rt&&!q||x.name||(x.name=rt||q)}if(Array.isArray(x.transforms)){var C=x.transforms;for(k=0;k<C.length;k++){var F=C[k];if(e.isPlainObject(F))switch(F.type){case"filter":F.filtersrc&&(F.target=F.filtersrc,delete F.filtersrc),F.calendar&&(F.valuecalendar||(F.valuecalendar=F.calendar),delete F.calendar);break;case"groupby":if(F.styles=F.styles||F.style,F.styles&&!Array.isArray(F.styles)){var L=F.styles,X=Object.keys(L);F.styles=[];for(var E=0;E<X.length;E++)F.styles.push({target:X[E],value:L[X[E]]})}}}}b(x,"line")&&delete x.line,"marker"in x&&(b(x.marker,"line")&&delete x.marker.line,b(x,"marker")&&delete x.marker),i.clean(x),x.autobinx&&(delete x.autobinx,delete x.xbins),x.autobiny&&(delete x.autobiny,delete x.ybins),p(x),x.colorbar&&p(x.colorbar),x.marker&&x.marker.colorbar&&p(x.marker.colorbar),x.line&&x.line.colorbar&&p(x.line.colorbar),x.aaxis&&p(x.aaxis),x.baxis&&p(x.baxis)}},N.swapXYData=function(y){var T;if(e.swapAttrs(y,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(y.z)&&Array.isArray(y.z[0])&&(y.transpose?delete y.transpose:y.transpose=!0),y.error_x&&y.error_y){var k=y.error_y,x="copy_ystyle"in k?k.copy_ystyle:!(k.color||k.thickness||k.width);e.swapAttrs(y,["error_?.copy_ystyle"]),x&&e.swapAttrs(y,["error_?.color","error_?.thickness","error_?.width"])}if(typeof y.hoverinfo=="string"){var D=y.hoverinfo.split("+");for(T=0;T<D.length;T++)D[T]==="x"?D[T]="y":D[T]==="y"&&(D[T]="x");y.hoverinfo=D.join("+")}},N.coerceTraceIndices=function(y,T){if(t(T))return[T];if(!Array.isArray(T)||!T.length)return y.data.map(function(D,z){return z});if(Array.isArray(T)){for(var k=[],x=0;x<T.length;x++)e.isIndex(T[x],y.data.length)?k.push(T[x]):e.warn("trace index (",T[x],") is not a number or is out of bounds");return k}return T},N.manageArrayContainers=function(y,T,k){var x=y.obj,D=y.parts,z=D.length,g=D[z-1],R=t(g);if(R&&T===null){var I=D.slice(0,z-1).join(".");e.nestedProperty(x,I).get().splice(g,1)}else R&&y.get()===void 0&&y.get()===void 0&&(k[y.astr]=null),y.set(T)};var v=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(y){var T=y.search(v);if(T>0)return y.substr(0,T)}N.hasParent=function(y,T){for(var k=h(T);k;){if(k in y)return!0;k=h(k)}return!1};var A=["x","y","z"];N.clearAxisTypes=function(y,T,k){for(var x=0;x<T.length;x++)for(var D=y._fullData[x],z=0;z<3;z++){var g=r(y,D,A[z]);if(g&&g.type!=="log"){var R=g._name,I=g._id.substr(1);if(I.substr(0,5)==="scene"){if(k[I]!==void 0)continue;R=I+"."+R}var j=R+".type";k[R]===void 0&&k[j]===void 0&&e.nestedProperty(y.layout,j).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":314,"../registry":316,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(c,J,N){var t=c("./plot_api");N._doPlot=t._doPlot,N.newPlot=t.newPlot,N.restyle=t.restyle,N.relayout=t.relayout,N.redraw=t.redraw,N.update=t.update,N._guiRestyle=t._guiRestyle,N._guiRelayout=t._guiRelayout,N._guiUpdate=t._guiUpdate,N._storeDirectGUIEdit=t._storeDirectGUIEdit,N.react=t.react,N.extendTraces=t.extendTraces,N.prependTraces=t.prependTraces,N.addTraces=t.addTraces,N.deleteTraces=t.deleteTraces,N.moveTraces=t.moveTraces,N.purge=t.purge,N.addFrames=t.addFrames,N.deleteFrames=t.deleteFrames,N.animate=t.animate,N.setPlotConfig=t.setPlotConfig,N.toImage=c("./to_image"),N.validate=c("./validate"),N.downloadImage=c("../snapshot/download");var s=c("./template_api");N.makeTemplate=s.makeTemplate,N.validateTemplate=s.validateTemplate},{"../snapshot/download":318,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(c,J,N){var t=c("../lib/is_plain_object"),s=c("../lib/noop"),o=c("../lib/loggers"),e=c("../lib/search").sorterAsc,n=c("../registry");N.containerArrayMatch=c("./container_array_match");var l=N.isAddVal=function(a){return a==="add"||t(a)},i=N.isRemoveVal=function(a){return a===null||a==="remove"};N.applyContainerArrayChanges=function(a,r,u,d,p){var m=r.astr,M=n.getComponentMethod(m,"supplyLayoutDefaults"),w=n.getComponentMethod(m,"draw"),b=n.getComponentMethod(m,"drawOne"),v=d.replot||d.recalc||M===s||w===s,h=a.layout,A=a._fullLayout;if(u[""]){Object.keys(u).length>1&&o.warn("Full array edits are incompatible with other edits",m);var y=u[""][""];if(i(y))r.set(null);else{if(!Array.isArray(y))return o.warn("Unrecognized full array edit value",m,y),!0;r.set(y)}return!v&&(M(h,A),w(a),!0)}var T,k,x,D,z,g,R,I,j=Object.keys(u).map(Number).sort(e),Y=r.get(),B=Y||[],$=p(A,m).get(),rt=[],q=-1,H=B.length;for(T=0;T<j.length;T++)if(D=u[x=j[T]],z=Object.keys(D),g=D[""],R=l(g),x<0||x>B.length-(R?0:1))o.warn("index out of range",m,x);else if(g!==void 0)z.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",m,x),i(g)?rt.push(x):R?(g==="add"&&(g={}),B.splice(x,0,g),$&&$.splice(x,0,{})):o.warn("Unrecognized full object edit value",m,x,g),q===-1&&(q=x);else for(k=0;k<z.length;k++)I=m+"["+x+"].",p(B[x],z[k],I).set(D[z[k]]);for(T=rt.length-1;T>=0;T--)B.splice(rt[T],1),$&&$.splice(rt[T],1);if(B.length?Y||r.set(B):r.set(null),v)return!1;if(M(h,A),b!==s){var C;if(q===-1)C=j;else{for(H=Math.max(B.length,H),C=[],T=0;T<j.length&&!((x=j[T])>=q);T++)C.push(x);for(T=q;T<H;T++)C.push(T)}for(T=0;T<C.length;T++)b(a,C[T])}else w(a);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":316,"./container_array_match":260}],265:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("has-hover"),e=c("../lib"),n=e.nestedProperty,l=c("../lib/events"),i=c("../lib/queue"),a=c("../registry"),r=c("./plot_schema"),u=c("../plots/plots"),d=c("../plots/cartesian/axes"),p=c("../components/drawing"),m=c("../components/color"),M=c("../plots/cartesian/graph_interact").initInteractions,w=c("../constants/xmlns_namespaces"),b=c("../plots/cartesian/select").clearSelect,v=c("./plot_config").dfltConfig,h=c("./manage_arrays"),A=c("./helpers"),y=c("./subroutines"),T=c("./edit_types"),k=c("../plots/cartesian/constants").AX_NAME_PATTERN,x=0;function D(ot){var nt=ot._fullLayout;nt._redrawFromAutoMarginCount?nt._redrawFromAutoMarginCount--:ot.emit("plotly_afterplot")}function z(ot,nt){try{ot._fullLayout._paper.style("background",nt)}catch(ut){e.error(ut)}}function g(ot,nt){z(ot,m.combine(nt,"white"))}function R(ot,nt){if(!ot._context){ot._context=e.extendDeep({},v);var ut=t.select("base");ot._context._baseUrl=ut.size()&&ut.attr("href")?window.location.href.split("#")[0]:""}var ht,Dt,Tt,xt=ot._context;if(nt){for(Dt=Object.keys(nt),ht=0;ht<Dt.length;ht++)(Tt=Dt[ht])!=="editable"&&Tt!=="edits"&&Tt in xt&&(Tt==="setBackground"&&nt[Tt]==="opaque"?xt[Tt]=g:xt[Tt]=nt[Tt]);nt.plot3dPixelRatio&&!xt.plotGlPixelRatio&&(xt.plotGlPixelRatio=xt.plot3dPixelRatio);var Ot=nt.editable;if(Ot!==void 0)for(xt.editable=Ot,Dt=Object.keys(xt.edits),ht=0;ht<Dt.length;ht++)xt.edits[Dt[ht]]=Ot;if(nt.edits)for(Dt=Object.keys(nt.edits),ht=0;ht<Dt.length;ht++)(Tt=Dt[ht])in xt.edits&&(xt.edits[Tt]=nt.edits[Tt]);xt._exportedPlot=nt._exportedPlot}xt.staticPlot&&(xt.editable=!1,xt.edits={},xt.autosizable=!1,xt.scrollZoom=!1,xt.doubleClick=!1,xt.showTips=!1,xt.showLink=!1,xt.displayModeBar=!1),xt.displayModeBar!=="hover"||o||(xt.displayModeBar=!0),xt.setBackground!=="transparent"&&typeof xt.setBackground=="function"||(xt.setBackground=z),xt._hasZeroHeight=xt._hasZeroHeight||ot.clientHeight===0,xt._hasZeroWidth=xt._hasZeroWidth||ot.clientWidth===0;var It=xt.scrollZoom,wt=xt._scrollZoom={};if(It===!0)wt.cartesian=1,wt.gl3d=1,wt.geo=1,wt.mapbox=1;else if(typeof It=="string"){var At=It.split("+");for(ht=0;ht<At.length;ht++)wt[At[ht]]=1}else It!==!1&&(wt.gl3d=1,wt.geo=1,wt.mapbox=1)}function I(ot,nt){var ut,ht,Dt=nt+1,Tt=[];for(ut=0;ut<ot.length;ut++)(ht=ot[ut])<0?Tt.push(Dt+ht):Tt.push(ht);return Tt}function j(ot,nt,ut){var ht,Dt;for(ht=0;ht<nt.length;ht++){if((Dt=nt[ht])!==parseInt(Dt,10))throw new Error("all values in "+ut+" must be integers");if(Dt>=ot.data.length||Dt<-ot.data.length)throw new Error(ut+" must be valid indices for gd.data.");if(nt.indexOf(Dt,ht+1)>-1||Dt>=0&&nt.indexOf(-ot.data.length+Dt)>-1||Dt<0&&nt.indexOf(ot.data.length+Dt)>-1)throw new Error("each index in "+ut+" must be unique.")}}function Y(ot,nt,ut){if(!Array.isArray(ot.data))throw new Error("gd.data must be an array.");if(nt===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(nt)||(nt=[nt]),j(ot,nt,"currentIndices"),ut===void 0||Array.isArray(ut)||(ut=[ut]),ut!==void 0&&j(ot,ut,"newIndices"),ut!==void 0&&nt.length!==ut.length)throw new Error("current and new indices must be of equal length.")}function B(ot,nt,ut,ht,Dt){(function(kt,Bt,Zt,Ht){var ee=e.isPlainObject(Ht);if(!Array.isArray(kt.data))throw new Error("gd.data must be an array");if(!e.isPlainObject(Bt))throw new Error("update must be a key:value object");if(Zt===void 0)throw new Error("indices must be an integer or array of integers");for(var qt in j(kt,Zt,"indices"),Bt){if(!Array.isArray(Bt[qt])||Bt[qt].length!==Zt.length)throw new Error("attribute "+qt+" must be an array of length equal to indices array length");if(ee&&(!(qt in Ht)||!Array.isArray(Ht[qt])||Ht[qt].length!==Bt[qt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(ot,nt,ut,ht);for(var Tt=function(kt,Bt,Zt,Ht){var ee,qt,vt,bt,Gt,re=e.isPlainObject(Ht),xe=[];for(var at in Array.isArray(Zt)||(Zt=[Zt]),Zt=I(Zt,kt.data.length-1),Bt)for(var st=0;st<Zt.length;st++){if(ee=kt.data[Zt[st]],qt=(vt=n(ee,at)).get(),bt=Bt[at][st],!e.isArrayOrTypedArray(bt))throw new Error("attribute: "+at+" index: "+st+" must be an array");if(!e.isArrayOrTypedArray(qt))throw new Error("cannot extend missing or non-array attribute: "+at);if(qt.constructor!==bt.constructor)throw new Error("cannot extend array with an array of a different type: "+at);Gt=re?Ht[at][st]:Ht,s(Gt)||(Gt=-1),xe.push({prop:vt,target:qt,insert:bt,maxp:Math.floor(Gt)})}return xe}(ot,nt,ut,ht),xt={},Ot={},It=0;It<Tt.length;It++){var wt=Tt[It].prop,At=Tt[It].maxp,Xt=Dt(Tt[It].target,Tt[It].insert,At);wt.set(Xt[0]),Array.isArray(xt[wt.astr])||(xt[wt.astr]=[]),xt[wt.astr].push(Xt[1]),Array.isArray(Ot[wt.astr])||(Ot[wt.astr]=[]),Ot[wt.astr].push(Tt[It].target.length)}return{update:xt,maxPoints:Ot}}function $(ot,nt){var ut=new ot.constructor(ot.length+nt.length);return ut.set(ot),ut.set(nt,ot.length),ut}function rt(ot,nt,ut,ht){ot=e.getGraphDiv(ot),A.clearPromiseQueue(ot);var Dt={};if(typeof nt=="string")Dt[nt]=ut;else{if(!e.isPlainObject(nt))return e.warn("Restyle fail.",nt,ut,ht),Promise.reject();Dt=e.extendFlat({},nt),ht===void 0&&(ht=ut)}Object.keys(Dt).length&&(ot.changed=!0);var Tt=A.coerceTraceIndices(ot,ht),xt=F(ot,Dt,Tt),Ot=xt.flags;Ot.calc&&(ot.calcdata=void 0),Ot.clearAxisTypes&&A.clearAxisTypes(ot,Tt,{});var It=[];Ot.fullReplot?It.push(N._doPlot):(It.push(u.previousPromises),u.supplyDefaults(ot),Ot.markerSize&&(u.doCalcdata(ot),Z(It)),Ot.style&&It.push(y.doTraceStyle),Ot.colorbars&&It.push(y.doColorBars),It.push(D)),It.push(u.rehover,u.redrag),i.add(ot,rt,[ot,xt.undoit,xt.traces],rt,[ot,xt.redoit,xt.traces]);var wt=e.syncOrAsync(It,ot);return wt&&wt.then||(wt=Promise.resolve()),wt.then(function(){return ot.emit("plotly_restyle",xt.eventData),ot})}function q(ot){return ot===void 0?null:ot}function H(ot,nt){return nt?function(ut,ht,Dt){var Tt=n(ut,ht),xt=Tt.set;return Tt.set=function(Ot){C((Dt||"")+ht,Tt.get(),Ot,ot),xt(Ot)},Tt}:n}function C(ot,nt,ut,ht){if(Array.isArray(nt)||Array.isArray(ut))for(var Dt=Array.isArray(nt)?nt:[],Tt=Array.isArray(ut)?ut:[],xt=Math.max(Dt.length,Tt.length),Ot=0;Ot<xt;Ot++)C(ot+"["+Ot+"]",Dt[Ot],Tt[Ot],ht);else if(e.isPlainObject(nt)||e.isPlainObject(ut)){var It=e.isPlainObject(nt)?nt:{},wt=e.isPlainObject(ut)?ut:{},At=e.extendFlat({},It,wt);for(var Xt in At)C(ot+"."+Xt,It[Xt],wt[Xt],ht)}else ht[ot]===void 0&&(ht[ot]=q(nt))}function F(ot,nt,ut){var ht,Dt=ot._fullLayout,Tt=ot._fullData,xt=ot.data,Ot=Dt._guiEditing,It=H(Dt._preGUI,Ot),wt=e.extendDeepAll({},nt);L(nt);var At,Xt=T.traceFlags(),kt={},Bt={};function Zt(){return ut.map(function(){})}function Ht(ye){var Ce=d.id2name(ye);At.indexOf(Ce)===-1&&At.push(Ce)}function ee(ye){return"LAYOUT"+ye+".autorange"}function qt(ye){return"LAYOUT"+ye+".range"}function vt(ye){for(var Ce=ye;Ce<Tt.length;Ce++)if(Tt[Ce]._input===xt[ye])return Tt[Ce]}function bt(ye,Ce,ue){if(Array.isArray(ye))ye.forEach(function(Oe){bt(Oe,Ce,ue)});else if(!(ye in nt)&&!A.hasParent(nt,ye)){var Re;if(ye.substr(0,6)==="LAYOUT")Re=It(ot.layout,ye.replace("LAYOUT",""));else{var De=ut[ue];Re=H(Dt._tracePreGUI[vt(De)._fullInput.uid],Ot)(xt[De],ye)}ye in Bt||(Bt[ye]=Zt()),Bt[ye][ue]===void 0&&(Bt[ye][ue]=q(Re.get())),Ce!==void 0&&Re.set(Ce)}}function Gt(ye){return function(Ce){return Tt[Ce][ye]}}function re(ye){return function(Ce,ue){return Ce===!1?Tt[ut[ue]][ye]:null}}for(var xe in nt){if(A.hasParent(nt,xe))throw new Error("cannot set "+xe+" and a parent attribute simultaneously");var at,st,Lt,Ct,Nt,Pt,jt=nt[xe];if(xe!=="autobinx"&&xe!=="autobiny"||(xe=xe.charAt(xe.length-1)+"bins",jt=Array.isArray(jt)?jt.map(re(xe)):jt===!1?ut.map(Gt(xe)):null),kt[xe]=jt,xe.substr(0,6)!=="LAYOUT"){for(Bt[xe]=Zt(),ht=0;ht<ut.length;ht++)if(at=xt[ut[ht]],st=vt(ut[ht]),Ct=(Lt=H(Dt._tracePreGUI[st._fullInput.uid],Ot)(at,xe)).get(),(Nt=Array.isArray(jt)?jt[ht%jt.length]:jt)!==void 0){var $t=Lt.parts[Lt.parts.length-1],ne=xe.substr(0,xe.length-$t.length-1),se=ne?ne+".":"",Wt=ne?n(st,ne).get():st;if((Pt=r.getTraceValObject(st,Lt.parts))&&Pt.impliedEdits&&Nt!==null)for(var ae in Pt.impliedEdits)bt(e.relativeAttr(xe,ae),Pt.impliedEdits[ae],ht);else if($t!=="thicknessmode"&&$t!=="lenmode"||Ct===Nt||Nt!=="fraction"&&Nt!=="pixels"||!Wt){if(xe==="type"&&(Nt==="pie"!=(Ct==="pie")||Nt==="funnelarea"!=(Ct==="funnelarea"))){var ce="x",be="y";Nt!=="bar"&&Ct!=="bar"||at.orientation!=="h"||(ce="y",be="x"),e.swapAttrs(at,["?","?src"],"labels",ce),e.swapAttrs(at,["d?","?0"],"label",ce),e.swapAttrs(at,["?","?src"],"values",be),Ct==="pie"||Ct==="funnelarea"?(n(at,"marker.color").set(n(at,"marker.colors").get()),Dt._pielayer.selectAll("g.trace").remove()):a.traceIs(at,"cartesian")&&n(at,"marker.colors").set(n(at,"marker.color").get())}}else{var he=Dt._size,me=Wt.orient,le=me==="top"||me==="bottom";if($t==="thicknessmode"){var Te=le?he.h:he.w;bt(se+"thickness",Wt.thickness*(Nt==="fraction"?1/Te:Te),ht)}else{var Me=le?he.w:he.h;bt(se+"len",Wt.len*(Nt==="fraction"?1/Me:Me),ht)}}if(Bt[xe][ht]=q(Ct),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(xe)!==-1){if(xe==="orientation"){Lt.set(Nt);var ge=at.x&&!at.y?"h":"v";if((Lt.get()||ge)===st.orientation)continue}else xe==="orientationaxes"&&(at.orientation={v:"h",h:"v"}[st.orientation]);A.swapXYData(at),Xt.calc=Xt.clearAxisTypes=!0}else u.dataArrayContainers.indexOf(Lt.parts[0])!==-1?(A.manageArrayContainers(Lt,Nt,Bt),Xt.calc=!0):(Pt?Pt.arrayOk&&!a.traceIs(st,"regl")&&(e.isArrayOrTypedArray(Nt)||e.isArrayOrTypedArray(Ct))?Xt.calc=!0:T.update(Xt,Pt):Xt.calc=!0,Lt.set(Nt))}if(["swapxyaxes","orientationaxes"].indexOf(xe)!==-1&&d.swap(ot,ut),xe==="orientationaxes"){var oe=n(ot.layout,"hovermode"),de=oe.get();de==="x"?oe.set("y"):de==="y"?oe.set("x"):de==="x unified"?oe.set("y unified"):de==="y unified"&&oe.set("x unified")}if(["orientation","type"].indexOf(xe)!==-1){for(At=[],ht=0;ht<ut.length;ht++){var Ae=xt[ut[ht]];a.traceIs(Ae,"cartesian")&&(Ht(Ae.xaxis||"x"),Ht(Ae.yaxis||"y"))}bt(At.map(ee),!0,0),bt(At.map(qt),[0,1],0)}}else Lt=It(ot.layout,xe.replace("LAYOUT","")),Bt[xe]=[q(Lt.get())],Lt.set(Array.isArray(jt)?jt[0]:jt),Xt.calc=!0}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),{flags:Xt,undoit:Bt,redoit:kt,traces:ut,eventData:e.extendDeepNoArrays([],[wt,ut])}}function L(ot){var nt,ut,ht,Dt=e.counterRegex("axis",".title",!1,!1),Tt=/colorbar\.title$/,xt=Object.keys(ot);for(nt=0;nt<xt.length;nt++)ut=xt[nt],ht=ot[ut],ut!=="title"&&!Dt.test(ut)&&!Tt.test(ut)||typeof ht!="string"&&typeof ht!="number"?ut.indexOf("titlefont")>-1?Ot(ut,ut.replace("titlefont","title.font")):ut.indexOf("titleposition")>-1?Ot(ut,ut.replace("titleposition","title.position")):ut.indexOf("titleside")>-1?Ot(ut,ut.replace("titleside","title.side")):ut.indexOf("titleoffset")>-1&&Ot(ut,ut.replace("titleoffset","title.offset")):Ot(ut,ut.replace("title","title.text"));function Ot(It,wt){ot[wt]=ot[It],delete ot[It]}}function X(ot,nt,ut){ot=e.getGraphDiv(ot),A.clearPromiseQueue(ot);var ht={};if(typeof nt=="string")ht[nt]=ut;else{if(!e.isPlainObject(nt))return e.warn("Relayout fail.",nt,ut),Promise.reject();ht=e.extendFlat({},nt)}Object.keys(ht).length&&(ot.changed=!0);var Dt=G(ot,ht),Tt=Dt.flags;Tt.calc&&(ot.calcdata=void 0);var xt=[u.previousPromises];Tt.layoutReplot?xt.push(y.layoutReplot):Object.keys(ht).length&&(E(ot,Tt,Dt)||u.supplyDefaults(ot),Tt.legend&&xt.push(y.doLegend),Tt.layoutstyle&&xt.push(y.layoutStyles),Tt.axrange&&Z(xt,Dt.rangesAltered),Tt.ticks&&xt.push(y.doTicksRelayout),Tt.modebar&&xt.push(y.doModeBar),Tt.camera&&xt.push(y.doCamera),Tt.colorbars&&xt.push(y.doColorBars),xt.push(D)),xt.push(u.rehover,u.redrag),i.add(ot,X,[ot,Dt.undoit],X,[ot,Dt.redoit]);var Ot=e.syncOrAsync(xt,ot);return Ot&&Ot.then||(Ot=Promise.resolve(ot)),Ot.then(function(){return ot.emit("plotly_relayout",Dt.eventData),ot})}function E(ot,nt,ut){var ht=ot._fullLayout;if(!nt.axrange)return!1;for(var Dt in nt)if(Dt!=="axrange"&&nt[Dt])return!1;for(var Tt in ut.rangesAltered){var xt=d.id2name(Tt),Ot=ot.layout[xt],It=ht[xt];if(It.autorange=Ot.autorange,Ot.range&&(It.range=Ot.range.slice()),It.cleanRange(),It._matchGroup){for(var wt in It._matchGroup)if(wt!==Tt){var At=ht[d.id2name(wt)];At.autorange=It.autorange,At.range=It.range.slice(),At._input.range=It.range.slice()}}}return!0}function Z(ot,nt){var ut=nt?function(ht){var Dt=[],Tt=!0;for(var xt in nt){var Ot=d.getFromId(ht,xt);if(Dt.push(xt),(Ot.ticklabelposition||"").indexOf("inside")!==-1&&Ot._anchorAxis&&Dt.push(Ot._anchorAxis._id),Ot._matchGroup)for(var It in Ot._matchGroup)nt[It]||Dt.push(It);Ot.automargin&&(Tt=!1)}return d.draw(ht,Dt,{skipTitle:Tt})}:function(ht){return d.draw(ht,"redraw")};ot.push(b,y.doAutoRangeAndConstraints,ut,y.drawData,y.finalDraw)}var S=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,U=/^[xyz]axis[0-9]*\.autorange$/,P=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function G(ot,nt){var ut,ht,Dt,Tt=ot.layout,xt=ot._fullLayout,Ot=xt._guiEditing,It=H(xt._preGUI,Ot),wt=Object.keys(nt),At=d.list(ot),Xt=e.extendDeepAll({},nt),kt={};for(L(nt),wt=Object.keys(nt),ht=0;ht<wt.length;ht++)if(wt[ht].indexOf("allaxes")===0){for(Dt=0;Dt<At.length;Dt++){var Bt=At[Dt]._id.substr(1),Zt=Bt.indexOf("scene")!==-1?Bt+".":"",Ht=wt[ht].replace("allaxes",Zt+At[Dt]._name);nt[Ht]||(nt[Ht]=nt[wt[ht]])}delete nt[wt[ht]]}var ee=T.layoutFlags(),qt={},vt={};function bt(De,Oe){if(Array.isArray(De))De.forEach(function(en){bt(en,Oe)});else if(!(De in nt)&&!A.hasParent(nt,De)){var Ne=It(Tt,De);De in vt||(vt[De]=q(Ne.get())),Oe!==void 0&&Ne.set(Oe)}}var Gt,re={};function xe(De){var Oe=d.name2id(De.split(".")[0]);return re[Oe]=1,Oe}for(var at in nt){if(A.hasParent(nt,at))throw new Error("cannot set "+at+" and a parent attribute simultaneously");for(var st=It(Tt,at),Lt=nt[at],Ct=st.parts.length-1;Ct>0&&typeof st.parts[Ct]!="string";)Ct--;var Nt=st.parts[Ct],Pt=st.parts[Ct-1]+"."+Nt,jt=st.parts.slice(0,Ct).join("."),$t=n(ot.layout,jt).get(),ne=n(xt,jt).get(),se=st.get();if(Lt!==void 0){qt[at]=Lt,vt[at]=Nt==="reverse"?Lt:q(se);var Wt=r.getLayoutValObject(xt,st.parts);if(Wt&&Wt.impliedEdits&&Lt!==null)for(var ae in Wt.impliedEdits)bt(e.relativeAttr(at,ae),Wt.impliedEdits[ae]);if(["width","height"].indexOf(at)!==-1)if(Lt){bt("autosize",null);var ce=at==="height"?"width":"height";bt(ce,xt[ce])}else xt[at]=ot._initialAutoSize[at];else if(at==="autosize")bt("width",Lt?null:xt.width),bt("height",Lt?null:xt.height);else if(Pt.match(S))xe(Pt),n(xt,jt+"._inputRange").set(null);else if(Pt.match(U)){xe(Pt),n(xt,jt+"._inputRange").set(null);var be=n(xt,jt).get();be._inputDomain&&(be._input.domain=be._inputDomain.slice())}else Pt.match(P)&&n(xt,jt+"._inputDomain").set(null);if(Nt==="type"){Gt=$t;var he=ne.type==="linear"&&Lt==="log",me=ne.type==="log"&&Lt==="linear";if(he||me){if(Gt&&Gt.range)if(ne.autorange)he&&(Gt.range=Gt.range[1]>Gt.range[0]?[1,2]:[2,1]);else{var le=Gt.range[0],Te=Gt.range[1];he?(le<=0&&Te<=0&&bt(jt+".autorange",!0),le<=0?le=Te/1e6:Te<=0&&(Te=le/1e6),bt(jt+".range[0]",Math.log(le)/Math.LN10),bt(jt+".range[1]",Math.log(Te)/Math.LN10)):(bt(jt+".range[0]",Math.pow(10,le)),bt(jt+".range[1]",Math.pow(10,Te)))}else bt(jt+".autorange",!0);Array.isArray(xt._subplots.polar)&&xt._subplots.polar.length&&xt[st.parts[0]]&&st.parts[1]==="radialaxis"&&delete xt[st.parts[0]]._subplot.viewInitial["radialaxis.range"],a.getComponentMethod("annotations","convertCoords")(ot,ne,Lt,bt),a.getComponentMethod("images","convertCoords")(ot,ne,Lt,bt)}else bt(jt+".autorange",!0),bt(jt+".range",null);n(xt,jt+"._inputRange").set(null)}else if(Nt.match(k)){var Me=n(xt,at).get(),ge=(Lt||{}).type;ge&&ge!=="-"||(ge="linear"),a.getComponentMethod("annotations","convertCoords")(ot,Me,ge,bt),a.getComponentMethod("images","convertCoords")(ot,Me,ge,bt)}var oe=h.containerArrayMatch(at);if(oe){ut=oe.array,ht=oe.index;var de=oe.property,Ae=Wt||{editType:"calc"};ht!==""&&de===""&&(h.isAddVal(Lt)?vt[at]=null:h.isRemoveVal(Lt)?vt[at]=(n(Tt,ut).get()||[])[ht]:e.warn("unrecognized full object value",nt)),T.update(ee,Ae),kt[ut]||(kt[ut]={});var ye=kt[ut][ht];ye||(ye=kt[ut][ht]={}),ye[de]=Lt,delete nt[at]}else Nt==="reverse"?($t.range?$t.range.reverse():(bt(jt+".autorange",!0),$t.range=[1,0]),ne.autorange?ee.calc=!0:ee.plot=!0):(xt._has("scatter-like")&&xt._has("regl")&&at==="dragmode"&&(Lt==="lasso"||Lt==="select")&&se!=="lasso"&&se!=="select"||xt._has("gl2d")?ee.plot=!0:Wt?T.update(ee,Wt):ee.calc=!0,st.set(Lt))}}for(ut in kt)h.applyContainerArrayChanges(ot,It(Tt,ut),kt[ut],ee,It)||(ee.plot=!0);for(var Ce in re){var ue=(Gt=d.getFromId(ot,Ce))&&Gt._constraintGroup;if(ue)for(var Re in ee.calc=!0,ue)re[Re]||(d.getFromId(ot,Re)._constraintShrinkable=!0)}return(Q(ot)||nt.height||nt.width)&&(ee.plot=!0),(ee.plot||ee.calc)&&(ee.layoutReplot=!0),{flags:ee,rangesAltered:re,undoit:vt,redoit:qt,eventData:Xt}}function Q(ot){var nt=ot._fullLayout,ut=nt.width,ht=nt.height;return ot.layout.autosize&&u.plotAutoSize(ot,ot.layout,nt),nt.width!==ut||nt.height!==ht}function et(ot,nt,ut,ht){ot=e.getGraphDiv(ot),A.clearPromiseQueue(ot),e.isPlainObject(nt)||(nt={}),e.isPlainObject(ut)||(ut={}),Object.keys(nt).length&&(ot.changed=!0),Object.keys(ut).length&&(ot.changed=!0);var Dt=A.coerceTraceIndices(ot,ht),Tt=F(ot,e.extendFlat({},nt),Dt),xt=Tt.flags,Ot=G(ot,e.extendFlat({},ut)),It=Ot.flags;(xt.calc||It.calc)&&(ot.calcdata=void 0),xt.clearAxisTypes&&A.clearAxisTypes(ot,Dt,ut);var wt=[];It.layoutReplot?wt.push(y.layoutReplot):xt.fullReplot?wt.push(N._doPlot):(wt.push(u.previousPromises),E(ot,It,Ot)||u.supplyDefaults(ot),xt.style&&wt.push(y.doTraceStyle),(xt.colorbars||It.colorbars)&&wt.push(y.doColorBars),It.legend&&wt.push(y.doLegend),It.layoutstyle&&wt.push(y.layoutStyles),It.axrange&&Z(wt,Ot.rangesAltered),It.ticks&&wt.push(y.doTicksRelayout),It.modebar&&wt.push(y.doModeBar),It.camera&&wt.push(y.doCamera),wt.push(D)),wt.push(u.rehover,u.redrag),i.add(ot,et,[ot,Tt.undoit,Ot.undoit,Tt.traces],et,[ot,Tt.redoit,Ot.redoit,Tt.traces]);var At=e.syncOrAsync(wt,ot);return At&&At.then||(At=Promise.resolve(ot)),At.then(function(){return ot.emit("plotly_update",{data:Tt.eventData,layout:Ot.eventData}),ot})}function tt(ot){return function(nt){nt._fullLayout._guiEditing=!0;var ut=ot.apply(null,arguments);return nt._fullLayout._guiEditing=!1,ut}}var lt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ct=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function mt(ot,nt){for(var ut=0;ut<nt.length;ut++){var ht=nt[ut],Dt=ot.match(ht.pattern);if(Dt)return{head:Dt[1],attr:ht.attr}}}function Mt(ot,nt){var ut=n(nt,ot).get();if(ut!==void 0)return ut;var ht=ot.split(".");for(ht.pop();ht.length>1;)if(ht.pop(),(ut=n(nt,ht.join(".")+".uirevision").get())!==void 0)return ut;return nt.uirevision}function St(ot,nt){for(var ut=0;ut<nt.length;ut++)if(nt[ut]._fullInput.uid===ot)return ut;return-1}function _t(ot,nt,ut){for(var ht=0;ht<nt.length;ht++)if(nt[ht].uid===ot)return ht;return!nt[ut]||nt[ut].uid?-1:ut}function Yt(ot,nt){var ut=e.isPlainObject(ot),ht=Array.isArray(ot);return ut||ht?(ut&&e.isPlainObject(nt)||ht&&Array.isArray(nt))&&JSON.stringify(ot)===JSON.stringify(nt):ot===nt}function Et(ot,nt,ut,ht){var Dt,Tt,xt,Ot=ht.getValObject,It=ht.flags,wt=ht.immutable,At=ht.inArray,Xt=ht.arrayIndex;function kt(){var $t=Dt.editType;At&&$t.indexOf("arraydraw")!==-1?e.pushUnique(It.arrays[At],Xt):(T.update(It,Dt),$t!=="none"&&It.nChanges++,ht.transition&&Dt.anim&&It.nChangesAnim++,(S.test(xt)||U.test(xt))&&(It.rangesAltered[ut[0]]=1),P.test(xt)&&n(nt,"_inputDomain").set(null),Tt==="datarevision"&&(It.newDataRevision=1))}function Bt($t){return $t.valType==="data_array"||$t.arrayOk}for(Tt in ot){if(It.calc&&!ht.transition)return;var Zt=ot[Tt],Ht=nt[Tt],ee=ut.concat(Tt);if(xt=ee.join("."),Tt.charAt(0)!=="_"&&typeof Zt!="function"&&Zt!==Ht){if((Tt==="tick0"||Tt==="dtick")&&ut[0]!=="geo"){var qt=nt.tickmode;if(qt==="auto"||qt==="array"||!qt)continue}if((Tt!=="range"||!nt.autorange)&&(Tt!=="zmin"&&Tt!=="zmax"||nt.type!=="contourcarpet")&&(Dt=Ot(ee))&&(!Dt._compareAsJSON||JSON.stringify(Zt)!==JSON.stringify(Ht))){var vt,bt=Dt.valType,Gt=Bt(Dt),re=Array.isArray(Zt),xe=Array.isArray(Ht);if(re&&xe){var at="_input_"+Tt,st=ot[at],Lt=nt[at];if(Array.isArray(st)&&st===Lt)continue}if(Ht===void 0)Gt&&re?It.calc=!0:kt();else if(Dt._isLinkedToArray){var Ct=[],Nt=!1;At||(It.arrays[Tt]=Ct);var Pt=Math.min(Zt.length,Ht.length),jt=Math.max(Zt.length,Ht.length);if(Pt!==jt){if(Dt.editType!=="arraydraw"){kt();continue}Nt=!0}for(vt=0;vt<Pt;vt++)Et(Zt[vt],Ht[vt],ee.concat(vt),e.extendFlat({inArray:Tt,arrayIndex:vt},ht));if(Nt)for(vt=Pt;vt<jt;vt++)Ct.push(vt)}else!bt&&e.isPlainObject(Zt)?Et(Zt,Ht,ee,ht):Gt?re&&xe?(wt&&(It.calc=!0),(wt||ht.newDataRevision)&&kt()):re!==xe?It.calc=!0:kt():re&&xe&&Zt.length===Ht.length&&String(Zt)===String(Ht)||kt()}}}for(Tt in nt)if(!(Tt in ot)&&Tt.charAt(0)!=="_"&&typeof nt[Tt]!="function"){if(Bt(Dt=Ot(ut.concat(Tt)))&&Array.isArray(nt[Tt]))return void(It.calc=!0);kt()}}function gt(ot){var nt=ot._fullLayout,ut=ot.getBoundingClientRect();if(!e.equalDomRects(ut,nt._lastBBox)){var ht=nt._invTransform=e.inverseTransformMatrix(e.getFullTransformMatrix(ot));nt._invScaleX=Math.sqrt(ht[0][0]*ht[0][0]+ht[0][1]*ht[0][1]+ht[0][2]*ht[0][2]),nt._invScaleY=Math.sqrt(ht[1][0]*ht[1][0]+ht[1][1]*ht[1][1]+ht[1][2]*ht[1][2]),nt._lastBBox=ut}}N.animate=function(ot,nt,ut){if(ot=e.getGraphDiv(ot),!e.isPlotDiv(ot))throw new Error("This element is not a Plotly plot: "+ot+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ht=ot._transitionData;ht._frameQueue||(ht._frameQueue=[]);var Dt=(ut=u.supplyAnimationDefaults(ut)).transition,Tt=ut.frame;function xt(wt){return Array.isArray(Dt)?wt>=Dt.length?Dt[0]:Dt[wt]:Dt}function Ot(wt){return Array.isArray(Tt)?wt>=Tt.length?Tt[0]:Tt[wt]:Tt}function It(wt,At){var Xt=0;return function(){if(wt&&++Xt===At)return wt()}}return ht._frameWaitingCnt===void 0&&(ht._frameWaitingCnt=0),new Promise(function(wt,At){function Xt(){ht._currentFrame&&ht._currentFrame.onComplete&&ht._currentFrame.onComplete();var st=ht._currentFrame=ht._frameQueue.shift();if(st){var Lt=st.name?st.name.toString():null;ot._fullLayout._currentFrame=Lt,ht._lastFrameAt=Date.now(),ht._timeToNext=st.frameOpts.duration,u.transition(ot,st.frame.data,st.frame.layout,A.coerceTraceIndices(ot,st.frame.traces),st.frameOpts,st.transitionOpts).then(function(){st.onComplete&&st.onComplete()}),ot.emit("plotly_animatingframe",{name:Lt,frame:st.frame,animation:{frame:st.frameOpts,transition:st.transitionOpts}})}else ot.emit("plotly_animated"),window.cancelAnimationFrame(ht._animationRaf),ht._animationRaf=null}function kt(){ot.emit("plotly_animating"),ht._lastFrameAt=-1/0,ht._timeToNext=0,ht._runningTransitions=0,ht._currentFrame=null;var st=function(){ht._animationRaf=window.requestAnimationFrame(st),Date.now()-ht._lastFrameAt>ht._timeToNext&&Xt()};st()}var Bt,Zt,Ht=0;function ee(st){return Array.isArray(Dt)?Ht>=Dt.length?st.transitionOpts=Dt[Ht]:st.transitionOpts=Dt[0]:st.transitionOpts=Dt,Ht++,st}var qt=[],vt=nt==null,bt=Array.isArray(nt);if(!vt&&!bt&&e.isPlainObject(nt))qt.push({type:"object",data:ee(e.extendFlat({},nt))});else if(vt||["string","number"].indexOf(typeof nt)!==-1)for(Bt=0;Bt<ht._frames.length;Bt++)(Zt=ht._frames[Bt])&&(vt||String(Zt.group)===String(nt))&&qt.push({type:"byname",name:String(Zt.name),data:ee({name:Zt.name})});else if(bt)for(Bt=0;Bt<nt.length;Bt++){var Gt=nt[Bt];["number","string"].indexOf(typeof Gt)!==-1?(Gt=String(Gt),qt.push({type:"byname",name:Gt,data:ee({name:Gt})})):e.isPlainObject(Gt)&&qt.push({type:"object",data:ee(e.extendFlat({},Gt))})}for(Bt=0;Bt<qt.length;Bt++)if((Zt=qt[Bt]).type==="byname"&&!ht._frameHash[Zt.data.name])return e.warn('animate failure: frame not found: "'+Zt.data.name+'"'),void At();["next","immediate"].indexOf(ut.mode)!==-1&&function(){if(ht._frameQueue.length!==0){for(;ht._frameQueue.length;){var st=ht._frameQueue.pop();st.onInterrupt&&st.onInterrupt()}ot.emit("plotly_animationinterrupted",[])}}(),ut.direction==="reverse"&&qt.reverse();var re=ot._fullLayout._currentFrame;if(re&&ut.fromcurrent){var xe=-1;for(Bt=0;Bt<qt.length;Bt++)if((Zt=qt[Bt]).type==="byname"&&Zt.name===re){xe=Bt;break}if(xe>0&&xe<qt.length-1){var at=[];for(Bt=0;Bt<qt.length;Bt++)Zt=qt[Bt],(qt[Bt].type!=="byname"||Bt>xe)&&at.push(Zt);qt=at}}qt.length>0?function(st){if(st.length!==0){for(var Lt=0;Lt<st.length;Lt++){var Ct;Ct=st[Lt].type==="byname"?u.computeFrame(ot,st[Lt].name):st[Lt].data;var Nt=Ot(Lt),Pt=xt(Lt);Pt.duration=Math.min(Pt.duration,Nt.duration);var jt={frame:Ct,name:st[Lt].name,frameOpts:Nt,transitionOpts:Pt};Lt===st.length-1&&(jt.onComplete=It(wt,2),jt.onInterrupt=At),ht._frameQueue.push(jt)}ut.mode==="immediate"&&(ht._lastFrameAt=-1/0),ht._animationRaf||kt()}}(qt):(ot.emit("plotly_animated"),wt())})},N.addFrames=function(ot,nt,ut){if(ot=e.getGraphDiv(ot),nt==null)return Promise.resolve();if(!e.isPlotDiv(ot))throw new Error("This element is not a Plotly plot: "+ot+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ht,Dt,Tt,xt,Ot=ot._transitionData._frames,It=ot._transitionData._frameHash;if(!Array.isArray(nt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+nt);var wt=Ot.length+2*nt.length,At=[],Xt={};for(ht=nt.length-1;ht>=0;ht--)if(e.isPlainObject(nt[ht])){var kt=nt[ht].name,Bt=(It[kt]||Xt[kt]||{}).name,Zt=nt[ht].name,Ht=It[Bt]||Xt[Bt];Bt&&Zt&&typeof Zt=="number"&&Ht&&x<5&&(x++,e.warn('addFrames: overwriting frame "'+(It[Bt]||Xt[Bt]).name+'" with a frame whose name of type "number" also equates to "'+Bt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),x===5&&e.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Xt[kt]={name:kt},At.push({frame:u.supplyFrameDefaults(nt[ht]),index:ut&&ut[ht]!==void 0&&ut[ht]!==null?ut[ht]:wt+ht})}At.sort(function(at,st){return at.index>st.index?-1:at.index<st.index?1:0});var ee=[],qt=[],vt=Ot.length;for(ht=At.length-1;ht>=0;ht--){if(typeof(Dt=At[ht].frame).name=="number"&&e.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Dt.name)for(;It[Dt.name="frame "+ot._transitionData._counter++];);if(It[Dt.name]){for(Tt=0;Tt<Ot.length&&(Ot[Tt]||{}).name!==Dt.name;Tt++);ee.push({type:"replace",index:Tt,value:Dt}),qt.unshift({type:"replace",index:Tt,value:Ot[Tt]})}else xt=Math.max(0,Math.min(At[ht].index,vt)),ee.push({type:"insert",index:xt,value:Dt}),qt.unshift({type:"delete",index:xt}),vt++}var bt=u.modifyFrames,Gt=u.modifyFrames,re=[ot,qt],xe=[ot,ee];return i&&i.add(ot,bt,re,Gt,xe),u.modifyFrames(ot,ee)},N.deleteFrames=function(ot,nt){if(ot=e.getGraphDiv(ot),!e.isPlotDiv(ot))throw new Error("This element is not a Plotly plot: "+ot);var ut,ht,Dt=ot._transitionData._frames,Tt=[],xt=[];if(!nt)for(nt=[],ut=0;ut<Dt.length;ut++)nt.push(ut);for((nt=nt.slice()).sort(),ut=nt.length-1;ut>=0;ut--)ht=nt[ut],Tt.push({type:"delete",index:ht}),xt.unshift({type:"insert",index:ht,value:Dt[ht]});var Ot=u.modifyFrames,It=u.modifyFrames,wt=[ot,xt],At=[ot,Tt];return i&&i.add(ot,Ot,wt,It,At),u.modifyFrames(ot,Tt)},N.addTraces=function ot(nt,ut,ht){nt=e.getGraphDiv(nt);var Dt,Tt,xt=[],Ot=N.deleteTraces,It=ot,wt=[nt,xt],At=[nt,ut];for(function(Xt,kt,Bt){var Zt,Ht;if(!Array.isArray(Xt.data))throw new Error("gd.data must be an array.");if(kt===void 0)throw new Error("traces must be defined.");for(Array.isArray(kt)||(kt=[kt]),Zt=0;Zt<kt.length;Zt++)if(typeof(Ht=kt[Zt])!="object"||Array.isArray(Ht)||Ht===null)throw new Error("all values in traces array must be non-array objects");if(Bt===void 0||Array.isArray(Bt)||(Bt=[Bt]),Bt!==void 0&&Bt.length!==kt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(nt,ut,ht),Array.isArray(ut)||(ut=[ut]),ut=ut.map(function(Xt){return e.extendFlat({},Xt)}),A.cleanData(ut),Dt=0;Dt<ut.length;Dt++)nt.data.push(ut[Dt]);for(Dt=0;Dt<ut.length;Dt++)xt.push(-ut.length+Dt);if(ht===void 0)return Tt=N.redraw(nt),i.add(nt,Ot,wt,It,At),Tt;Array.isArray(ht)||(ht=[ht]);try{Y(nt,xt,ht)}catch(Xt){throw nt.data.splice(nt.data.length-ut.length,ut.length),Xt}return i.startSequence(nt),i.add(nt,Ot,wt,It,At),Tt=N.moveTraces(nt,xt,ht),i.stopSequence(nt),Tt},N.deleteTraces=function ot(nt,ut){nt=e.getGraphDiv(nt);var ht,Dt,Tt=[],xt=N.addTraces,Ot=ot,It=[nt,Tt,ut],wt=[nt,ut];if(ut===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ut)||(ut=[ut]),j(nt,ut,"indices"),(ut=I(ut,nt.data.length-1)).sort(e.sorterDes),ht=0;ht<ut.length;ht+=1)Dt=nt.data.splice(ut[ht],1)[0],Tt.push(Dt);var At=N.redraw(nt);return i.add(nt,xt,It,Ot,wt),At},N.extendTraces=function ot(nt,ut,ht,Dt){function Tt(wt,At,Xt){var kt,Bt;if(e.isTypedArray(wt))if(Xt<0){var Zt=new wt.constructor(0),Ht=$(wt,At);Xt<0?(kt=Ht,Bt=Zt):(kt=Zt,Bt=Ht)}else if(kt=new wt.constructor(Xt),Bt=new wt.constructor(wt.length+At.length-Xt),Xt===At.length)kt.set(At),Bt.set(wt);else if(Xt<At.length){var ee=At.length-Xt;kt.set(At.subarray(ee)),Bt.set(wt),Bt.set(At.subarray(0,ee),wt.length)}else{var qt=Xt-At.length,vt=wt.length-qt;kt.set(wt.subarray(vt)),kt.set(At,qt),Bt.set(wt.subarray(0,vt))}else kt=wt.concat(At),Bt=Xt>=0&&Xt<kt.length?kt.splice(0,kt.length-Xt):[];return[kt,Bt]}var xt=B(nt=e.getGraphDiv(nt),ut,ht,Dt,Tt),Ot=N.redraw(nt),It=[nt,xt.update,ht,xt.maxPoints];return i.add(nt,N.prependTraces,It,ot,arguments),Ot},N.moveTraces=function ot(nt,ut,ht){var Dt,Tt=[],xt=[],Ot=ot,It=ot,wt=[nt=e.getGraphDiv(nt),ht,ut],At=[nt,ut,ht];if(Y(nt,ut,ht),ut=Array.isArray(ut)?ut:[ut],ht===void 0)for(ht=[],Dt=0;Dt<ut.length;Dt++)ht.push(-ut.length+Dt);for(ht=Array.isArray(ht)?ht:[ht],ut=I(ut,nt.data.length-1),ht=I(ht,nt.data.length-1),Dt=0;Dt<nt.data.length;Dt++)ut.indexOf(Dt)===-1&&Tt.push(nt.data[Dt]);for(Dt=0;Dt<ut.length;Dt++)xt.push({newIndex:ht[Dt],trace:nt.data[ut[Dt]]});for(xt.sort(function(kt,Bt){return kt.newIndex-Bt.newIndex}),Dt=0;Dt<xt.length;Dt+=1)Tt.splice(xt[Dt].newIndex,0,xt[Dt].trace);nt.data=Tt;var Xt=N.redraw(nt);return i.add(nt,Ot,wt,It,At),Xt},N.prependTraces=function ot(nt,ut,ht,Dt){function Tt(wt,At,Xt){var kt,Bt;if(e.isTypedArray(wt))if(Xt<=0){var Zt=new wt.constructor(0),Ht=$(At,wt);Xt<0?(kt=Ht,Bt=Zt):(kt=Zt,Bt=Ht)}else if(kt=new wt.constructor(Xt),Bt=new wt.constructor(wt.length+At.length-Xt),Xt===At.length)kt.set(At),Bt.set(wt);else if(Xt<At.length){var ee=At.length-Xt;kt.set(At.subarray(0,ee)),Bt.set(At.subarray(ee)),Bt.set(wt,ee)}else{var qt=Xt-At.length;kt.set(At),kt.set(wt.subarray(0,qt),At.length),Bt.set(wt.subarray(qt))}else kt=At.concat(wt),Bt=Xt>=0&&Xt<kt.length?kt.splice(Xt,kt.length):[];return[kt,Bt]}var xt=B(nt=e.getGraphDiv(nt),ut,ht,Dt,Tt),Ot=N.redraw(nt),It=[nt,xt.update,ht,xt.maxPoints];return i.add(nt,N.extendTraces,It,ot,arguments),Ot},N.newPlot=function(ot,nt,ut,ht){return ot=e.getGraphDiv(ot),u.cleanPlot([],{},ot._fullData||[],ot._fullLayout||{}),u.purge(ot),N._doPlot(ot,nt,ut,ht)},N._doPlot=function(ot,nt,ut,ht){var Dt;if(ot=e.getGraphDiv(ot),l.init(ot),e.isPlainObject(nt)){var Tt=nt;nt=Tt.data,ut=Tt.layout,ht=Tt.config,Dt=Tt.frames}if(l.triggerHandler(ot,"plotly_beforeplot",[nt,ut,ht])===!1)return Promise.reject();nt||ut||e.isPlotDiv(ot)||e.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ot),R(ot,ht),ut||(ut={}),t.select(ot).classed("js-plotly-plot",!0),p.makeTester(),Array.isArray(ot._promises)||(ot._promises=[]);var xt=(ot.data||[]).length===0&&Array.isArray(nt);Array.isArray(nt)&&(A.cleanData(nt),xt?ot.data=nt:ot.data.push.apply(ot.data,nt),ot.empty=!1),ot.layout&&!xt||(ot.layout=A.cleanLayout(ut)),u.supplyDefaults(ot);var Ot=ot._fullLayout,It=Ot._has("cartesian");Ot._replotting=!0,(xt||Ot._shouldCreateBgLayer)&&(function(qt){var vt=t.select(qt),bt=qt._fullLayout;if(bt._calcInverseTransform=gt,bt._calcInverseTransform(qt),bt._container=vt.selectAll(".plot-container").data([0]),bt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),bt._paperdiv=bt._container.selectAll(".svg-container").data([0]),bt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),bt._glcontainer=bt._paperdiv.selectAll(".gl-container").data([{}]),bt._glcontainer.enter().append("div").classed("gl-container",!0),bt._paperdiv.selectAll(".main-svg").remove(),bt._paperdiv.select(".modebar-container").remove(),bt._paper=bt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),bt._toppaper=bt._paperdiv.append("svg").classed("main-svg",!0),bt._modebardiv=bt._paperdiv.append("div"),delete bt._modeBar,bt._hoverpaper=bt._paperdiv.append("svg").classed("main-svg",!0),!bt._uid){var Gt={};t.selectAll("defs").each(function(){this.id&&(Gt[this.id.split("-")[1]]=1)}),bt._uid=e.randstr(Gt)}bt._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),bt._defs=bt._paper.append("defs").attr("id","defs-"+bt._uid),bt._clips=bt._defs.append("g").classed("clips",!0),bt._topdefs=bt._toppaper.append("defs").attr("id","topdefs-"+bt._uid),bt._topclips=bt._topdefs.append("g").classed("clips",!0),bt._bgLayer=bt._paper.append("g").classed("bglayer",!0),bt._draggers=bt._paper.append("g").classed("draglayer",!0);var re=bt._paper.append("g").classed("layer-below",!0);bt._imageLowerLayer=re.append("g").classed("imagelayer",!0),bt._shapeLowerLayer=re.append("g").classed("shapelayer",!0),bt._cartesianlayer=bt._paper.append("g").classed("cartesianlayer",!0),bt._polarlayer=bt._paper.append("g").classed("polarlayer",!0),bt._ternarylayer=bt._paper.append("g").classed("ternarylayer",!0),bt._geolayer=bt._paper.append("g").classed("geolayer",!0),bt._funnelarealayer=bt._paper.append("g").classed("funnelarealayer",!0),bt._pielayer=bt._paper.append("g").classed("pielayer",!0),bt._iciclelayer=bt._paper.append("g").classed("iciclelayer",!0),bt._treemaplayer=bt._paper.append("g").classed("treemaplayer",!0),bt._sunburstlayer=bt._paper.append("g").classed("sunburstlayer",!0),bt._indicatorlayer=bt._toppaper.append("g").classed("indicatorlayer",!0),bt._glimages=bt._paper.append("g").classed("glimages",!0);var xe=bt._toppaper.append("g").classed("layer-above",!0);bt._imageUpperLayer=xe.append("g").classed("imagelayer",!0),bt._shapeUpperLayer=xe.append("g").classed("shapelayer",!0),bt._infolayer=bt._toppaper.append("g").classed("infolayer",!0),bt._menulayer=bt._toppaper.append("g").classed("menulayer",!0),bt._zoomlayer=bt._toppaper.append("g").classed("zoomlayer",!0),bt._hoverlayer=bt._hoverpaper.append("g").classed("hoverlayer",!0),bt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),qt.emit("plotly_framework")}(ot),Ot._shouldCreateBgLayer&&delete Ot._shouldCreateBgLayer),p.initGradients(ot),p.initPatterns(ot),xt&&d.saveShowSpikeInitial(ot);var wt=!ot.calcdata||ot.calcdata.length!==(ot._fullData||[]).length;wt&&u.doCalcdata(ot);for(var At=0;At<ot.calcdata.length;At++)ot.calcdata[At][0].trace=ot._fullData[At];ot._context.responsive?ot._responsiveChartHandler||(ot._responsiveChartHandler=function(){e.isHidden(ot)||u.resize(ot)},window.addEventListener("resize",ot._responsiveChartHandler)):e.clearResponsive(ot);var Xt=e.extendFlat({},Ot._size),kt=0;function Bt(){if(u.clearAutoMarginIds(ot),y.drawMarginPushers(ot),d.allowAutoMargin(ot),Ot._has("pie"))for(var qt=ot._fullData,vt=0;vt<qt.length;vt++){var bt=qt[vt];bt.type==="pie"&&bt.automargin&&u.allowAutoMargin(ot,"pie."+bt.uid+".automargin")}return u.doAutoMargin(ot),u.previousPromises(ot)}function Zt(){ot._transitioning||(y.doAutoRangeAndConstraints(ot),xt&&d.saveRangeInitial(ot),a.getComponentMethod("rangeslider","calcAutorange")(ot))}var Ht=[u.previousPromises,function(){if(Dt)return N.addFrames(ot,Dt)},function qt(){for(var vt=Ot._basePlotModules,bt=0;bt<vt.length;bt++)vt[bt].drawFramework&&vt[bt].drawFramework(ot);!Ot._glcanvas&&Ot._has("gl")&&(Ot._glcanvas=Ot._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(at){return at.key}),Ot._glcanvas.enter().append("canvas").attr("class",function(at){return"gl-canvas gl-canvas-"+at.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Gt=ot._context.plotGlPixelRatio;if(Ot._glcanvas){Ot._glcanvas.attr("width",Ot.width*Gt).attr("height",Ot.height*Gt).style("width",Ot.width+"px").style("height",Ot.height+"px");var re=Ot._glcanvas.data()[0].regl;if(re&&(Math.floor(Ot.width*Gt)!==re._gl.drawingBufferWidth||Math.floor(Ot.height*Gt)!==re._gl.drawingBufferHeight)){var xe="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!kt)return e.log(xe+" Clearing graph and plotting again."),u.cleanPlot([],{},ot._fullData,Ot),u.supplyDefaults(ot),Ot=ot._fullLayout,u.doCalcdata(ot),kt++,qt();e.error(xe)}}return Ot.modebar.orientation==="h"?Ot._modebardiv.style("height",null).style("width","100%"):Ot._modebardiv.style("width",null).style("height",Ot.height+"px"),u.previousPromises(ot)},Bt,function(){if(u.didMarginChange(Xt,Ot._size))return e.syncOrAsync([Bt,y.layoutStyles],ot)}];It&&Ht.push(function(){if(wt)return e.syncOrAsync([a.getComponentMethod("shapes","calcAutorange"),a.getComponentMethod("annotations","calcAutorange"),Zt],ot);Zt()}),Ht.push(y.layoutStyles),It&&Ht.push(function(){return d.draw(ot,xt?"":"redraw")},function(qt){qt._fullLayout._insideTickLabelsAutorange&&X(qt,qt._fullLayout._insideTickLabelsAutorange).then(function(){qt._fullLayout._insideTickLabelsAutorange=void 0})}),Ht.push(y.drawData,y.finalDraw,M,u.addLinks,u.rehover,u.redrag,u.doAutoMargin,function(qt){qt._fullLayout._insideTickLabelsAutorange&&xt&&d.saveRangeInitial(qt,!0)},u.previousPromises);var ee=e.syncOrAsync(Ht,ot);return ee&&ee.then||(ee=Promise.resolve()),ee.then(function(){return D(ot),ot})},N.purge=function(ot){var nt=(ot=e.getGraphDiv(ot))._fullLayout||{},ut=ot._fullData||[];return u.cleanPlot([],{},ut,nt),u.purge(ot),l.purge(ot),nt._container&&nt._container.remove(),delete ot._context,ot},N.react=function(ot,nt,ut,ht){var Dt,Tt;ot=e.getGraphDiv(ot),A.clearPromiseQueue(ot);var xt=ot._fullData,Ot=ot._fullLayout;if(e.isPlotDiv(ot)&&xt&&Ot){if(e.isPlainObject(nt)){var It=nt;nt=It.data,ut=It.layout,ht=It.config,Dt=It.frames}var wt=!1;if(ht){var At=e.extendDeep({},ot._context);ot._context=void 0,R(ot,ht),wt=function jt($t,ne){var se;for(se in $t)if(se.charAt(0)!=="_"){var Wt=$t[se],ae=ne[se];if(Wt!==ae)if(e.isPlainObject(Wt)&&e.isPlainObject(ae)){if(jt(Wt,ae))return!0}else{if(!Array.isArray(Wt)||!Array.isArray(ae)||Wt.length!==ae.length)return!0;for(var ce=0;ce<Wt.length;ce++)if(Wt[ce]!==ae[ce]&&(!e.isPlainObject(Wt[ce])||!e.isPlainObject(ae[ce])||jt(Wt[ce],ae[ce])))return!0}}}(At,ot._context)}ot.data=nt||[],A.cleanData(ot.data),ot.layout=ut||{},A.cleanLayout(ot.layout),function(jt,$t,ne,se){var Wt,ae,ce,be,he,me,le,Te,Me=se._preGUI,ge=[],oe={};for(Wt in Me){if(he=mt(Wt,lt)){if(ae=he.attr||he.head+".uirevision",(be=(ce=n(se,ae).get())&&Mt(ae,$t))&&be===ce&&((me=Me[Wt])===null&&(me=void 0),Yt(Te=(le=n($t,Wt)).get(),me))){Te===void 0&&Wt.substr(Wt.length-9)==="autorange"&&ge.push(Wt.substr(0,Wt.length-10)),le.set(q(n(se,Wt).get()));continue}}else e.warn("unrecognized GUI edit: "+Wt);delete Me[Wt],Wt.substr(Wt.length-8,6)==="range["&&(oe[Wt.substr(0,Wt.length-9)]=1)}for(var de=0;de<ge.length;de++){var Ae=ge[de];if(oe[Ae]){var ye=n($t,Ae).get();ye&&delete ye.autorange}}var Ce=se._tracePreGUI;for(var ue in Ce){var Re,De=Ce[ue],Oe=null;for(Wt in De){if(!Oe){var Ne=St(ue,ne);if(Ne<0){delete Ce[ue];break}var en=_t(ue,jt,(Re=ne[Ne]._fullInput).index);if(en<0){delete Ce[ue];break}Oe=jt[en]}if(he=mt(Wt,ct)){if(he.attr?be=(ce=n(se,he.attr).get())&&Mt(he.attr,$t):(ce=Re.uirevision,(be=Oe.uirevision)===void 0&&(be=$t.uirevision)),be&&be===ce&&((me=De[Wt])===null&&(me=void 0),Yt(Te=(le=n(Oe,Wt)).get(),me))){le.set(q(n(Re,Wt).get()));continue}}else e.warn("unrecognized GUI edit: "+Wt+" in trace uid "+ue);delete De[Wt]}}}(ot.data,ot.layout,xt,Ot),u.supplyDefaults(ot,{skipUpdateCalc:!0});var Xt=ot._fullData,kt=ot._fullLayout,Bt=kt.datarevision===void 0,Zt=kt.transition,Ht=function(jt,$t,ne,se,Wt){var ae=T.layoutFlags();function ce(be){return r.getLayoutValObject(ne,be)}return ae.arrays={},ae.rangesAltered={},ae.nChanges=0,ae.nChangesAnim=0,Et($t,ne,[],{getValObject:ce,flags:ae,immutable:se,transition:Wt,gd:jt}),(ae.plot||ae.calc)&&(ae.layoutReplot=!0),Wt&&ae.nChanges&&ae.nChangesAnim&&(ae.anim=ae.nChanges===ae.nChangesAnim?"all":"some"),ae}(ot,Ot,kt,Bt,Zt),ee=Ht.newDataRevision,qt=function(jt,$t,ne,se,Wt,ae){var ce=$t.length===ne.length;if(!Wt&&!ce)return{fullReplot:!0,calc:!0};var be,he,me=T.traceFlags();me.arrays={},me.nChanges=0,me.nChangesAnim=0;var le={getValObject:function(Me){var ge=r.getTraceValObject(he,Me);return!he._module.animatable&&ge.anim&&(ge.anim=!1),ge},flags:me,immutable:se,transition:Wt,newDataRevision:ae,gd:jt},Te={};for(be=0;be<$t.length;be++)if(ne[be]){if(he=ne[be]._fullInput,u.hasMakesDataTransform(he)&&(he=ne[be]),Te[he.uid])continue;Te[he.uid]=1,Et($t[be]._fullInput,he,[],le)}return(me.calc||me.plot)&&(me.fullReplot=!0),Wt&&me.nChanges&&me.nChangesAnim&&(me.anim=me.nChanges===me.nChangesAnim&&ce?"all":"some"),me}(ot,xt,Xt,Bt,Zt,ee);if(Q(ot)&&(Ht.layoutReplot=!0),qt.calc||Ht.calc){ot.calcdata=void 0;for(var vt=Object.getOwnPropertyNames(kt),bt=0;bt<vt.length;bt++){var Gt=vt[bt],re=Gt.substring(0,5);if(re==="xaxis"||re==="yaxis"){var xe=kt[Gt]._emptyCategories;xe&&xe()}}}else u.supplyDefaultsUpdateCalc(ot.calcdata,Xt);var at=[];if(Dt&&(ot._transitionData={},u.createTransitionData(ot),at.push(function(){return N.addFrames(ot,Dt)})),kt.transition&&!wt&&(qt.anim||Ht.anim))Ht.ticks&&at.push(y.doTicksRelayout),u.doCalcdata(ot),y.doAutoRangeAndConstraints(ot),at.push(function(){return u.transitionFromReact(ot,qt,Ht,Ot)});else if(qt.fullReplot||Ht.layoutReplot||wt)ot._fullLayout._skipDefaults=!0,at.push(N._doPlot);else{for(var st in Ht.arrays){var Lt=Ht.arrays[st];if(Lt.length){var Ct=a.getComponentMethod(st,"drawOne");if(Ct!==e.noop)for(var Nt=0;Nt<Lt.length;Nt++)Ct(ot,Lt[Nt]);else{var Pt=a.getComponentMethod(st,"draw");if(Pt===e.noop)throw new Error("cannot draw components: "+st);Pt(ot)}}}at.push(u.previousPromises),qt.style&&at.push(y.doTraceStyle),(qt.colorbars||Ht.colorbars)&&at.push(y.doColorBars),Ht.legend&&at.push(y.doLegend),Ht.layoutstyle&&at.push(y.layoutStyles),Ht.axrange&&Z(at),Ht.ticks&&at.push(y.doTicksRelayout),Ht.modebar&&at.push(y.doModeBar),Ht.camera&&at.push(y.doCamera),at.push(D)}at.push(u.rehover,u.redrag),(Tt=e.syncOrAsync(at,ot))&&Tt.then||(Tt=Promise.resolve(ot))}else Tt=N.newPlot(ot,nt,ut,ht);return Tt.then(function(){return ot.emit("plotly_react",{data:nt,layout:ut}),ot})},N.redraw=function(ot){if(ot=e.getGraphDiv(ot),!e.isPlotDiv(ot))throw new Error("This element is not a Plotly plot: "+ot);return A.cleanData(ot.data),A.cleanLayout(ot.layout),ot.calcdata=void 0,N._doPlot(ot).then(function(){return ot.emit("plotly_redraw"),ot})},N.relayout=X,N.restyle=rt,N.setPlotConfig=function(ot){return e.extendFlat(v,ot)},N.update=et,N._guiRelayout=tt(X),N._guiRestyle=tt(rt),N._guiUpdate=tt(et),N._storeDirectGUIEdit=function(ot,nt,ut){for(var ht in ut)C(ht,n(ot,ht).get(),ut[ht],nt)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":299,"../plots/plots":314,"../registry":316,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(c,J,N){var t={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},s={};(function o(e,n){for(var l in e){var i=e[l];i.valType?n[l]=i.dflt:(n[l]||(n[l]={}),o(i,n[l]))}})(t,s),J.exports={configAttributes:t,dfltConfig:s}},{}],267:[function(c,J,N){var t=c("../registry"),s=c("../lib"),o=c("../plots/attributes"),e=c("../plots/layout_attributes"),n=c("../plots/frame_attributes"),l=c("../plots/animation_attributes"),i=c("./plot_config").configAttributes,a=c("./edit_types"),r=s.extendDeepAll,u=s.isPlainObject,d=s.isArrayOrTypedArray,p=s.nestedProperty,m=s.valObjectMeta,M=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function w(k,x,D){if(!k)return!1;if(k._isLinkedToArray){if(b(x[D]))D++;else if(D<x.length)return!1}for(;D<x.length;D++){var z=k[x[D]];if(!u(z)||(k=z,D===x.length-1))break;if(k._isLinkedToArray){if(!b(x[++D]))return!1}else if(k.valType==="info_array"){var g=x[++D];if(!b(g))return!1;var R=k.items;if(Array.isArray(R)){if(g>=R.length)return!1;if(k.dimensions===2){if(D++,x.length===D)return k;var I=x[D];if(!b(I))return!1;k=R[g][I]}else k=R[g]}else k=R}}return k}function b(k){return k===Math.round(k)&&k>=0}function v(){var k,x,D={};for(k in r(D,e),t.subplotsRegistry)if((x=t.subplotsRegistry[k]).layoutAttributes)if(Array.isArray(x.attr))for(var z=0;z<x.attr.length;z++)y(D,x,x.attr[z]);else y(D,x,x.attr==="subplot"?x.name:x.attr);for(k in t.componentsRegistry){var g=(x=t.componentsRegistry[k]).schema;if(g&&(g.subplots||g.layout)){var R=g.subplots;if(R&&R.xaxis&&!R.yaxis)for(var I in R.xaxis)delete D.yaxis[I]}else x.name==="colorscale"?r(D,x.layoutAttributes):x.layoutAttributes&&T(D,x.layoutAttributes,x.name)}return{layoutAttributes:A(D)}}function h(){var k={frames:r({},n)};return A(k),k.frames}function A(k){return function(x){N.crawl(x,function(D,z,g){N.isValObject(D)?D.arrayOk!==!0&&D.valType!=="data_array"||(g[z+"src"]={valType:"string",editType:"none"}):u(D)&&(D.role="object")})}(k),function(x){N.crawl(x,function(D,z,g){if(D){var R=D._isLinkedToArray;R&&(delete D._isLinkedToArray,g[z]={items:{}},g[z].items[R]=D,g[z].role="object")}})}(k),function(x){(function D(z){for(var g in z)if(u(z[g]))D(z[g]);else if(Array.isArray(z[g]))for(var R=0;R<z[g].length;R++)D(z[g][R]);else z[g]instanceof RegExp&&(z[g]=z[g].toString())})(x)}(k),k}function y(k,x,D){var z=p(k,D),g=r({},x.layoutAttributes);g._isSubplotObj=!0,z.set(g)}function T(k,x,D){var z=p(k,D);z.set(r(z.get()||{},x))}N.IS_SUBPLOT_OBJ="_isSubplotObj",N.IS_LINKED_TO_ARRAY="_isLinkedToArray",N.DEPRECATED="_deprecated",N.UNDERSCORE_ATTRS=M,N.get=function(){var k={};t.allTypes.forEach(function(D){k[D]=function(z){var g,R;g=t.modules[z]._module,R=g.basePlotModule;var I={type:null},j=r({},o),Y=r({},g.attributes);N.crawl(Y,function(rt,q,H,C,F){p(j,F).set(void 0),rt===void 0&&p(Y,F).set(void 0)}),r(I,j),t.traceIs(z,"noOpacity")&&delete I.opacity,t.traceIs(z,"showLegend")||(delete I.showlegend,delete I.legendgroup),t.traceIs(z,"noHover")&&(delete I.hoverinfo,delete I.hoverlabel),g.selectPoints||delete I.selectedpoints,r(I,Y),R.attributes&&r(I,R.attributes),I.type=z;var B={meta:g.meta||{},categories:g.categories||{},animatable:!!g.animatable,type:z,attributes:A(I)};if(g.layoutAttributes){var $={};r($,g.layoutAttributes),B.layoutAttributes=A($)}return g.animatable||N.crawl(B,function(rt){N.isValObject(rt)&&"anim"in rt&&delete rt.anim}),B}(D)});var x={};return Object.keys(t.transformsRegistry).forEach(function(D){x[D]=function(z){var g=t.transformsRegistry[z],R=r({},g.attributes);return Object.keys(t.componentsRegistry).forEach(function(I){var j=t.componentsRegistry[I];j.schema&&j.schema.transforms&&j.schema.transforms[z]&&Object.keys(j.schema.transforms[z]).forEach(function(Y){T(R,j.schema.transforms[z][Y],Y)})}),{attributes:A(R)}}(D)}),{defs:{valObjects:m,metaKeys:M.concat(["description","role","editType","impliedEdits"]),editType:{traces:a.traces,layout:a.layout},impliedEdits:{}},traces:k,layout:v(),transforms:x,frames:h(),animation:A(l),config:A(i)}},N.crawl=function(k,x,D,z){var g=D||0;z=z||"",Object.keys(k).forEach(function(R){var I=k[R];if(M.indexOf(R)===-1){var j=(z?z+".":"")+R;x(I,R,k,g,j),N.isValObject(I)||u(I)&&R!=="impliedEdits"&&N.crawl(I,x,g+1,j)}})},N.isValObject=function(k){return k&&k.valType!==void 0},N.findArrayAttributes=function(k){var x,D,z=[],g=[],R=[];function I(rt,q,H,C){g=g.slice(0,C).concat([q]),R=R.slice(0,C).concat([rt&&rt._isLinkedToArray]),rt&&(rt.valType==="data_array"||rt.arrayOk===!0)&&!(g[C-1]==="colorbar"&&(q==="ticktext"||q==="tickvals"))&&function F(L,X,E){var Z=L[g[X]],S=E+g[X];if(X===g.length-1)d(Z)&&z.push(D+S);else if(R[X]){if(Array.isArray(Z))for(var U=0;U<Z.length;U++)u(Z[U])&&F(Z[U],X+1,S+"["+U+"].")}else u(Z)&&F(Z,X+1,S+".")}(x,0,"")}x=k,D="",N.crawl(o,I),k._module&&k._module.attributes&&N.crawl(k._module.attributes,I);var j=k.transforms;if(j)for(var Y=0;Y<j.length;Y++){var B=j[Y],$=B._module;$&&(D="transforms["+Y+"].",x=B,N.crawl($.attributes,I))}return z},N.getTraceValObject=function(k,x){var D,z,g=x[0],R=1;if(g==="transforms"){if(x.length===1)return o.transforms;var I=k.transforms;if(!Array.isArray(I)||!I.length)return!1;var j=x[1];if(!b(j)||j>=I.length)return!1;z=(D=(t.transformsRegistry[I[j].type]||{}).attributes)&&D[x[2]],R=3}else{var Y=k._module;if(Y||(Y=(t.modules[k.type||o.type.dflt]||{})._module),!Y)return!1;if(!(z=(D=Y.attributes)&&D[g])){var B=Y.basePlotModule;B&&B.attributes&&(z=B.attributes[g])}z||(z=o[g])}return w(z,x,R)},N.getLayoutValObject=function(k,x){return w(function(D,z){var g,R,I,j,Y=D._basePlotModules;if(Y){var B;for(g=0;g<Y.length;g++){if((I=Y[g]).attrRegex&&I.attrRegex.test(z)){if(I.layoutAttrOverrides)return I.layoutAttrOverrides;!B&&I.layoutAttributes&&(B=I.layoutAttributes)}var $=I.baseLayoutAttrOverrides;if($&&z in $)return $[z]}if(B)return B}var rt=D._modules;if(rt){for(g=0;g<rt.length;g++)if((j=rt[g].layoutAttributes)&&z in j)return j[z]}for(R in t.componentsRegistry){if((I=t.componentsRegistry[R]).name==="colorscale"&&z.indexOf("coloraxis")===0)return I.layoutAttributes[z];if(!I.schema&&z===I.name)return I.layoutAttributes}return z in e&&e[z]}(k,x[0]),x,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":309,"../plots/layout_attributes":312,"../registry":316,"./edit_types":261,"./plot_config":266}],268:[function(c,J,N){var t=c("../lib"),s=c("../plots/attributes"),o={name:{valType:"string",editType:"none"}};function e(l){return l&&typeof l=="string"}function n(l){var i=l.length-1;return l.charAt(i)!=="s"&&t.warn("bad argument to arrayDefaultKey: "+l),l.substr(0,l.length-1)+"defaults"}o.templateitemname={valType:"string",editType:"calc"},N.templatedArray=function(l,i){return i._isLinkedToArray=l,i.name=o.name,i.templateitemname=o.templateitemname,i},N.traceTemplater=function(l){var i,a,r={};for(i in l)a=l[i],Array.isArray(a)&&a.length&&(r[i]=0);return{newTrace:function(u){var d={type:i=t.coerce(u,{},s,"type"),_template:null};if(i in r){a=l[i];var p=r[i]%a.length;r[i]++,d._template=a[p]}return d}}},N.newContainer=function(l,i,a){var r=l._template,u=r&&(r[i]||a&&r[a]);return t.isPlainObject(u)||(u=null),l[i]={_template:u}},N.arrayTemplater=function(l,i,a){var r=l._template,u=r&&r[n(i)],d=r&&r[i];Array.isArray(d)&&d.length||(d=[]);var p={};return{newItem:function(m){var M={name:m.name,_input:m},w=M.templateitemname=m.templateitemname;if(!e(w))return M._template=u,M;for(var b=0;b<d.length;b++){var v=d[b];if(v.name===w)return p[w]=1,M._template=v,M}return M[a]=m[a]||!1,M._template=!1,M},defaultItems:function(){for(var m=[],M=0;M<d.length;M++){var w=d[M],b=w.name;if(e(b)&&!p[b]){var v={_template:w,name:b,_input:{_templateitemname:b}};v.templateitemname=w.templateitemname,m.push(v),p[b]=1}}return m}}},N.arrayDefaultKey=n,N.arrayEditor=function(l,i,a){var r=(t.nestedProperty(l,i).get()||[]).length,u=a._index,d=u>=r&&(a._input||{})._templateitemname;d&&(u=r);var p,m=i+"["+u+"]";function M(){p={},d&&(p[m]={},p[m].templateitemname=d)}function w(v,h){d?t.nestedProperty(p[m],v).set(h):p[m+"."+v]=h}function b(){var v=p;return M(),v}return M(),{modifyBase:function(v,h){p[v]=h},modifyItem:w,getUpdateObj:b,applyUpdate:function(v,h){v&&w(v,h);var A=b();for(var y in A)t.nestedProperty(l,y).set(A[y])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(c,J,N){var t=c("@plotly/d3"),s=c("../registry"),o=c("../plots/plots"),e=c("../lib"),n=c("../lib/clear_gl_canvases"),l=c("../components/color"),i=c("../components/drawing"),a=c("../components/titles"),r=c("../components/modebar"),u=c("../plots/cartesian/axes"),d=c("../constants/alignment"),p=c("../plots/cartesian/constraints"),m=p.enforce,M=p.clean,w=c("../plots/cartesian/autorange").doAutoRange;function b(x,D,z){for(var g=0;g<z.length;g++){var R=z[g][0],I=z[g][1];if(!(R[0]>=x[1]||R[1]<=x[0])&&I[0]<D[1]&&I[1]>D[0])return!0}return!1}function v(x){var D,z,g,R,I,j,Y=x._fullLayout,B=Y._size,$=B.p,rt=u.list(x,"",!0);if(Y._paperdiv.style({width:x._context.responsive&&Y.autosize&&!x._context._hasZeroWidth&&!x.layout.width?"100%":Y.width+"px",height:x._context.responsive&&Y.autosize&&!x._context._hasZeroHeight&&!x.layout.height?"100%":Y.height+"px"}).selectAll(".main-svg").call(i.setSize,Y.width,Y.height),x._context.setBackground(x,Y.paper_bgcolor),N.drawMainTitle(x),r.manage(x),!Y._has("cartesian"))return o.previousPromises(x);function q(kt,Bt,Zt){var Ht=kt._lw/2;return kt._id.charAt(0)==="x"?Bt?Zt==="top"?Bt._offset-$-Ht:Bt._offset+Bt._length+$+Ht:B.t+B.h*(1-(kt.position||0))+Ht%1:Bt?Zt==="right"?Bt._offset+Bt._length+$+Ht:Bt._offset-$-Ht:B.l+B.w*(kt.position||0)+Ht%1}for(D=0;D<rt.length;D++){var H=(R=rt[D])._anchorAxis;R._linepositions={},R._lw=i.crispRound(x,R.linewidth,1),R._mainLinePosition=q(R,H,R.side),R._mainMirrorPosition=R.mirror&&H?q(R,H,d.OPPOSITE_SIDE[R.side]):null}var C=[],F=[],L=[],X=l.opacity(Y.paper_bgcolor)===1&&l.opacity(Y.plot_bgcolor)===1&&Y.paper_bgcolor===Y.plot_bgcolor;for(z in Y._plots)if((g=Y._plots[z]).mainplot)g.bg&&g.bg.remove(),g.bg=void 0;else{var E=g.xaxis.domain,Z=g.yaxis.domain,S=g.plotgroup;if(b(E,Z,L)){var U=S.node(),P=g.bg=e.ensureSingle(S,"rect","bg");U.insertBefore(P.node(),U.childNodes[0]),F.push(z)}else S.select("rect.bg").remove(),L.push([E,Z]),X||(C.push(z),F.push(z))}var G,Q,et,tt,lt,ct,mt,Mt,St,_t,Yt,Et,gt,ot=Y._bgLayer.selectAll(".bg").data(C);for(ot.enter().append("rect").classed("bg",!0),ot.exit().remove(),ot.each(function(kt){Y._plots[kt].bg=t.select(this)}),D=0;D<F.length;D++)g=Y._plots[F[D]],I=g.xaxis,j=g.yaxis,g.bg&&I._offset!==void 0&&j._offset!==void 0&&g.bg.call(i.setRect,I._offset-$,j._offset-$,I._length+2*$,j._length+2*$).call(l.fill,Y.plot_bgcolor).style("stroke-width",0);if(!Y._hasOnlyLargeSploms)for(z in Y._plots){g=Y._plots[z],I=g.xaxis,j=g.yaxis;var nt,ut,ht=g.clipId="clip"+Y._uid+z+"plot",Dt=e.ensureSingleById(Y._clips,"clipPath",ht,function(kt){kt.classed("plotclip",!0).append("rect")});g.clipRect=Dt.select("rect").attr({width:I._length,height:j._length}),i.setTranslate(g.plot,I._offset,j._offset),g._hasClipOnAxisFalse?(nt=null,ut=ht):(nt=ht,ut=null),i.setClipUrl(g.plot,nt,x),g.layerClipId=ut}function Tt(kt){return"M"+G+","+kt+"H"+Q}function xt(kt){return"M"+I._offset+","+kt+"h"+I._length}function Ot(kt){return"M"+kt+","+Mt+"V"+mt}function It(kt){return"M"+kt+","+j._offset+"v"+j._length}function wt(kt,Bt,Zt){if(!kt.showline||z!==kt._mainSubplot)return"";if(!kt._anchorAxis)return Zt(kt._mainLinePosition);var Ht=Bt(kt._mainLinePosition);return kt.mirror&&(Ht+=Bt(kt._mainMirrorPosition)),Ht}for(z in Y._plots){g=Y._plots[z],I=g.xaxis,j=g.yaxis;var At="M0,0";h(I,z)&&(lt=y(I,"left",j,rt),G=I._offset-(lt?$+lt:0),ct=y(I,"right",j,rt),Q=I._offset+I._length+(ct?$+ct:0),et=q(I,j,"bottom"),tt=q(I,j,"top"),!(gt=!I._anchorAxis||z!==I._mainSubplot)||I.mirror!=="allticks"&&I.mirror!=="all"||(I._linepositions[z]=[et,tt]),At=wt(I,Tt,xt),gt&&I.showline&&(I.mirror==="all"||I.mirror==="allticks")&&(At+=Tt(et)+Tt(tt)),g.xlines.style("stroke-width",I._lw+"px").call(l.stroke,I.showline?I.linecolor:"rgba(0,0,0,0)")),g.xlines.attr("d",At);var Xt="M0,0";h(j,z)&&(Yt=y(j,"bottom",I,rt),mt=j._offset+j._length+(Yt?$:0),Et=y(j,"top",I,rt),Mt=j._offset-(Et?$:0),St=q(j,I,"left"),_t=q(j,I,"right"),!(gt=!j._anchorAxis||z!==j._mainSubplot)||j.mirror!=="allticks"&&j.mirror!=="all"||(j._linepositions[z]=[St,_t]),Xt=wt(j,Ot,It),gt&&j.showline&&(j.mirror==="all"||j.mirror==="allticks")&&(Xt+=Ot(St)+Ot(_t)),g.ylines.style("stroke-width",j._lw+"px").call(l.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),g.ylines.attr("d",Xt)}return u.makeClipPaths(x),o.previousPromises(x)}function h(x,D){return(x.ticks||x.showline)&&(D===x._mainSubplot||x.mirror==="all"||x.mirror==="allticks")}function A(x,D,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var g=z._anchorAxis;if(!g)return!1;var R=d.FROM_BL[D];return z.side===D?g.domain[R]===x.domain[R]:z.mirror&&g.domain[1-R]===x.domain[1-R]}function y(x,D,z,g){if(A(x,D,z))return z._lw;for(var R=0;R<g.length;R++){var I=g[R];if(I._mainAxis===z._mainAxis&&A(x,D,I))return I._lw}return 0}function T(x,D){var z=x.title,g=x._size,R=0;switch(D==="start"?R=z.pad.l:D==="end"&&(R=-z.pad.r),z.xref){case"paper":return g.l+g.w*z.x+R;case"container":default:return x.width*z.x+R}}function k(x,D){var z=x.title,g=x._size,R=0;if(D!=="0em"&&D?D===d.CAP_SHIFT+"em"&&(R=z.pad.t):R=-z.pad.b,z.y==="auto")return g.t/2;switch(z.yref){case"paper":return g.t+g.h-g.h*z.y+R;case"container":default:return x.height-x.height*z.y+R}}N.layoutStyles=function(x){return e.syncOrAsync([o.doAutoMargin,v],x)},N.drawMainTitle=function(x){var D=x._fullLayout,z=function(R){var I=R.title,j="middle";return e.isRightAnchor(I)?j="end":e.isLeftAnchor(I)&&(j="start"),j}(D),g=function(R){var I=R.title,j="0em";return e.isTopAnchor(I)?j=d.CAP_SHIFT+"em":e.isMiddleAnchor(I)&&(j=d.MID_SHIFT+"em"),j}(D);a.draw(x,"gtitle",{propContainer:D,propName:"title.text",placeholder:D._dfltTitle.plot,attributes:{x:T(D,z),y:k(D,g),"text-anchor":z,dy:g}})},N.doTraceStyle=function(x){var D,z=x.calcdata,g=[];for(D=0;D<z.length;D++){var R=z[D],I=R[0]||{},j=I.trace||{},Y=j._module||{},B=Y.arraysToCalcdata;B&&B(R,j);var $=Y.editStyle;$&&g.push({fn:$,cd0:I})}if(g.length){for(D=0;D<g.length;D++){var rt=g[D];rt.fn(x,rt.cd0)}n(x),N.redrawReglTraces(x)}return o.style(x),s.getComponentMethod("legend","draw")(x),o.previousPromises(x)},N.doColorBars=function(x){return s.getComponentMethod("colorbar","draw")(x),o.previousPromises(x)},N.layoutReplot=function(x){var D=x.layout;return x.layout=void 0,s.call("_doPlot",x,"",D)},N.doLegend=function(x){return s.getComponentMethod("legend","draw")(x),o.previousPromises(x)},N.doTicksRelayout=function(x){return u.draw(x,"redraw"),x._fullLayout._hasOnlyLargeSploms&&(s.subplotsRegistry.splom.updateGrid(x),n(x),N.redrawReglTraces(x)),N.drawMainTitle(x),o.previousPromises(x)},N.doModeBar=function(x){var D=x._fullLayout;r.manage(x);for(var z=0;z<D._basePlotModules.length;z++){var g=D._basePlotModules[z].updateFx;g&&g(x)}return o.previousPromises(x)},N.doCamera=function(x){for(var D=x._fullLayout,z=D._subplots.gl3d,g=0;g<z.length;g++){var R=D[z[g]];R._scene.setViewport(R)}},N.drawData=function(x){var D=x._fullLayout;n(x);for(var z=D._basePlotModules,g=0;g<z.length;g++)z[g].plot(x);return N.redrawReglTraces(x),o.style(x),s.getComponentMethod("shapes","draw")(x),s.getComponentMethod("annotations","draw")(x),s.getComponentMethod("images","draw")(x),D._replotting=!1,o.previousPromises(x)},N.redrawReglTraces=function(x){var D=x._fullLayout;if(D._has("regl")){var z,g,R=x._fullData,I=[],j=[];for(D._hasOnlyLargeSploms&&D._splomGrid.draw(),z=0;z<R.length;z++){var Y=R[z];Y.visible===!0&&Y._length!==0&&(Y.type==="splom"?D._splomScenes[Y.uid].draw():Y.type==="scattergl"?e.pushUnique(I,Y.xaxis+Y.yaxis):Y.type==="scatterpolargl"&&e.pushUnique(j,Y.subplot))}for(z=0;z<I.length;z++)(g=D._plots[I[z]])._scene&&g._scene.draw();for(z=0;z<j.length;z++)(g=D[j[z]]._subplot)._scene&&g._scene.draw()}},N.doAutoRangeAndConstraints=function(x){for(var D,z=u.list(x,"",!0),g={},R=0;R<z.length;R++)if(!g[(D=z[R])._id]){g[D._id]=1,M(x,D),w(x,D);var I=D._matchGroup;if(I)for(var j in I){var Y=u.getFromId(x,j);w(x,Y,D.range),g[j]=1}}m(x)},N.finalDraw=function(x){s.getComponentMethod("rangeslider","draw")(x),s.getComponentMethod("rangeselector","draw")(x)},N.drawMarginPushers=function(x){s.getComponentMethod("legend","draw")(x),s.getComponentMethod("rangeselector","draw")(x),s.getComponentMethod("sliders","draw")(x),s.getComponentMethod("updatemenus","draw")(x),s.getComponentMethod("colorbar","draw")(x)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":314,"../registry":316,"@plotly/d3":11}],270:[function(c,J,N){var t=c("../lib"),s=t.isPlainObject,o=c("./plot_schema"),e=c("../plots/plots"),n=c("../plots/attributes"),l=c("./plot_template"),i=c("./plot_config").dfltConfig;function a(b,v){b=t.extendDeep({},b);var h,A,y=Object.keys(b).sort();function T(g,R,I){if(s(R)&&s(g))a(g,R);else if(Array.isArray(R)&&Array.isArray(g)){var j=l.arrayTemplater({_template:b},I);for(A=0;A<R.length;A++){var Y=R[A],B=j.newItem(Y)._template;B&&a(B,Y)}var $=j.defaultItems();for(A=0;A<$.length;A++)R.push($[A]._template);for(A=0;A<R.length;A++)delete R[A].templateitemname}}for(h=0;h<y.length;h++){var k=y[h],x=b[k];if(k in v?T(x,v[k],k):v[k]=x,r(k)===k)for(var D in v){var z=r(D);D===z||z!==k||D in b||T(x,v[D],k)}}}function r(b){return b.replace(/[0-9]+$/,"")}function u(b,v,h,A,y){var T=y&&h(y);for(var k in b){var x=b[k],D=m(b,k,A),z=m(b,k,y),g=h(z);if(!g){var R=r(k);R!==k&&(g=h(z=m(b,R,y)))}if((!T||T!==g)&&!(!g||g._noTemplating||g.valType==="data_array"||g.arrayOk&&Array.isArray(x)))if(!g.valType&&s(x))u(x,v,h,D,z);else if(g._isLinkedToArray&&Array.isArray(x))for(var I=!1,j=0,Y={},B=0;B<x.length;B++){var $=x[B];if(s($)){var rt=$.name;if(rt)Y[rt]||(u($,v,h,m(x,j,D),m(x,j,z)),j++,Y[rt]=1);else if(!I){var q=m(b,l.arrayDefaultKey(k),A),H=m(x,j,D);u($,v,h,H,m(x,j,z));var C=t.nestedProperty(v,H);t.nestedProperty(v,q).set(C.get()),C.set(null),I=!0}}}else t.nestedProperty(v,D).set(x)}}function d(b,v){return o.getLayoutValObject(b,t.nestedProperty({},v).parts)}function p(b,v){return o.getTraceValObject(b,t.nestedProperty({},v).parts)}function m(b,v,h){return h?Array.isArray(b)?h+"["+v+"]":h+"."+v:v}function M(b){for(var v=0;v<b.length;v++)if(s(b[v]))return!0}function w(b){var v;switch(b.code){case"data":v="The template has no key data.";break;case"layout":v="The template has no key layout.";break;case"missing":v=b.path?"There are no templates for item "+b.path+" with name "+b.templateitemname:"There are no templates for trace "+b.index+", of type "+b.traceType+".";break;case"unused":v=b.path?"The template item at "+b.path+" was not used in constructing the plot.":b.dataCount?"Some of the templates of type "+b.traceType+" were not used. The template has "+b.templateCount+" traces, the data only has "+b.dataCount+" of this type.":"The template has "+b.templateCount+" traces of type "+b.traceType+" but there are none in the data.";break;case"reused":v="Some of the templates of type "+b.traceType+" were used more than once. The template has "+b.templateCount+" traces, the data has "+b.dataCount+" of this type."}return b.msg=v,b}N.makeTemplate=function(b){b=t.isPlainObject(b)?b:t.getGraphDiv(b),b=t.extendDeep({_context:i},{data:b.data,layout:b.layout}),e.supplyDefaults(b);var v=b.data||[],h=b.layout||{};h._basePlotModules=b._fullLayout._basePlotModules,h._modules=b._fullLayout._modules;var A={data:{},layout:{}};v.forEach(function(j){var Y={};u(j,Y,p.bind(null,j));var B=t.coerce(j,{},n,"type"),$=A.data[B];$||($=A.data[B]=[]),$.push(Y)}),u(h,A.layout,d.bind(null,h)),delete A.layout.template;var y=h.template;if(s(y)){var T,k,x,D,z,g,R=y.layout;s(R)&&a(R,A.layout);var I=y.data;if(s(I)){for(k in A.data)if(x=I[k],Array.isArray(x)){for(g=(z=A.data[k]).length,D=x.length,T=0;T<g;T++)a(x[T%D],z[T]);for(T=g;T<D;T++)z.push(t.extendDeep({},x[T]))}for(k in I)k in A.data||(A.data[k]=t.extendDeep([],I[k]))}}return A},N.validateTemplate=function(b,v){var h=t.extendDeep({},{_context:i,data:b.data,layout:b.layout}),A=h.layout||{};s(v)||(v=A.template||{});var y=v.layout,T=v.data,k=[];h.layout=A,h.layout.template=v,e.supplyDefaults(h);var x=h._fullLayout,D=h._fullData,z={};if(s(y)?(function $(rt,q){for(var H in rt)if(H.charAt(0)!=="_"&&s(rt[H])){var C,F=r(H),L=[];for(C=0;C<q.length;C++)L.push(m(rt,H,q[C])),F!==H&&L.push(m(rt,F,q[C]));for(C=0;C<L.length;C++)z[L[C]]=1;$(rt[H],L)}}(x,["layout"]),function $(rt,q){for(var H in rt)if(H.indexOf("defaults")===-1&&s(rt[H])){var C=m(rt,H,q);z[C]?$(rt[H],C):k.push({code:"unused",path:C})}}(y,"layout")):k.push({code:"layout"}),s(T)){for(var g,R={},I=0;I<D.length;I++){var j=D[I];R[g=j.type]=(R[g]||0)+1,j._fullInput._template||k.push({code:"missing",index:j._fullInput.index,traceType:g})}for(g in T){var Y=T[g].length,B=R[g]||0;Y>B?k.push({code:"unused",traceType:g,templateCount:Y,dataCount:B}):B>Y&&k.push({code:"reused",traceType:g,templateCount:Y,dataCount:B})}}else k.push({code:"data"});if(function $(rt,q){for(var H in rt)if(H.charAt(0)!=="_"){var C=rt[H],F=m(rt,H,q);s(C)?(Array.isArray(rt)&&C._template===!1&&C.templateitemname&&k.push({code:"missing",path:F,templateitemname:C.templateitemname}),$(C,F)):Array.isArray(C)&&M(C)&&$(C,F)}}({data:D,layout:x},""),k.length)return k.map(w)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":314,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(c,J,N){var t=c("fast-isnumeric"),s=c("./plot_api"),o=c("../plots/plots"),e=c("../lib"),n=c("../snapshot/helpers"),l=c("../snapshot/tosvg"),i=c("../snapshot/svgtoimg"),a=c("../version").version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};J.exports=function(u,d){var p,m,M,w;function b(B){return!(B in d)||e.validate(d[B],r[B])}if(d=d||{},e.isPlainObject(u)?(p=u.data||[],m=u.layout||{},M=u.config||{},w={}):(u=e.getGraphDiv(u),p=e.extendDeep([],u.data),m=e.extendDeep({},u.layout),M=u._context,w=u._fullLayout||{}),!b("width")&&d.width!==null||!b("height")&&d.height!==null)throw new Error("Height and width should be pixel values.");if(!b("format"))throw new Error("Export format is not "+e.join2(r.format.values,", "," or ")+".");var v={};function h(B,$){return e.coerce(d,v,r,B,$)}var A=h("format"),y=h("width"),T=h("height"),k=h("scale"),x=h("setBackground"),D=h("imageDataOnly"),z=document.createElement("div");z.style.position="absolute",z.style.left="-5000px",document.body.appendChild(z);var g=e.extendFlat({},m);y?g.width=y:d.width===null&&t(w.width)&&(g.width=w.width),T?g.height=T:d.height===null&&t(w.height)&&(g.height=w.height);var R=e.extendFlat({},M,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),I=n.getRedrawFunc(z);function j(){return new Promise(function(B){setTimeout(B,n.getDelay(z._fullLayout))})}function Y(){return new Promise(function(B,$){var rt=l(z,A,k),q=z._fullLayout.width,H=z._fullLayout.height;function C(){s.purge(z),document.body.removeChild(z)}if(A==="full-json"){var F=o.graphJson(z,!1,"keepdata","object",!0,!0);return F.version=a,F=JSON.stringify(F),C(),B(D?F:n.encodeJSON(F))}if(C(),A==="svg")return B(D?rt:n.encodeSVG(rt));var L=document.createElement("canvas");L.id=e.randstr(),i({format:A,width:q,height:H,scale:k,canvas:L,svg:rt,promise:!0}).then(B).catch($)})}return new Promise(function(B,$){s.newPlot(z,p,g,R).then(I).then(j).then(Y).then(function(rt){B(function(q){return D?q.replace(n.IMAGE_URL_PREFIX,""):q}(rt))}).catch(function(rt){$(rt)})})}},{"../lib":232,"../plots/plots":314,"../snapshot/helpers":320,"../snapshot/svgtoimg":322,"../snapshot/tosvg":324,"../version":389,"./plot_api":265,"fast-isnumeric":17}],272:[function(c,J,N){var t=c("../lib"),s=c("../plots/plots"),o=c("./plot_schema"),e=c("./plot_config").dfltConfig,n=t.isPlainObject,l=Array.isArray,i=t.isArrayOrTypedArray;function a(v,h,A,y,T,k){k=k||[];for(var x=Object.keys(v),D=0;D<x.length;D++){var z=x[D];if(z!=="transforms"){var g=k.slice();g.push(z);var R=v[z],I=h[z],j=M(A,z),Y=(j||{}).valType,B=Y==="info_array",$=Y==="colorscale",rt=(j||{}).items;if(m(A,z))if(n(R)&&n(I)&&Y!=="any")a(R,I,j,y,T,g);else if(B&&l(R)){R.length>I.length&&y.push(p("unused",T,g.concat(I.length)));var q,H,C,F,L,X=I.length,E=Array.isArray(rt);if(E&&(X=Math.min(X,rt.length)),j.dimensions===2)for(H=0;H<X;H++)if(l(R[H])){R[H].length>I[H].length&&y.push(p("unused",T,g.concat(H,I[H].length)));var Z=I[H].length;for(q=0;q<(E?Math.min(Z,rt[H].length):Z);q++)C=E?rt[H][q]:rt,F=R[H][q],L=I[H][q],t.validate(F,C)?L!==F&&L!==+F&&y.push(p("dynamic",T,g.concat(H,q),F,L)):y.push(p("value",T,g.concat(H,q),F))}else y.push(p("array",T,g.concat(H),R[H]));else for(H=0;H<X;H++)C=E?rt[H]:rt,F=R[H],L=I[H],t.validate(F,C)?L!==F&&L!==+F&&y.push(p("dynamic",T,g.concat(H),F,L)):y.push(p("value",T,g.concat(H),F))}else if(j.items&&!B&&l(R)){var S,U,P=rt[Object.keys(rt)[0]],G=[];for(S=0;S<I.length;S++){var Q=I[S]._index||S;if((U=g.slice()).push(Q),n(R[Q])&&n(I[S])){G.push(Q);var et=R[Q],tt=I[S];n(et)&&et.visible!==!1&&tt.visible===!1?y.push(p("invisible",T,U)):a(et,tt,P,y,T,U)}}for(S=0;S<R.length;S++)(U=g.slice()).push(S),n(R[S])?G.indexOf(S)===-1&&y.push(p("unused",T,U)):y.push(p("object",T,U,R[S]))}else!n(R)&&n(I)?y.push(p("object",T,g,R)):i(R)||!i(I)||B||$?z in h?t.validate(R,j)?j.valType==="enumerated"&&(j.coerceNumber&&R!==+I||R!==I)&&y.push(p("dynamic",T,g,R,I)):y.push(p("value",T,g,R)):y.push(p("unused",T,g,R)):y.push(p("array",T,g,R));else y.push(p("schema",T,g))}}return y}function r(v,h){for(var A=v.layout.layoutAttributes,y=0;y<h.length;y++){var T=h[y],k=v.traces[T.type],x=k.layoutAttributes;x&&(T.subplot?t.extendFlat(A[k.attributes.subplot.dflt],x):t.extendFlat(A,x))}return A}J.exports=function(v,h){v===void 0&&(v=[]),h===void 0&&(h={});var A,y,T=o.get(),k=[],x={_context:t.extendFlat({},e)};l(v)?(x.data=t.extendDeep([],v),A=v):(x.data=[],A=[],k.push(p("array","data"))),n(h)?(x.layout=t.extendDeep({},h),y=h):(x.layout={},y={},arguments.length>1&&k.push(p("object","layout"))),s.supplyDefaults(x);for(var D=x._fullData,z=A.length,g=0;g<z;g++){var R=A[g],I=["data",g];if(n(R)){var j=D[g],Y=j.type,B=T.traces[Y].attributes;B.type={valType:"enumerated",values:[Y]},j.visible===!1&&R.visible!==!1&&k.push(p("invisible",I)),a(R,j,B,k,I);var $=R.transforms,rt=j.transforms;if($){l($)||k.push(p("array",I,["transforms"])),I.push("transforms");for(var q=0;q<$.length;q++){var H=["transforms",q],C=$[q].type;if(n($[q])){var F=T.transforms[C]?T.transforms[C].attributes:{};F.type={valType:"enumerated",values:Object.keys(T.transforms)},a($[q],rt[q],F,k,I,H)}else k.push(p("object",I,H))}}}else k.push(p("object",I))}var L=x._fullLayout,X=r(T,D);return a(y,L,X,k,"layout"),k.length===0?void 0:k};var u={object:function(v,h){return(v==="layout"&&h===""?"The layout argument":v[0]==="data"&&h===""?"Trace "+v[1]+" in the data argument":d(v)+"key "+h)+" must be linked to an object container"},array:function(v,h){return(v==="data"?"The data argument":d(v)+"key "+h)+" must be linked to an array container"},schema:function(v,h){return d(v)+"key "+h+" is not part of the schema"},unused:function(v,h,A){var y=n(A)?"container":"key";return d(v)+y+" "+h+" did not get coerced"},dynamic:function(v,h,A,y){return[d(v)+"key",h,"(set to '"+A+"')","got reset to","'"+y+"'","during defaults."].join(" ")},invisible:function(v,h){return(h?d(v)+"item "+h:"Trace "+v[1])+" got defaulted to be not visible"},value:function(v,h,A){return[d(v)+"key "+h,"is set to an invalid value ("+A+")"].join(" ")}};function d(v){return l(v)?"In data trace "+v[1]+", ":"In "+v+", "}function p(v,h,A,y,T){var k,x;A=A||"",l(h)?(k=h[0],x=h[1]):(k=h,x=null);var D=function(g){if(!l(g))return String(g);for(var R="",I=0;I<g.length;I++){var j=g[I];typeof j=="number"?R=R.substr(0,R.length-1)+"["+j+"]":R+=j,I<g.length-1&&(R+=".")}return R}(A),z=u[v](h,D,y,T);return t.log(z),{code:v,container:k,trace:x,path:A,astr:D,msg:z}}function m(v,h){var A=b(h),y=A.keyMinusId,T=A.id;return!!(y in v&&v[y]._isSubplotObj&&T)||h in v}function M(v,h){return h in v?v[h]:v[b(h).keyMinusId]}var w=t.counterRegex("([a-z]+)");function b(v){var h=v.match(w);return{keyMinusId:h&&h[1],id:h&&h[2]}}},{"../lib":232,"../plots/plots":314,"./plot_config":266,"./plot_schema":267}],273:[function(c,J,N){J.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(c,J,N){var t=c("../lib"),s=c("../plot_api/plot_template");J.exports=function(o,e,n){var l,i,a=n.name,r=n.inclusionAttr||"visible",u=e[a],d=t.isArrayOrTypedArray(o[a])?o[a]:[],p=e[a]=[],m=s.arrayTemplater(e,a,r);for(l=0;l<d.length;l++){var M=d[l];t.isPlainObject(M)?i=m.newItem(M):(i=m.newItem({}))[r]=!1,i._index=l,i[r]!==!1&&n.handleItemDefaults(M,i,e,n),p.push(i)}var w=m.defaultItems();for(l=0;l<w.length;l++)(i=w[l])._index=p.length,n.handleItemDefaults({},i,e,n,{}),p.push(i);if(t.isArrayOrTypedArray(u)){var b=Math.min(u.length,p.length);for(l=0;l<b;l++)t.relinkPrivateKeys(p[l],u[l])}return p}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(c,J,N){var t=c("./font_attributes"),s=c("../components/fx/attributes");J.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:t({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:s.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":308}],276:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib"),o=s.dateTime2ms,e=s.incrementMonth,n=c("../../constants/numerical").ONEAVGMONTH;J.exports=function(l,i,a,r){if(i.type!=="date")return{vals:r};var u=l[a+"periodalignment"];if(!u)return{vals:r};var d,p=l[a+"period"];if(t(p)){if((p=+p)<=0)return{vals:r}}else if(typeof p=="string"&&p.charAt(0)==="M"){var m=+p.substring(1);if(!(m>0&&Math.round(m)===m))return{vals:r};d=m}for(var M=i.calendar,w=u==="start",b=u==="end",v=l[a+"period0"],h=o(v,M)||0,A=[],y=[],T=[],k=r.length,x=0;x<k;x++){var D,z,g,R=r[x];if(d){for(D=Math.round((R-h)/(d*n)),g=e(h,d*D,M);g>R;)g=e(g,-d,M);for(;g<=R;)g=e(g,d,M);z=e(g,-d,M)}else{for(g=h+(D=Math.round((R-h)/p))*p;g>R;)g-=p;for(;g<=R;)g+=p;z=g-p}A[x]=w?z:b?g:(z+g)/2,y[x]=z,T[x]=g}return{vals:A,starts:y,ends:T}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(c,J,N){J.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("../../lib"),e=c("../../constants/numerical").FP_SAFE,n=c("../../registry"),l=c("../../components/drawing"),i=c("./axis_ids"),a=i.getFromId,r=i.isLinked;function u(y,T){var k,x,D=[],z=y._fullLayout,g=p(z,T,0),R=p(z,T,1),I=m(y,T),j=I.min,Y=I.max;if(j.length===0||Y.length===0)return o.simpleMap(T.range,T.r2l);var B=j[0].val,$=Y[0].val;for(k=1;k<j.length&&B===$;k++)B=Math.min(B,j[k].val);for(k=1;k<Y.length&&B===$;k++)$=Math.max($,Y[k].val);var rt=!1;if(T.range){var q=o.simpleMap(T.range,T.r2l);rt=q[1]<q[0]}T.autorange==="reversed"&&(rt=!0,T.autorange=!0);var H,C,F,L,X,E,Z=T.rangemode,S=Z==="tozero",U=Z==="nonnegative",P=T._length,G=P/10,Q=0;for(k=0;k<j.length;k++)for(H=j[k],x=0;x<Y.length;x++)(E=(C=Y[x]).val-H.val-d(T,H.val,C.val))>0&&((X=P-g(H)-R(C))>G?E/X>Q&&(F=H,L=C,Q=E/X):E/P>Q&&(F={val:H.val,nopad:1},L={val:C.val,nopad:1},Q=E/P));if(B===$){var et=B-1,tt=B+1;if(S)if(B===0)D=[0,1];else{var lt=(B>0?Y:j).reduce(function(mt,Mt){return Math.max(mt,R(Mt))},0),ct=B/(1-Math.min(.5,lt/P));D=B>0?[0,ct]:[ct,0]}else D=U?[Math.max(0,et),Math.max(1,tt)]:[et,tt]}else S?(F.val>=0&&(F={val:0,nopad:1}),L.val<=0&&(L={val:0,nopad:1})):U&&(F.val-Q*g(F)<0&&(F={val:0,nopad:1}),L.val<=0&&(L={val:1,nopad:1})),Q=(L.val-F.val-d(T,H.val,C.val))/(P-g(F)-R(L)),D=[F.val-Q*g(F),L.val+Q*R(L)];return rt&&D.reverse(),o.simpleMap(D,T.l2r||Number)}function d(y,T,k){var x=0;if(y.rangebreaks)for(var D=y.locateBreaks(T,k),z=0;z<D.length;z++){var g=D[z];x+=g.max-g.min}return x}function p(y,T,k){var x=.05*T._length,D=T._anchorAxis||{};if((T.ticklabelposition||"").indexOf("inside")!==-1||(D.ticklabelposition||"").indexOf("inside")!==-1){var z=T.autorange==="reversed";if(!z){var g=o.simpleMap(T.range,T.r2l);z=g[1]<g[0]}z&&(k=!k)}var R=0;return r(y,T._id)||(R=function(I,j,Y){var B=0,$=j._id.charAt(0)==="x";for(var rt in I._plots){var q=I._plots[rt];if(j._id===q.xaxis._id||j._id===q.yaxis._id){var H=($?q.yaxis:q.xaxis)||{};if((H.ticklabelposition||"").indexOf("inside")!==-1&&(!Y&&(H.side==="left"||H.side==="bottom")||Y&&(H.side==="top"||H.side==="right"))){if(H._vals){var C=o.deg2rad(H._tickAngles[H._id+"tick"]||0),F=Math.abs(Math.cos(C)),L=Math.abs(Math.sin(C));if(!H._vals[0].bb){var X=H._id+"tick";H._selections[X].each(function(P){var G=t.select(this);G.select(".text-math-group").empty()&&(P.bb=l.bBox(G.node()))})}for(var E=0;E<H._vals.length;E++){var Z=H._vals[E].bb;if(Z){var S=6+Z.width,U=6+Z.height;B=Math.max(B,$?Math.max(S*F,U*L):Math.max(U*F,S*L))}}}H.ticks==="inside"&&H.ticklabelposition==="inside"&&(B+=H.ticklen||0)}}}return B}(y,T,k)),x=Math.max(R,x),T.constrain==="domain"&&T._inputDomain&&(x*=(T._inputDomain[1]-T._inputDomain[0])/(T.domain[1]-T.domain[0])),function(I){return I.nopad?0:I.pad+(I.extrapad?x:R)}}J.exports={getAutoRange:u,makePadFn:p,doAutoRange:function(y,T,k){if(T.setScale(),T.autorange){T.range=k?k.slice():u(y,T),T._r=T.range.slice(),T._rl=o.simpleMap(T._r,T.r2l);var x=T._input,D={};D[T._attr+".range"]=T.range,D[T._attr+".autorange"]=T.autorange,n.call("_storeDirectGUIEdit",y.layout,y._fullLayout._preGUI,D),x.range=T.range.slice(),x.autorange=T.autorange}var z=T._anchorAxis;if(z&&z.rangeslider){var g=z.rangeslider[T._name];g&&g.rangemode==="auto"&&(g.range=u(y,T)),z._input.rangeslider[T._name]=o.extendFlat({},g)}},findExtremes:function(y,T,k){k||(k={}),y._m||y.setScale();var x,D,z,g,R,I,j,Y,B,$=[],rt=[],q=T.length,H=k.padded||!1,C=k.tozero&&(y.type==="linear"||y.type==="-"),F=y.type==="log",L=!1,X=k.vpadLinearized||!1;function E(tt){if(Array.isArray(tt))return L=!0,function(ct){return Math.max(Number(tt[ct]||0),0)};var lt=Math.max(Number(tt||0),0);return function(){return lt}}var Z=E((y._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),S=E((y._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),U=E(k.vpadplus||k.vpad),P=E(k.vpadminus||k.vpad);if(!L){if(Y=1/0,B=-1/0,F)for(x=0;x<q;x++)(D=T[x])<Y&&D>0&&(Y=D),D>B&&D<e&&(B=D);else for(x=0;x<q;x++)(D=T[x])<Y&&D>-e&&(Y=D),D>B&&D<e&&(B=D);T=[Y,B],q=2}var G={tozero:C,extrapad:H};function Q(tt){z=T[tt],s(z)&&(I=Z(tt),j=S(tt),X?(g=y.c2l(z)-P(tt),R=y.c2l(z)+U(tt)):(Y=z-P(tt),B=z+U(tt),F&&Y<B/10&&(Y=B/10),g=y.c2l(Y),R=y.c2l(B)),C&&(g=Math.min(0,g),R=Math.max(0,R)),v(g)&&M($,g,j,G),v(R)&&w(rt,R,I,G))}var et=Math.min(6,q);for(x=0;x<et;x++)Q(x);for(x=q-1;x>=et;x--)Q(x);return{min:$,max:rt,opts:k}},concatExtremes:m};function m(y,T,k){var x,D,z,g=T._id,R=y._fullData,I=y._fullLayout,j=[],Y=[];function B(C,F){for(x=0;x<F.length;x++){var L=C[F[x]],X=(L._extremes||{})[g];if(L.visible===!0&&X){for(D=0;D<X.min.length;D++)z=X.min[D],M(j,z.val,z.pad,{extrapad:z.extrapad});for(D=0;D<X.max.length;D++)z=X.max[D],w(Y,z.val,z.pad,{extrapad:z.extrapad})}}}if(B(R,T._traceIndices),B(I.annotations||[],T._annIndices||[]),B(I.shapes||[],T._shapeIndices||[]),T._matchGroup&&!k){for(var $ in T._matchGroup)if($!==T._id){var rt=a(y,$),q=m(y,rt,!0),H=T._length/rt._length;for(D=0;D<q.min.length;D++)z=q.min[D],M(j,z.val,z.pad*H,{extrapad:z.extrapad});for(D=0;D<q.max.length;D++)z=q.max[D],w(Y,z.val,z.pad*H,{extrapad:z.extrapad})}}return{min:j,max:Y}}function M(y,T,k,x){b(y,T,k,x,h)}function w(y,T,k,x){b(y,T,k,x,A)}function b(y,T,k,x,D){for(var z=x.tozero,g=x.extrapad,R=!0,I=0;I<y.length&&R;I++){var j=y[I];if(D(j.val,T)&&j.pad>=k&&(j.extrapad||!g)){R=!1;break}D(T,j.val)&&j.pad<=k&&(g||!j.extrapad)&&(y.splice(I,1),I--)}if(R){var Y=z&&T===0;y.push({val:T,pad:Y?0:k,extrapad:!Y&&g})}}function v(y){return s(y)&&Math.abs(y)<e}function h(y,T){return y<=T}function A(y,T){return y>=T}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":316,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("../../plots/plots"),e=c("../../registry"),n=c("../../lib"),l=n.strTranslate,i=c("../../lib/svg_text_utils"),a=c("../../components/titles"),r=c("../../components/color"),u=c("../../components/drawing"),d=c("./layout_attributes"),p=c("./clean_ticks"),m=c("../../constants/numerical"),M=m.ONEMAXYEAR,w=m.ONEAVGYEAR,b=m.ONEMINYEAR,v=m.ONEMAXQUARTER,h=m.ONEAVGQUARTER,A=m.ONEMINQUARTER,y=m.ONEMAXMONTH,T=m.ONEAVGMONTH,k=m.ONEMINMONTH,x=m.ONEWEEK,D=m.ONEDAY,z=D/2,g=m.ONEHOUR,R=m.ONEMIN,I=m.ONESEC,j=m.MINUS_SIGN,Y=m.BADNUM,B={K:"zeroline"},$={K:"gridline",L:"path"},rt={K:"tick",L:"path"},q={K:"tick",L:"text"},H=c("../../constants/alignment"),C=H.MID_SHIFT,F=H.CAP_SHIFT,L=H.LINE_SPACING,X=H.OPPOSITE_SIDE,E=J.exports={};E.setConvert=c("./set_convert");var Z=c("./axis_autotype"),S=c("./axis_ids"),U=S.idSort,P=S.isLinked;E.id2name=S.id2name,E.name2id=S.name2id,E.cleanId=S.cleanId,E.list=S.list,E.listIds=S.listIds,E.getFromId=S.getFromId,E.getFromTrace=S.getFromTrace;var G=c("./autorange");E.getAutoRange=G.getAutoRange,E.findExtremes=G.findExtremes;function Q(at){var st=1e-4*(at[1]-at[0]);return[at[0]-st,at[1]+st]}E.coerceRef=function(at,st,Lt,Ct,Nt,Pt){var jt=Ct.charAt(Ct.length-1),$t=Lt._fullLayout._subplots[jt+"axis"],ne=Ct+"ref",se={};return Nt||(Nt=$t[0]||(typeof Pt=="string"?Pt:Pt[0])),Pt||(Pt=Nt),$t=$t.concat($t.map(function(Wt){return Wt+" domain"})),se[ne]={valType:"enumerated",values:$t.concat(Pt?typeof Pt=="string"?[Pt]:Pt:[]),dflt:Nt},n.coerce(at,st,se,ne)},E.getRefType=function(at){return at===void 0?at:at==="paper"?"paper":at==="pixel"?"pixel":/( domain)$/.test(at)?"domain":"range"},E.coercePosition=function(at,st,Lt,Ct,Nt,Pt){var jt,$t;if(E.getRefType(Ct)!=="range")jt=n.ensureNumber,$t=Lt(Nt,Pt);else{var ne=E.getFromId(st,Ct);$t=Lt(Nt,Pt=ne.fraction2r(Pt)),jt=ne.cleanPos}at[Nt]=jt($t)},E.cleanPosition=function(at,st,Lt){return(Lt==="paper"||Lt==="pixel"?n.ensureNumber:E.getFromId(st,Lt).cleanPos)(at)},E.redrawComponents=function(at,st){st=st||E.listIds(at);var Lt=at._fullLayout;function Ct(Nt,Pt,jt,$t){for(var ne=e.getComponentMethod(Nt,Pt),se={},Wt=0;Wt<st.length;Wt++)for(var ae=Lt[E.id2name(st[Wt])][jt],ce=0;ce<ae.length;ce++){var be=ae[ce];if(!se[be]&&(ne(at,be),se[be]=1,$t))return}}Ct("annotations","drawOne","_annIndices"),Ct("shapes","drawOne","_shapeIndices"),Ct("images","draw","_imgIndices",!0)};var et=E.getDataConversions=function(at,st,Lt,Ct){var Nt,Pt=Lt==="x"||Lt==="y"||Lt==="z"?Lt:Ct;if(Array.isArray(Pt)){if(Nt={type:Z(Ct,void 0,{autotypenumbers:at._fullLayout.autotypenumbers}),_categories:[]},E.setConvert(Nt),Nt.type==="category")for(var jt=0;jt<Ct.length;jt++)Nt.d2c(Ct[jt])}else Nt=E.getFromTrace(at,st,Pt);return Nt?{d2c:Nt.d2c,c2d:Nt.c2d}:Pt==="ids"?{d2c:lt,c2d:lt}:{d2c:tt,c2d:tt}};function tt(at){return+at}function lt(at){return String(at)}function ct(at){return+at.substring(1)}E.getDataToCoordFunc=function(at,st,Lt,Ct){return et(at,st,Lt,Ct).d2c},E.counterLetter=function(at){var st=at.charAt(0);return st==="x"?"y":st==="y"?"x":void 0},E.minDtick=function(at,st,Lt,Ct){["log","category","multicategory"].indexOf(at.type)===-1&&Ct?at._minDtick===void 0?(at._minDtick=st,at._forceTick0=Lt):at._minDtick&&((at._minDtick/st+1e-6)%1<2e-6&&((Lt-at._forceTick0)/st%1+1.000001)%1<2e-6?(at._minDtick=st,at._forceTick0=Lt):((st/at._minDtick+1e-6)%1>2e-6||((Lt-at._forceTick0)/at._minDtick%1+1.000001)%1>2e-6)&&(at._minDtick=0)):at._minDtick=0},E.saveRangeInitial=function(at,st){for(var Lt=E.list(at,"",!0),Ct=!1,Nt=0;Nt<Lt.length;Nt++){var Pt=Lt[Nt],jt=Pt._rangeInitial===void 0,$t=jt||!(Pt.range[0]===Pt._rangeInitial[0]&&Pt.range[1]===Pt._rangeInitial[1]);(jt&&Pt.autorange===!1||st&&$t)&&(Pt._rangeInitial=Pt.range.slice(),Ct=!0)}return Ct},E.saveShowSpikeInitial=function(at,st){for(var Lt=E.list(at,"",!0),Ct=!1,Nt="on",Pt=0;Pt<Lt.length;Pt++){var jt=Lt[Pt],$t=jt._showSpikeInitial===void 0,ne=$t||jt.showspikes!==jt._showspikes;($t||st&&ne)&&(jt._showSpikeInitial=jt.showspikes,Ct=!0),Nt!=="on"||jt.showspikes||(Nt="off")}return at._fullLayout._cartesianSpikesEnabled=Nt,Ct},E.autoBin=function(at,st,Lt,Ct,Nt,Pt){var jt,$t=n.aggNums(Math.min,null,at),ne=n.aggNums(Math.max,null,at);if(st.type==="category"||st.type==="multicategory")return{start:$t-.5,end:ne+.5,size:Math.max(1,Math.round(Pt)||1),_dataSpan:ne-$t};if(Nt||(Nt=st.calendar),jt=st.type==="log"?{type:"linear",range:[$t,ne]}:{type:st.type,range:n.simpleMap([$t,ne],st.c2r,0,Nt),calendar:Nt},E.setConvert(jt),Pt=Pt&&p.dtick(Pt,jt.type))jt.dtick=Pt,jt.tick0=p.tick0(void 0,jt.type,Nt);else{var se;if(Lt)se=(ne-$t)/Lt;else{var Wt=n.distinctVals(at),ae=Math.pow(10,Math.floor(Math.log(Wt.minDiff)/Math.LN10)),ce=ae*n.roundUp(Wt.minDiff/ae,[.9,1.9,4.9,9.9],!0);se=Math.max(ce,2*n.stdev(at)/Math.pow(at.length,Ct?.25:.4)),s(se)||(se=1)}E.autoTicks(jt,se)}var be,he=jt.dtick,me=E.tickIncrement(E.tickFirst(jt),he,"reverse",Nt);if(typeof he=="number")be=(me=function(le,Te,Me,ge,oe){var de=0,Ae=0,ye=0,Ce=0;function ue(Ne){return(1+100*(Ne-le)/Me.dtick)%100<2}for(var Re=0;Re<Te.length;Re++)Te[Re]%1==0?ye++:s(Te[Re])||Ce++,ue(Te[Re])&&de++,ue(Te[Re]+Me.dtick/2)&&Ae++;var De=Te.length-Ce;if(ye===De&&Me.type!=="date")Me.dtick<1?le=ge-.5*Me.dtick:(le-=.5)+Me.dtick<ge&&(le+=Me.dtick);else if(Ae<.1*De&&(de>.3*De||ue(ge)||ue(oe))){var Oe=Me.dtick/2;le+=le+Oe<ge?Oe:-Oe}return le}(me,at,jt,$t,ne))+(1+Math.floor((ne-me)/he))*he;else for(jt.dtick.charAt(0)==="M"&&(me=function(le,Te,Me,ge,oe){var de=n.findExactDates(Te,oe);if(de.exactDays>.8){var Ae=Number(Me.substr(1));de.exactYears>.8&&Ae%12==0?le=E.tickIncrement(le,"M6","reverse")+1.5*D:de.exactMonths>.8?le=E.tickIncrement(le,"M1","reverse")+15.5*D:le-=z;var ye=E.tickIncrement(le,Me);if(ye<=ge)return ye}return le}(me,at,he,$t,Nt)),be=me,0;be<=ne;)be=E.tickIncrement(be,he,!1,Nt);return{start:st.c2r(me,0,Nt),end:st.c2r(be,0,Nt),size:he,_dataSpan:ne-$t}},E.prepTicks=function(at,st){var Lt=n.simpleMap(at.range,at.r2l,void 0,void 0,st);if(at._dtickInit=at.dtick,at._tick0Init=at.tick0,at.tickmode==="auto"||!at.dtick){var Ct,Nt=at.nticks;Nt||(at.type==="category"||at.type==="multicategory"?(Ct=at.tickfont?n.bigFont(at.tickfont.size||12):15,Nt=at._length/Ct):(Ct=at._id.charAt(0)==="y"?40:80,Nt=n.constrain(at._length/Ct,4,9)+1),at._name==="radialaxis"&&(Nt*=2)),at.tickmode==="array"&&(Nt*=100),at._roughDTick=Math.abs(Lt[1]-Lt[0])/Nt,E.autoTicks(at,at._roughDTick),at._minDtick>0&&at.dtick<2*at._minDtick&&(at.dtick=at._minDtick,at.tick0=at.l2r(at._forceTick0))}at.ticklabelmode==="period"&&function(Pt){var jt;function $t(){return!(s(Pt.dtick)||Pt.dtick.charAt(0)!=="M")}var ne=$t(),se=E.getTickFormat(Pt);if(se){var Wt=Pt._dtickInit!==Pt.dtick;/%[fLQsSMX]/.test(se)||(/%[HI]/.test(se)?(jt=g,Wt&&!ne&&Pt.dtick<g&&(Pt.dtick=g)):/%p/.test(se)?(jt=z,Wt&&!ne&&Pt.dtick<z&&(Pt.dtick=z)):/%[Aadejuwx]/.test(se)?(jt=D,Wt&&!ne&&Pt.dtick<D&&(Pt.dtick=D)):/%[UVW]/.test(se)?(jt=x,Wt&&!ne&&Pt.dtick<x&&(Pt.dtick=x)):/%[Bbm]/.test(se)?(jt=T,Wt&&(ne?ct(Pt.dtick)<1:Pt.dtick<k)&&(Pt.dtick="M1")):/%[q]/.test(se)?(jt=h,Wt&&(ne?ct(Pt.dtick)<3:Pt.dtick<A)&&(Pt.dtick="M3")):/%[Yy]/.test(se)&&(jt=w,Wt&&(ne?ct(Pt.dtick)<12:Pt.dtick<b)&&(Pt.dtick="M12")))}(ne=$t())&&Pt.tick0===Pt._dowTick0&&(Pt.tick0=Pt._rawTick0),Pt._definedDelta=jt}(at),at.tick0||(at.tick0=at.type==="date"?"2000-01-01":0),at.type==="date"&&at.dtick<.1&&(at.dtick=.1),nt(at)},E.calcTicks=function(at,st){E.prepTicks(at,st);var Lt=n.simpleMap(at.range,at.r2l,void 0,void 0,st);if(at.tickmode==="array")return function(Re){var De=Re.tickvals,Oe=Re.ticktext,Ne=new Array(De.length),en=Q(n.simpleMap(Re.range,Re.r2l)),tn=Math.min(en[0],en[1]),Se=Math.max(en[0],en[1]),ke=0;Array.isArray(Oe)||(Oe=[]);var Le=Re.type==="category"?Re.d2l_noadd:Re.d2l;Re.type==="log"&&String(Re.dtick).charAt(0)!=="L"&&(Re.dtick="L"+Math.pow(10,Math.floor(Math.min(Re.range[0],Re.range[1]))-1));for(var _e=0;_e<De.length;_e++){var fe=Le(De[_e]);fe>tn&&fe<Se&&(Oe[_e]===void 0?Ne[ke]=E.tickText(Re,fe):Ne[ke]=ut(Re,fe,String(Oe[_e])),ke++)}return ke<De.length&&Ne.splice(ke,De.length-ke),Re.rangebreaks&&(Ne=Ne.filter(function(Fe){return Re.maskBreaks(Fe.x)!==Y})),Ne}(at);var Ct=Q(Lt),Nt=Ct[0],Pt=Ct[1],jt=Lt[1]<Lt[0],$t=Math.min(Lt[0],Lt[1]),ne=Math.max(Lt[0],Lt[1]),se=at.type==="log"&&!(s(at.dtick)||at.dtick.charAt(0)==="L"),Wt=at.ticklabelmode==="period";if(at._tmin=E.tickFirst(at,st),at._tmin<Nt!==jt)return[];at.type!=="category"&&at.type!=="multicategory"||(Pt=jt?Math.max(-.5,Pt):Math.min(at._categories.length-.5,Pt));var ae=at._tmin;at.rangebreaks&&at._tick0Init!==at.tick0&&(ae=Gt(ae,at),jt||(ae=E.tickIncrement(ae,at.dtick,!jt,at.calendar))),Wt&&(ae=E.tickIncrement(ae,at.dtick,!jt,at.calendar));for(var ce,be=Math.max(1e3,at._length||0),he=[],me=null;jt?ae>=Pt:ae<=Pt;ae=E.tickIncrement(ae,at.dtick,jt,at.calendar)){if(at.rangebreaks&&!jt){if(ae<Nt)continue;if(at.maskBreaks(ae)===Y&&Gt(ae,at)>=ne)break}if(he.length>be||ae===me)break;me=ae;var le=!1;se&&ae!==(0|ae)&&(le=!0),he.push({minor:le,value:ae})}if(Wt&&function(Re,De,Oe){for(var Ne=0;Ne<Re.length;Ne++){var en=Re[Ne].value,tn=Ne,Se=Ne+1;Ne<Re.length-1?(tn=Ne,Se=Ne+1):Ne>0?(tn=Ne-1,Se=Ne):(tn=Ne,Se=Ne);var ke,Le=Re[tn].value,_e=Re[Se].value,fe=Math.abs(_e-Le),Fe=Oe||fe,Ye=0;Fe>=b?Ye=fe>=b&&fe<=M?fe:w:Oe===h&&Fe>=A?Ye=fe>=A&&fe<=v?fe:h:Fe>=k?Ye=fe>=k&&fe<=y?fe:T:Oe===x&&Fe>=x?Ye=x:Fe>=D?Ye=D:Oe===z&&Fe>=z?Ye=z:Oe===g&&Fe>=g&&(Ye=g),Ye>=fe&&(Ye=fe,ke=!0);var Je=en+Ye;if(De.rangebreaks&&Ye>0){for(var Ze=0,je=0;je<84;je++){var Be=(je+.5)/84;De.maskBreaks(en*(1-Be)+Be*Je)!==Y&&Ze++}(Ye*=Ze/84)||(Re[Ne].drop=!0),ke&&fe>x&&(Ye=fe)}(Ye>0||Ne===0)&&(Re[Ne].periodX=en+Ye/2)}}(he,at,at._definedDelta),at.rangebreaks){var Te=at._id.charAt(0)==="y",Me=1;at.tickmode==="auto"&&(Me=at.tickfont?at.tickfont.size:12);var ge=NaN;for(ce=he.length-1;ce>-1;ce--)if(he[ce].drop)he.splice(ce,1);else{he[ce].value=Gt(he[ce].value,at);var oe=at.c2p(he[ce].value);(Te?ge>oe-Me:ge<oe+Me)?he.splice(jt?ce+1:ce,1):ge=oe}}bt(at)&&Math.abs(Lt[1]-Lt[0])===360&&he.pop(),at._tmax=(he[he.length-1]||{}).value,at._prevDateHead="",at._inCalcTicks=!0;var de,Ae,ye=[];for(ce=0;ce<he.length;ce++){var Ce=he[ce].minor,ue=he[ce].value;de=E.tickText(at,ue,!1,Ce),(Ae=he[ce].periodX)!==void 0&&(de.periodX=Ae,(Ae>ne||Ae<$t)&&(Ae>ne&&(de.periodX=ne),Ae<$t&&(de.periodX=$t),de.text=" ",at._prevDateHead="")),ye.push(de)}return at._inCalcTicks=!1,ye};var mt=[2,5,10],Mt=[1,2,3,6,12],St=[1,2,5,10,15,30],_t=[1,2,3,7,14],Yt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Et=[-.301,0,.301,.699,1],gt=[15,30,45,90,180];function ot(at,st,Lt){return st*n.roundUp(at/st,Lt)}function nt(at){var st=at.dtick;if(at._tickexponent=0,s(st)||typeof st=="string"||(st=1),at.type!=="category"&&at.type!=="multicategory"||(at._tickround=null),at.type==="date"){var Lt=at.r2l(at.tick0),Ct=at.l2r(Lt).replace(/(^-|i)/g,""),Nt=Ct.length;if(String(st).charAt(0)==="M")Nt>10||Ct.substr(5)!=="01-01"?at._tickround="d":at._tickround=+st.substr(1)%12==0?"y":"m";else if(st>=D&&Nt<=10||st>=15*D)at._tickround="d";else if(st>=R&&Nt<=16||st>=g)at._tickround="M";else if(st>=I&&Nt<=19||st>=R)at._tickround="S";else{var Pt=at.l2r(Lt+st).replace(/^-/,"").length;at._tickround=Math.max(Nt,Pt)-20,at._tickround<0&&(at._tickround=4)}}else if(s(st)||st.charAt(0)==="L"){var jt=at.range.map(at.r2d||Number);s(st)||(st=Number(st.substr(1))),at._tickround=2-Math.floor(Math.log(st)/Math.LN10+.01);var $t=Math.max(Math.abs(jt[0]),Math.abs(jt[1])),ne=Math.floor(Math.log($t)/Math.LN10+.01),se=at.minexponent===void 0?3:at.minexponent;Math.abs(ne)>se&&(Dt(at.exponentformat)&&!Tt(ne)?at._tickexponent=3*Math.round((ne-1)/3):at._tickexponent=ne)}else at._tickround=null}function ut(at,st,Lt){var Ct=at.tickfont||{};return{x:st,dx:0,dy:0,text:Lt||"",fontSize:Ct.size,font:Ct.family,fontColor:Ct.color}}E.autoTicks=function(at,st){var Lt;function Ct(Wt){return Math.pow(Wt,Math.floor(Math.log(st)/Math.LN10))}if(at.type==="date"){at.tick0=n.dateTick0(at.calendar,0);var Nt=2*st;if(Nt>w)st/=w,Lt=Ct(10),at.dtick="M"+12*ot(st,Lt,mt);else if(Nt>T)st/=T,at.dtick="M"+ot(st,1,Mt);else if(Nt>D){at.dtick=ot(st,D,at._hasDayOfWeekBreaks?[1,2,7,14]:_t);var Pt=E.getTickFormat(at),jt=at.ticklabelmode==="period";jt&&(at._rawTick0=at.tick0),/%[uVW]/.test(Pt)?at.tick0=n.dateTick0(at.calendar,2):at.tick0=n.dateTick0(at.calendar,1),jt&&(at._dowTick0=at.tick0)}else Nt>g?at.dtick=ot(st,g,Mt):Nt>R?at.dtick=ot(st,R,St):Nt>I?at.dtick=ot(st,I,St):(Lt=Ct(10),at.dtick=ot(st,Lt,mt))}else if(at.type==="log"){at.tick0=0;var $t=n.simpleMap(at.range,at.r2l);if(st>.7)at.dtick=Math.ceil(st);else if(Math.abs($t[1]-$t[0])<1){var ne=1.5*Math.abs(($t[1]-$t[0])/st);st=Math.abs(Math.pow(10,$t[1])-Math.pow(10,$t[0]))/ne,Lt=Ct(10),at.dtick="L"+ot(st,Lt,mt)}else at.dtick=st>.3?"D2":"D1"}else at.type==="category"||at.type==="multicategory"?(at.tick0=0,at.dtick=Math.ceil(Math.max(st,1))):bt(at)?(at.tick0=0,Lt=1,at.dtick=ot(st,Lt,gt)):(at.tick0=0,Lt=Ct(10),at.dtick=ot(st,Lt,mt));if(at.dtick===0&&(at.dtick=1),!s(at.dtick)&&typeof at.dtick!="string"){var se=at.dtick;throw at.dtick=1,"ax.dtick error: "+String(se)}},E.tickIncrement=function(at,st,Lt,Ct){var Nt=Lt?-1:1;if(s(st))return n.increment(at,Nt*st);var Pt=st.charAt(0),jt=Nt*Number(st.substr(1));if(Pt==="M")return n.incrementMonth(at,jt,Ct);if(Pt==="L")return Math.log(Math.pow(10,at)+jt)/Math.LN10;if(Pt==="D"){var $t=st==="D2"?Et:Yt,ne=at+.01*Nt,se=n.roundUp(n.mod(ne,1),$t,Lt);return Math.floor(ne)+Math.log(t.round(Math.pow(10,se),1))/Math.LN10}throw"unrecognized dtick "+String(st)},E.tickFirst=function(at,st){var Lt=at.r2l||Number,Ct=n.simpleMap(at.range,Lt,void 0,void 0,st),Nt=Ct[1]<Ct[0],Pt=Nt?Math.floor:Math.ceil,jt=Q(Ct)[0],$t=at.dtick,ne=Lt(at.tick0);if(s($t)){var se=Pt((jt-ne)/$t)*$t+ne;return at.type!=="category"&&at.type!=="multicategory"||(se=n.constrain(se,0,at._categories.length-1)),se}var Wt=$t.charAt(0),ae=Number($t.substr(1));if(Wt==="M"){for(var ce,be,he,me=0,le=ne;me<10;){if(((ce=E.tickIncrement(le,$t,Nt,at.calendar))-jt)*(le-jt)<=0)return Nt?Math.min(le,ce):Math.max(le,ce);be=(jt-(le+ce)/2)/(ce-le),he=Wt+(Math.abs(Math.round(be))||1)*ae,le=E.tickIncrement(le,he,be<0?!Nt:Nt,at.calendar),me++}return n.error("tickFirst did not converge",at),le}if(Wt==="L")return Math.log(Pt((Math.pow(10,jt)-ne)/ae)*ae+ne)/Math.LN10;if(Wt==="D"){var Te=$t==="D2"?Et:Yt,Me=n.roundUp(n.mod(jt,1),Te,Nt);return Math.floor(jt)+Math.log(t.round(Math.pow(10,Me),1))/Math.LN10}throw"unrecognized dtick "+String($t)},E.tickText=function(at,st,Lt,Ct){var Nt,Pt=ut(at,st),jt=at.tickmode==="array",$t=Lt||jt,ne=at.type,se=ne==="category"?at.d2l_noadd:at.d2l;if(jt&&Array.isArray(at.ticktext)){var Wt=n.simpleMap(at.range,at.r2l),ae=(Math.abs(Wt[1]-Wt[0])-(at._lBreaks||0))/1e4;for(Nt=0;Nt<at.ticktext.length&&!(Math.abs(st-se(at.tickvals[Nt]))<ae);Nt++);if(Nt<at.ticktext.length)return Pt.text=String(at.ticktext[Nt]),Pt}function ce(me){if(me===void 0)return!0;if(Lt)return me==="none";var le={first:at._tmin,last:at._tmax}[me];return me!=="all"&&st!==le}var be=Lt?"never":at.exponentformat!=="none"&&ce(at.showexponent)?"hide":"";if(ne==="date"?function(me,le,Te,Me){var ge=me._tickround,oe=Te&&me.hoverformat||E.getTickFormat(me);Me&&(ge=s(ge)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[ge]);var de,Ae=n.formatDate(le.x,oe,ge,me._dateFormat,me.calendar,me._extraFormat),ye=Ae.indexOf(`
`);if(ye!==-1&&(de=Ae.substr(ye+1),Ae=Ae.substr(0,ye)),Me&&(Ae==="00:00:00"||Ae==="00:00"?(Ae=de,de=""):Ae.length===8&&(Ae=Ae.replace(/:00$/,""))),de)if(Te)ge==="d"?Ae+=", "+de:Ae=de+(Ae?", "+Ae:"");else if(me._inCalcTicks&&me._prevDateHead===de){var Ce=re(me),ue=me._realSide||me.side;(!Ce&&ue==="top"||Ce&&ue==="bottom")&&(Ae+="<br> ")}else me._prevDateHead=de,Ae+="<br>"+de;le.text=Ae}(at,Pt,Lt,$t):ne==="log"?function(me,le,Te,Me,ge){var oe=me.dtick,de=le.x,Ae=me.tickformat,ye=typeof oe=="string"&&oe.charAt(0);if(ge==="never"&&(ge=""),Me&&ye!=="L"&&(oe="L3",ye="L"),Ae||ye==="L")le.text=xt(Math.pow(10,de),me,ge,Me);else if(s(oe)||ye==="D"&&n.mod(de+.01,1)<.1){var Ce=Math.round(de),ue=Math.abs(Ce),Re=me.exponentformat;Re==="power"||Dt(Re)&&Tt(Ce)?(le.text=Ce===0?1:Ce===1?"10":"10<sup>"+(Ce>1?"":j)+ue+"</sup>",le.fontSize*=1.25):(Re==="e"||Re==="E")&&ue>2?le.text="1"+Re+(Ce>0?"+":j)+ue:(le.text=xt(Math.pow(10,de),me,"","fakehover"),oe==="D1"&&me._id.charAt(0)==="y"&&(le.dy-=le.fontSize/6))}else{if(ye!=="D")throw"unrecognized dtick "+String(oe);le.text=String(Math.round(Math.pow(10,n.mod(de,1)))),le.fontSize*=.75}if(me.dtick==="D1"){var De=String(le.text).charAt(0);De!=="0"&&De!=="1"||(me._id.charAt(0)==="y"?le.dx-=le.fontSize/4:(le.dy+=le.fontSize/2,le.dx+=(me.range[1]>me.range[0]?1:-1)*le.fontSize*(de<0?.5:.25)))}}(at,Pt,0,$t,be):ne==="category"?function(me,le){var Te=me._categories[Math.round(le.x)];Te===void 0&&(Te=""),le.text=String(Te)}(at,Pt):ne==="multicategory"?function(me,le,Te){var Me=Math.round(le.x),ge=me._categories[Me]||[],oe=ge[1]===void 0?"":String(ge[1]),de=ge[0]===void 0?"":String(ge[0]);Te?le.text=de+" - "+oe:(le.text=oe,le.text2=de)}(at,Pt,Lt):bt(at)?function(me,le,Te,Me,ge){if(me.thetaunit!=="radians"||Te)le.text=xt(le.x,me,ge,Me);else{var oe=le.x/180;if(oe===0)le.text="0";else{var de=function(ye){function Ce(Oe,Ne){return Math.abs(Oe-Ne)<=1e-6}var ue=function(Oe){for(var Ne=1;!Ce(Math.round(Oe*Ne)/Ne,Oe);)Ne*=10;return Ne}(ye),Re=ye*ue,De=Math.abs(function Oe(Ne,en){return Ce(en,0)?Ne:Oe(en,Ne%en)}(Re,ue));return[Math.round(Re/De),Math.round(ue/De)]}(oe);if(de[1]>=100)le.text=xt(n.deg2rad(le.x),me,ge,Me);else{var Ae=le.x<0;de[1]===1?de[0]===1?le.text="π":le.text=de[0]+"π":le.text=["<sup>",de[0],"</sup>","⁄","<sub>",de[1],"</sub>","π"].join(""),Ae&&(le.text=j+le.text)}}}}(at,Pt,Lt,$t,be):function(me,le,Te,Me,ge){ge==="never"?ge="":me.showexponent==="all"&&Math.abs(le.x/me.dtick)<1e-6&&(ge="hide"),le.text=xt(le.x,me,ge,Me)}(at,Pt,0,$t,be),Ct||(at.tickprefix&&!ce(at.showtickprefix)&&(Pt.text=at.tickprefix+Pt.text),at.ticksuffix&&!ce(at.showticksuffix)&&(Pt.text+=at.ticksuffix)),at.tickson==="boundaries"||at.showdividers){var he=function(me){var le=at.l2p(me);return le>=0&&le<=at._length?me:null};Pt.xbnd=[he(Pt.x-.5),he(Pt.x+at.dtick-.5)]}return Pt},E.hoverLabelText=function(at,st,Lt){Lt&&(at=n.extendFlat({},at,{hoverformat:Lt}));var Ct=Array.isArray(st)?st[0]:st,Nt=Array.isArray(st)?st[1]:void 0;if(Nt!==void 0&&Nt!==Ct)return E.hoverLabelText(at,Ct,Lt)+" - "+E.hoverLabelText(at,Nt,Lt);var Pt=at.type==="log"&&Ct<=0,jt=E.tickText(at,at.c2l(Pt?-Ct:Ct),"hover").text;return Pt?Ct===0?"0":j+jt:jt};var ht=["f","p","n","μ","m","","k","M","G","T"];function Dt(at){return at==="SI"||at==="B"}function Tt(at){return at>14||at<-15}function xt(at,st,Lt,Ct){var Nt=at<0,Pt=st._tickround,jt=Lt||st.exponentformat||"B",$t=st._tickexponent,ne=E.getTickFormat(st),se=st.separatethousands;if(Ct){var Wt={exponentformat:jt,minexponent:st.minexponent,dtick:st.showexponent==="none"?st.dtick:s(at)&&Math.abs(at)||1,range:st.showexponent==="none"?st.range.map(st.r2d):[0,at||1]};nt(Wt),Pt=(Number(Wt._tickround)||0)+4,$t=Wt._tickexponent,st.hoverformat&&(ne=st.hoverformat)}if(ne)return st._numFormat(ne)(at).replace(/-/g,j);var ae,ce=Math.pow(10,-Pt)/2;if(jt==="none"&&($t=0),(at=Math.abs(at))<ce)at="0",Nt=!1;else{if(at+=ce,$t&&(at*=Math.pow(10,-$t),Pt+=$t),Pt===0)at=String(Math.floor(at));else if(Pt<0){at=(at=String(Math.round(at))).substr(0,at.length+Pt);for(var be=Pt;be<0;be++)at+="0"}else{var he=(at=String(at)).indexOf(".")+1;he&&(at=at.substr(0,he+Pt).replace(/\.?0+$/,""))}at=n.numSeparate(at,st._separators,se)}return $t&&jt!=="hide"&&(Dt(jt)&&Tt($t)&&(jt="power"),ae=$t<0?j+-$t:jt!=="power"?"+"+$t:String($t),jt==="e"||jt==="E"?at+=jt+ae:jt==="power"?at+="×10<sup>"+ae+"</sup>":jt==="B"&&$t===9?at+="B":Dt(jt)&&(at+=ht[$t/3+5])),Nt?j+at:at}function Ot(at,st){for(var Lt=[],Ct={},Nt=0;Nt<st.length;Nt++){var Pt=st[Nt];Ct[Pt.text2]?Ct[Pt.text2].push(Pt.x):Ct[Pt.text2]=[Pt.x]}for(var jt in Ct)Lt.push(ut(at,n.interp(Ct[jt],.5),jt));return Lt}function It(at){return at.periodX!==void 0?at.periodX:at.x}function wt(at){return[at.text,at.x,at.axInfo,at.font,at.fontSize,at.fontColor].join("_")}function At(at){var st=at.title.font.size,Lt=(at.title.text.match(i.BR_TAG_ALL)||[]).length;return at.title.hasOwnProperty("standoff")?Lt?st*(F+Lt*L):st*F:Lt?st*(Lt+1)*L:st}function Xt(at,st){var Lt=at.l2p(st);return Lt>1&&Lt<at._length-1}function kt(at){var st=t.select(at),Lt=st.select(".text-math-group");return Lt.empty()?st.select("text"):Lt}function Bt(at){return at._id+".automargin"}function Zt(at){return Bt(at)+".mirror"}function Ht(at){return at._id+".rangeslider"}function ee(at,st){for(var Lt=0;Lt<st.length;Lt++)at.indexOf(st[Lt])===-1&&at.push(st[Lt])}function qt(at,st,Lt){var Ct,Nt,Pt=[],jt=[],$t=at.layout;for(Ct=0;Ct<st.length;Ct++)Pt.push(E.getFromId(at,st[Ct]));for(Ct=0;Ct<Lt.length;Ct++)jt.push(E.getFromId(at,Lt[Ct]));var ne=Object.keys(d),se=["anchor","domain","overlaying","position","side","tickangle","editType"],Wt=["linear","log"];for(Ct=0;Ct<ne.length;Ct++){var ae=ne[Ct],ce=Pt[0][ae],be=jt[0][ae],he=!0,me=!1,le=!1;if(ae.charAt(0)!=="_"&&typeof ce!="function"&&se.indexOf(ae)===-1){for(Nt=1;Nt<Pt.length&&he;Nt++){var Te=Pt[Nt][ae];ae==="type"&&Wt.indexOf(ce)!==-1&&Wt.indexOf(Te)!==-1&&ce!==Te?me=!0:Te!==ce&&(he=!1)}for(Nt=1;Nt<jt.length&&he;Nt++){var Me=jt[Nt][ae];ae==="type"&&Wt.indexOf(be)!==-1&&Wt.indexOf(Me)!==-1&&be!==Me?le=!0:jt[Nt][ae]!==be&&(he=!1)}he&&(me&&($t[Pt[0]._name].type="linear"),le&&($t[jt[0]._name].type="linear"),vt($t,ae,Pt,jt,at._fullLayout._dfltTitle))}}for(Ct=0;Ct<at._fullLayout.annotations.length;Ct++){var ge=at._fullLayout.annotations[Ct];st.indexOf(ge.xref)!==-1&&Lt.indexOf(ge.yref)!==-1&&n.swapAttrs($t.annotations[Ct],["?"])}}function vt(at,st,Lt,Ct,Nt){var Pt,jt=n.nestedProperty,$t=jt(at[Lt[0]._name],st).get(),ne=jt(at[Ct[0]._name],st).get();for(st==="title"&&($t&&$t.text===Nt.x&&($t.text=Nt.y),ne&&ne.text===Nt.y&&(ne.text=Nt.x)),Pt=0;Pt<Lt.length;Pt++)jt(at,Lt[Pt]._name+"."+st).set(ne);for(Pt=0;Pt<Ct.length;Pt++)jt(at,Ct[Pt]._name+"."+st).set($t)}function bt(at){return at._id==="angularaxis"}function Gt(at,st){for(var Lt=st._rangebreaks.length,Ct=0;Ct<Lt;Ct++){var Nt=st._rangebreaks[Ct];if(at>=Nt.min&&at<Nt.max)return Nt.max}return at}function re(at){return(at.ticklabelposition||"").indexOf("inside")!==-1}function xe(at,st){re(at._anchorAxis||{})&&at._hideCounterAxisInsideTickLabels&&at._hideCounterAxisInsideTickLabels(st)}E.getTickFormat=function(at){var st,Lt,Ct,Nt,Pt,jt,$t,ne;function se(ce){return typeof ce!="string"?ce:Number(ce.replace("M",""))*T}function Wt(ce,be){var he=["L","D"];if(typeof ce==typeof be){if(typeof ce=="number")return ce-be;var me=he.indexOf(ce.charAt(0)),le=he.indexOf(be.charAt(0));return me===le?Number(ce.replace(/(L|D)/g,""))-Number(be.replace(/(L|D)/g,"")):me-le}return typeof ce=="number"?1:-1}function ae(ce,be){var he=be[0]===null,me=be[1]===null,le=Wt(ce,be[0])>=0,Te=Wt(ce,be[1])<=0;return(he||le)&&(me||Te)}if(at.tickformatstops&&at.tickformatstops.length>0)switch(at.type){case"date":case"linear":for(st=0;st<at.tickformatstops.length;st++)if((Ct=at.tickformatstops[st]).enabled&&(Nt=at.dtick,Pt=Ct.dtickrange,jt=void 0,$t=void 0,ne=void 0,jt=se||function(ce){return ce},$t=Pt[0],ne=Pt[1],(!$t&&typeof $t!="number"||jt($t)<=jt(Nt))&&(!ne&&typeof ne!="number"||jt(ne)>=jt(Nt)))){Lt=Ct;break}break;case"log":for(st=0;st<at.tickformatstops.length;st++)if((Ct=at.tickformatstops[st]).enabled&&ae(at.dtick,Ct.dtickrange)){Lt=Ct;break}}return Lt?Lt.value:at.tickformat},E.getSubplots=function(at,st){var Lt=at._fullLayout._subplots,Ct=Lt.cartesian.concat(Lt.gl2d||[]),Nt=st?E.findSubplotsWithAxis(Ct,st):Ct;return Nt.sort(function(Pt,jt){var $t=Pt.substr(1).split("y"),ne=jt.substr(1).split("y");return $t[0]===ne[0]?+$t[1]-+ne[1]:+$t[0]-+ne[0]}),Nt},E.findSubplotsWithAxis=function(at,st){for(var Lt=new RegExp(st._id.charAt(0)==="x"?"^"+st._id+"y":st._id+"$"),Ct=[],Nt=0;Nt<at.length;Nt++){var Pt=at[Nt];Lt.test(Pt)&&Ct.push(Pt)}return Ct},E.makeClipPaths=function(at){var st=at._fullLayout;if(!st._hasOnlyLargeSploms){var Lt,Ct,Nt={_offset:0,_length:st.width,_id:""},Pt={_offset:0,_length:st.height,_id:""},jt=E.list(at,"x",!0),$t=E.list(at,"y",!0),ne=[];for(Lt=0;Lt<jt.length;Lt++)for(ne.push({x:jt[Lt],y:Pt}),Ct=0;Ct<$t.length;Ct++)Lt===0&&ne.push({x:Nt,y:$t[Ct]}),ne.push({x:jt[Lt],y:$t[Ct]});var se=st._clips.selectAll(".axesclip").data(ne,function(Wt){return Wt.x._id+Wt.y._id});se.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Wt){return"clip"+st._uid+Wt.x._id+Wt.y._id}).append("rect"),se.exit().remove(),se.each(function(Wt){t.select(this).select("rect").attr({x:Wt.x._offset||0,y:Wt.y._offset||0,width:Wt.x._length||1,height:Wt.y._length||1})})}},E.draw=function(at,st,Lt){var Ct=at._fullLayout;st==="redraw"&&Ct._paper.selectAll("g.subplot").each(function(Pt){var jt=Pt[0],$t=Ct._plots[jt];if($t){var ne=$t.xaxis,se=$t.yaxis;$t.xaxislayer.selectAll("."+ne._id+"tick").remove(),$t.yaxislayer.selectAll("."+se._id+"tick").remove(),$t.xaxislayer.selectAll("."+ne._id+"tick2").remove(),$t.yaxislayer.selectAll("."+se._id+"tick2").remove(),$t.xaxislayer.selectAll("."+ne._id+"divider").remove(),$t.yaxislayer.selectAll("."+se._id+"divider").remove(),$t.gridlayer&&$t.gridlayer.selectAll("path").remove(),$t.zerolinelayer&&$t.zerolinelayer.selectAll("path").remove(),Ct._infolayer.select(".g-"+ne._id+"title").remove(),Ct._infolayer.select(".g-"+se._id+"title").remove()}});var Nt=st&&st!=="redraw"?st:E.listIds(at);return n.syncOrAsync(Nt.map(function(Pt){return function(){if(Pt){var jt=E.getFromId(at,Pt),$t=E.drawOne(at,jt,Lt);return jt._r=jt.range.slice(),jt._rl=n.simpleMap(jt._r,jt.r2l),$t}}}))},E.drawOne=function(at,st,Lt){var Ct,Nt,Pt;Lt=Lt||{},st.setScale();var jt=at._fullLayout,$t=st._id,ne=$t.charAt(0),se=E.counterLetter($t),Wt=jt._plots[st._mainSubplot];if(Wt){var ae=Wt[ne+"axislayer"],ce=st._mainLinePosition,be=st._mainMirrorPosition,he=st._vals=E.calcTicks(st),me=[st.mirror,ce,be].join("_");for(Ct=0;Ct<he.length;Ct++)he[Ct].axInfo=me;st._selections={},st._tickAngles&&(st._prevTickAngles=st._tickAngles),st._tickAngles={},st._depth=null;var le={};if(st.visible){var Te,Me,ge=E.makeTransTickFn(st),oe=E.makeTransTickLabelFn(st),de=st.ticks==="inside",Ae=st.ticks==="outside";if(st.tickson==="boundaries"){var ye=function(Ue,we){var qe,nn=[],Ve=function(Ge,cn){var rn=Ge.xbnd[cn];rn!==null&&nn.push(n.extendFlat({},Ge,{x:rn}))};if(we.length){for(qe=0;qe<we.length;qe++)Ve(we[qe],0);Ve(we[qe-1],1)}return nn}(0,he);Me=E.clipEnds(st,ye),Te=de?Me:ye}else Me=E.clipEnds(st,he),Te=de&&st.ticklabelmode!=="period"?Me:he;var Ce=st._gridVals=Me,ue=function(Ue,we){var qe,nn,Ve=[],Ge=we.length&&we[we.length-1].x<we[0].x,cn=function(dn,hn){var vn=dn.xbnd[hn];vn!==null&&Ve.push(n.extendFlat({},dn,{x:vn}))};if(Ue.showdividers&&we.length){for(qe=0;qe<we.length;qe++){var rn=we[qe];rn.text2!==nn&&cn(rn,Ge?1:0),nn=rn.text2}cn(we[qe-1],Ge?0:1)}return Ve}(st,he);if(!jt._hasOnlyLargeSploms){var Re=st._subplotsWith,De={};for(Ct=0;Ct<Re.length;Ct++){Nt=Re[Ct];var Oe=(Pt=jt._plots[Nt])[se+"axis"],Ne=Oe._mainAxis._id;if(!De[Ne]){De[Ne]=1;var en=ne==="x"?"M0,"+Oe._offset+"v"+Oe._length:"M"+Oe._offset+",0h"+Oe._length;E.drawGrid(at,st,{vals:Ce,counterAxis:Oe,layer:Pt.gridlayer.select("."+$t),path:en,transFn:ge}),E.drawZeroLine(at,st,{counterAxis:Oe,layer:Pt.zerolinelayer,path:en,transFn:ge})}}}var tn=E.getTickSigns(st),Se=[];if(st.ticks){var ke,Le,_e,fe=E.makeTickPath(st,ce,tn[2]);if(st._anchorAxis&&st.mirror&&st.mirror!==!0?(ke=E.makeTickPath(st,be,tn[3]),Le=fe+ke):(ke="",Le=fe),st.showdividers&&Ae&&st.tickson==="boundaries"){var Fe={};for(Ct=0;Ct<ue.length;Ct++)Fe[ue[Ct].x]=1;_e=function(Ue){return Fe[Ue.x]?ke:Le}}else _e=Le;E.drawTicks(at,st,{vals:Te,layer:ae,path:_e,transFn:ge}),st.mirror==="allticks"&&(Se=Object.keys(st._linepositions||{}))}for(Ct=0;Ct<Se.length;Ct++){Nt=Se[Ct],Pt=jt._plots[Nt];var Ye=st._linepositions[Nt]||[],Je=E.makeTickPath(st,Ye[0],tn[0])+E.makeTickPath(st,Ye[1],tn[1]);E.drawTicks(at,st,{vals:Te,layer:Pt[ne+"axislayer"],path:Je,transFn:ge})}var Ze=[];if(Ze.push(function(){return E.drawLabels(at,st,{vals:he,layer:ae,plotinfo:Pt,transFn:oe,labelFns:E.makeLabelFns(st,ce)})}),st.type==="multicategory"){var je={x:2,y:10}[ne];Ze.push(function(){var Ue={x:"height",y:"width"}[ne],we=Ke()[Ue]+je+(st._tickAngles[$t+"tick"]?st.tickfont.size*L:0);return E.drawLabels(at,st,{vals:Ot(st,he),layer:ae,cls:$t+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ge,labelFns:E.makeLabelFns(st,ce+we*tn[4])})}),Ze.push(function(){return st._depth=tn[4]*(Ke("tick2")[st.side]-ce),function(Ue,we,qe){var nn=we._id+"divider",Ve=qe.vals,Ge=qe.layer.selectAll("path."+nn).data(Ve,wt);Ge.exit().remove(),Ge.enter().insert("path",":first-child").classed(nn,1).classed("crisp",1).call(r.stroke,we.dividercolor).style("stroke-width",u.crispRound(Ue,we.dividerwidth,1)+"px"),Ge.attr("transform",qe.transFn).attr("d",qe.path)}(at,st,{vals:ue,layer:ae,path:E.makeTickPath(st,ce,tn[4],st._depth),transFn:ge})})}else st.title.hasOwnProperty("standoff")&&Ze.push(function(){st._depth=tn[4]*(Ke()[st.side]-ce)});var Be=e.getComponentMethod("rangeslider","isVisible")(st);return Ze.push(function(){var Ue,we,qe,nn,Ve=st.side.charAt(0),Ge=X[st.side].charAt(0),cn=E.getPxPosition(at,st),rn=Ae?st.ticklen:0;if((st.automargin||Be)&&(st.type==="multicategory"?Ue=Ke("tick2"):(Ue=Ke(),ne==="x"&&Ve==="b"&&(st._depth=Math.max(Ue.width>0?Ue.bottom-cn:0,rn)))),st.automargin){we={x:0,y:0,r:0,l:0,t:0,b:0};var dn=[0,1];if(ne==="x"){if(Ve==="b"?we[Ve]=st._depth:(we[Ve]=st._depth=Math.max(Ue.width>0?cn-Ue.top:0,rn),dn.reverse()),Ue.width>0){var hn=Ue.right-(st._offset+st._length);hn>0&&(we.xr=1,we.r=hn);var vn=st._offset-Ue.left;vn>0&&(we.xl=0,we.l=vn)}}else if(Ve==="l"?we[Ve]=st._depth=Math.max(Ue.height>0?cn-Ue.left:0,rn):(we[Ve]=st._depth=Math.max(Ue.height>0?Ue.right-cn:0,rn),dn.reverse()),Ue.height>0){var An=Ue.bottom-(st._offset+st._length);An>0&&(we.yb=0,we.b=An);var wn=st._offset-Ue.top;wn>0&&(we.yt=1,we.t=wn)}we[se]=st.anchor==="free"?st.position:st._anchorAxis.domain[dn[0]],st.title.text!==jt._dfltTitle[ne]&&(we[Ve]+=At(st)+(st.title.standoff||0)),st.mirror&&st.anchor!=="free"&&((qe={x:0,y:0,r:0,l:0,t:0,b:0})[Ge]=st.linewidth,st.mirror&&st.mirror!==!0&&(qe[Ge]+=rn),st.mirror===!0||st.mirror==="ticks"?qe[se]=st._anchorAxis.domain[dn[1]]:st.mirror!=="all"&&st.mirror!=="allticks"||(qe[se]=[st._counterDomainMin,st._counterDomainMax][dn[1]]))}Be&&(nn=e.getComponentMethod("rangeslider","autoMarginOpts")(at,st)),o.autoMargin(at,Bt(st),we),o.autoMargin(at,Zt(st),qe),o.autoMargin(at,Ht(st),nn)}),Lt.skipTitle||Be&&st.side==="bottom"||Ze.push(function(){return function(Ue,we){var qe,nn=Ue._fullLayout,Ve=we._id,Ge=Ve.charAt(0),cn=we.title.font.size;if(we.title.hasOwnProperty("standoff"))qe=we._depth+we.title.standoff+At(we);else{var rn=re(we);if(we.type==="multicategory")qe=we._depth;else{var dn=1.5*cn;rn&&(dn=.5*cn,we.ticks==="outside"&&(dn+=we.ticklen)),qe=10+dn+(we.linewidth?we.linewidth-1:0)}rn||(qe+=Ge==="x"?we.side==="top"?cn*(we.showticklabels?1:0):cn*(we.showticklabels?1.5:.5):we.side==="right"?cn*(we.showticklabels?1:.5):cn*(we.showticklabels?.5:0))}var hn,vn,An,wn,Dn=E.getPxPosition(Ue,we);if(Ge==="x"?(vn=we._offset+we._length/2,An=we.side==="top"?Dn-qe:Dn+qe):(An=we._offset+we._length/2,vn=we.side==="right"?Dn+qe:Dn-qe,hn={rotate:"-90",offset:0}),we.type!=="multicategory"){var un=we._selections[we._id+"tick"];if(wn={selection:un,side:we.side},un&&un.node()&&un.node().parentNode){var xn=u.getTranslate(un.node().parentNode);wn.offsetLeft=xn.x,wn.offsetTop=xn.y}we.title.hasOwnProperty("standoff")&&(wn.pad=0)}return a.draw(Ue,Ve+"title",{propContainer:we,propName:we._name+".title.text",placeholder:nn._dfltTitle[Ge],avoid:wn,transform:hn,attributes:{x:vn,y:An,"text-anchor":"middle"}})}(at,st)}),n.syncOrAsync(Ze)}}function Ke(Ue){var we=$t+(Ue||"tick");return le[we]||(le[we]=function(qe,nn){var Ve,Ge,cn,rn;return qe._selections[nn].size()?(Ve=1/0,Ge=-1/0,cn=1/0,rn=-1/0,qe._selections[nn].each(function(){var dn=kt(this),hn=u.bBox(dn.node().parentNode);Ve=Math.min(Ve,hn.top),Ge=Math.max(Ge,hn.bottom),cn=Math.min(cn,hn.left),rn=Math.max(rn,hn.right)})):(Ve=0,Ge=0,cn=0,rn=0),{top:Ve,bottom:Ge,left:cn,right:rn,height:Ge-Ve,width:rn-cn}}(st,we)),le[we]}},E.getTickSigns=function(at){var st=at._id.charAt(0),Lt={x:"top",y:"right"}[st],Ct=at.side===Lt?1:-1,Nt=[-1,1,Ct,-Ct];return at.ticks!=="inside"==(st==="x")&&(Nt=Nt.map(function(Pt){return-Pt})),at.side&&Nt.push({l:-1,t:-1,r:1,b:1}[at.side.charAt(0)]),Nt},E.makeTransTickFn=function(at){return at._id.charAt(0)==="x"?function(st){return l(at._offset+at.l2p(st.x),0)}:function(st){return l(0,at._offset+at.l2p(st.x))}},E.makeTransTickLabelFn=function(at){var st=function(Nt){var Pt=Nt.ticklabelposition||"",jt=function(Te){return Pt.indexOf(Te)!==-1},$t=jt("top"),ne=jt("left"),se=jt("right"),Wt=jt("bottom"),ae=jt("inside"),ce=Wt||ne||$t||se;if(!ce&&!ae)return[0,0];var be=Nt.side,he=ce?(Nt.tickwidth||0)/2:0,me=3,le=Nt.tickfont?Nt.tickfont.size:12;return(Wt||$t)&&(he+=le*F,me+=(Nt.linewidth||0)/2),(ne||se)&&(he+=(Nt.linewidth||0)/2,me+=3),ae&&be==="top"&&(me-=le*(1-F)),(ne||$t)&&(he=-he),be!=="bottom"&&be!=="right"||(me=-me),[ce?he:0,ae?me:0]}(at),Lt=st[0],Ct=st[1];return at._id.charAt(0)==="x"?function(Nt){return l(Lt+at._offset+at.l2p(It(Nt)),Ct)}:function(Nt){return l(Ct,Lt+at._offset+at.l2p(It(Nt)))}},E.makeTickPath=function(at,st,Lt,Ct){Ct=Ct!==void 0?Ct:at.ticklen;var Nt=at._id.charAt(0),Pt=(at.linewidth||1)/2;return Nt==="x"?"M0,"+(st+Pt*Lt)+"v"+Ct*Lt:"M"+(st+Pt*Lt)+",0h"+Ct*Lt},E.makeLabelFns=function(at,st,Lt){var Ct=at.ticklabelposition||"",Nt=function(De){return Ct.indexOf(De)!==-1},Pt=Nt("top"),jt=Nt("left"),$t=Nt("right"),ne=Nt("bottom")||jt||Pt||$t,se=Nt("inside"),Wt=Ct==="inside"&&at.ticks==="inside"||!se&&at.ticks==="outside"&&at.tickson!=="boundaries",ae=0,ce=0,be=Wt?at.ticklen:0;if(se?be*=-1:ne&&(be=0),Wt&&(ae+=be,Lt)){var he=n.deg2rad(Lt);ae=be*Math.cos(he)+1,ce=be*Math.sin(he)}at.showticklabels&&(Wt||at.showline)&&(ae+=.2*at.tickfont.size);var me,le,Te,Me,ge,oe={labelStandoff:ae+=(at.linewidth||1)/2*(se?-1:1),labelShift:ce},de=0,Ae=at.side,ye=at._id.charAt(0),Ce=at.tickangle;if(ye==="x")Me=(ge=!se&&Ae==="bottom"||se&&Ae==="top")?1:-1,se&&(Me*=-1),me=ce*Me,le=st+ae*Me,Te=ge?1:-.2,Math.abs(Ce)===90&&(se?Te+=C:Te=Ce===-90&&Ae==="bottom"?F:Ce===90&&Ae==="top"?C:.5,de=C/2*(Ce/90)),oe.xFn=function(De){return De.dx+me+de*De.fontSize},oe.yFn=function(De){return De.dy+le+De.fontSize*Te},oe.anchorFn=function(De,Oe){if(ne){if(jt)return"end";if($t)return"start"}return s(Oe)&&Oe!==0&&Oe!==180?Oe*Me<0!==se?"end":"start":"middle"},oe.heightFn=function(De,Oe,Ne){return Oe<-60||Oe>60?-.5*Ne:at.side==="top"!==se?-Ne:0};else if(ye==="y"){if(Me=(ge=!se&&Ae==="left"||se&&Ae==="right")?1:-1,se&&(Me*=-1),me=ae,le=ce*Me,Te=0,se||Math.abs(Ce)!==90||(Te=Ce===-90&&Ae==="left"||Ce===90&&Ae==="right"?F:.5),se){var ue=s(Ce)?+Ce:0;if(ue!==0){var Re=n.deg2rad(ue);de=Math.abs(Math.sin(Re))*F*Me,Te=0}}oe.xFn=function(De){return De.dx+st-(me+De.fontSize*Te)*Me+de*De.fontSize},oe.yFn=function(De){return De.dy+le+De.fontSize*C},oe.anchorFn=function(De,Oe){return s(Oe)&&Math.abs(Oe)===90?"middle":ge?"end":"start"},oe.heightFn=function(De,Oe,Ne){return at.side==="right"&&(Oe*=-1),Oe<-30?-Ne:Oe<30?-.5*Ne:0}}return oe},E.drawTicks=function(at,st,Lt){Lt=Lt||{};var Ct=st._id+"tick",Nt=Lt.vals;st.ticklabelmode==="period"&&(Nt=Nt.slice()).shift();var Pt=Lt.layer.selectAll("path."+Ct).data(st.ticks?Nt:[],wt);Pt.exit().remove(),Pt.enter().append("path").classed(Ct,1).classed("ticks",1).classed("crisp",Lt.crisp!==!1).call(r.stroke,st.tickcolor).style("stroke-width",u.crispRound(at,st.tickwidth,1)+"px").attr("d",Lt.path).style("display",null),xe(st,[rt]),Pt.attr("transform",Lt.transFn)},E.drawGrid=function(at,st,Lt){Lt=Lt||{};var Ct=st._id+"grid",Nt=Lt.vals,Pt=Lt.counterAxis;if(st.showgrid===!1)Nt=[];else if(Pt&&E.shouldShowZeroLine(at,st,Pt))for(var jt=st.tickmode==="array",$t=0;$t<Nt.length;$t++){var ne=Nt[$t].x;if(jt?!ne:Math.abs(ne)<st.dtick/100){if(Nt=Nt.slice(0,$t).concat(Nt.slice($t+1)),!jt)break;$t--}}var se=Lt.layer.selectAll("path."+Ct).data(Nt,wt);se.exit().remove(),se.enter().append("path").classed(Ct,1).classed("crisp",Lt.crisp!==!1),st._gw=u.crispRound(at,st.gridwidth,1),se.attr("transform",Lt.transFn).attr("d",Lt.path).call(r.stroke,st.gridcolor||"#ddd").style("stroke-width",st._gw+"px").style("display",null),xe(st,[$]),typeof Lt.path=="function"&&se.attr("d",Lt.path)},E.drawZeroLine=function(at,st,Lt){Lt=Lt||Lt;var Ct=st._id+"zl",Nt=E.shouldShowZeroLine(at,st,Lt.counterAxis),Pt=Lt.layer.selectAll("path."+Ct).data(Nt?[{x:0,id:st._id}]:[]);Pt.exit().remove(),Pt.enter().append("path").classed(Ct,1).classed("zl",1).classed("crisp",Lt.crisp!==!1).each(function(){Lt.layer.selectAll("path").sort(function(jt,$t){return U(jt.id,$t.id)})}),Pt.attr("transform",Lt.transFn).attr("d",Lt.path).call(r.stroke,st.zerolinecolor||r.defaultLine).style("stroke-width",u.crispRound(at,st.zerolinewidth,st._gw||1)+"px").style("display",null),xe(st,[B])},E.drawLabels=function(at,st,Lt){Lt=Lt||{};var Ct=at._fullLayout,Nt=st._id,Pt=Nt.charAt(0),jt=Lt.cls||Nt+"tick",$t=Lt.vals,ne=Lt.labelFns,se=Lt.secondary?0:st.tickangle,Wt=(st._prevTickAngles||{})[jt],ae=Lt.layer.selectAll("g."+jt).data(st.showticklabels?$t:[],wt),ce=[];function be(Me,ge){Me.each(function(oe){var de=t.select(this),Ae=de.select(".text-math-group"),ye=ne.anchorFn(oe,ge),Ce=Lt.transFn.call(de.node(),oe)+(s(ge)&&+ge!=0?" rotate("+ge+","+ne.xFn(oe)+","+(ne.yFn(oe)-oe.fontSize/2)+")":""),ue=i.lineCount(de),Re=L*oe.fontSize,De=ne.heightFn(oe,s(ge)?+ge:0,(ue-1)*Re);if(De&&(Ce+=l(0,De)),Ae.empty()){var Oe=de.select("text");Oe.attr({transform:Ce,"text-anchor":ye}),Oe.style("opacity",1),st._adjustTickLabelsOverflow&&st._adjustTickLabelsOverflow()}else{var Ne=u.bBox(Ae.node()).width*{end:-.5,start:.5}[ye];Ae.attr("transform",Ce+l(Ne,0))}})}ae.enter().append("g").classed(jt,1).append("text").attr("text-anchor","middle").each(function(Me){var ge=t.select(this),oe=at._promises.length;ge.call(i.positionText,ne.xFn(Me),ne.yFn(Me)).call(u.font,Me.font,Me.fontSize,Me.fontColor).text(Me.text).call(i.convertToTspans,at),at._promises[oe]?ce.push(at._promises.pop().then(function(){be(ge,se)})):be(ge,se)}),xe(st,[q]),ae.exit().remove(),Lt.repositionOnUpdate&&ae.each(function(Me){t.select(this).select("text").call(i.positionText,ne.xFn(Me),ne.yFn(Me))}),st._adjustTickLabelsOverflow=function(){var Me=st.ticklabeloverflow;if(Me&&Me!=="allow"){var ge=Me.indexOf("hide")!==-1,oe=st._id.charAt(0)==="x",de=0,Ae=oe?at._fullLayout.width:at._fullLayout.height;if(Me.indexOf("domain")!==-1){var ye=n.simpleMap(st.range,st.r2l);de=st.l2p(ye[0])+st._offset,Ae=st.l2p(ye[1])+st._offset}var Ce=Math.min(de,Ae),ue=Math.max(de,Ae),Re=st.side,De=1/0,Oe=-1/0;for(var Ne in ae.each(function(Se){var ke=t.select(this);if(ke.select(".text-math-group").empty()){var Le=u.bBox(ke.node()),_e=0;oe?(Le.right>ue||Le.left<Ce)&&(_e=1):(Le.bottom>ue||Le.top+(st.tickangle?0:Se.fontSize/4)<Ce)&&(_e=1);var fe=ke.select("text");_e?ge&&fe.style("opacity",0):(fe.style("opacity",1),De=Re==="bottom"||Re==="right"?Math.min(De,oe?Le.top:Le.left):-1/0,Oe=Re==="top"||Re==="left"?Math.max(Oe,oe?Le.bottom:Le.right):1/0)}}),Ct._plots){var en=Ct._plots[Ne];if(st._id===en.xaxis._id||st._id===en.yaxis._id){var tn=oe?en.yaxis:en.xaxis;tn&&(tn["_visibleLabelMin_"+st._id]=De,tn["_visibleLabelMax_"+st._id]=Oe)}}}},st._hideCounterAxisInsideTickLabels=function(Me){var ge=st._id.charAt(0)==="x",oe=[];for(var de in Ct._plots){var Ae=Ct._plots[de];st._id!==Ae.xaxis._id&&st._id!==Ae.yaxis._id||oe.push(ge?Ae.yaxis:Ae.xaxis)}oe.forEach(function(ye,Ce){ye&&re(ye)&&(Me||[B,$,rt,q]).forEach(function(ue){var Re=ue.K==="tick"&&ue.L==="text"&&st.ticklabelmode==="period",De=Ct._plots[st._mainSubplot];(ue.K===B.K?De.zerolinelayer.selectAll("."+st._id+"zl"):ue.K===$.K?De.gridlayer.selectAll("."+st._id):De[st._id.charAt(0)+"axislayer"]).each(function(){var Oe=t.select(this);ue.L&&(Oe=Oe.selectAll(ue.L)),Oe.each(function(Ne){var en=st.l2p(Re?It(Ne):Ne.x)+st._offset,tn=t.select(this);en<st["_visibleLabelMax_"+ye._id]&&en>st["_visibleLabelMin_"+ye._id]?tn.style("display","none"):ue.K!=="tick"||Ce||tn.style("display",null)})})})})},be(ae,Wt+1?Wt:se);var he=null;st._selections&&(st._selections[jt]=ae);var me=[function(){return ce.length&&Promise.all(ce)}];st.automargin&&Ct._redrawFromAutoMarginCount&&Wt===90?(he=90,me.push(function(){be(ae,Wt)})):me.push(function(){if(be(ae,se),$t.length&&Pt==="x"&&!s(se)&&(st.type!=="log"||String(st.dtick).charAt(0)!=="D")){he=0;var Me,ge=0,oe=[];if(ae.each(function(ke){ge=Math.max(ge,ke.fontSize);var Le=st.l2p(ke.x),_e=kt(this),fe=u.bBox(_e.node());oe.push({top:0,bottom:10,height:10,left:Le-fe.width/2,right:Le+fe.width/2+2,width:fe.width+2})}),st.tickson!=="boundaries"&&!st.showdividers||Lt.secondary){var de=$t.length,Ae=Math.abs(($t[de-1].x-$t[0].x)*st._m)/(de-1),ye=st.ticklabelposition||"",Ce=function(ke){return ye.indexOf(ke)!==-1},ue=Ce("top"),Re=Ce("left"),De=Ce("right"),Oe=Ce("bottom")||Re||ue||De?(st.tickwidth||0)+6:0,Ne=Ae<2.5*ge||st.type==="multicategory";for(Me=0;Me<oe.length-1;Me++)if(n.bBoxIntersect(oe[Me],oe[Me+1],Oe)){he=Ne?90:30;break}}else{var en=2;for(st.ticks&&(en+=st.tickwidth/2),Me=0;Me<oe.length;Me++){var tn=$t[Me].xbnd,Se=oe[Me];if(tn[0]!==null&&Se.left-st.l2p(tn[0])<en||tn[1]!==null&&st.l2p(tn[1])-Se.right<en){he=90;break}}}he&&be(ae,he)}}),st._tickAngles&&me.push(function(){st._tickAngles[jt]=he===null?s(se)?se:0:he});var le=st._anchorAxis;le&&le.autorange&&re(st)&&!P(Ct,st._id)&&(Ct._insideTickLabelsAutorange||(Ct._insideTickLabelsAutorange={}),Ct._insideTickLabelsAutorange[le._name+".autorange"]=le.autorange,me.push(function(){ae.each(function(Me,ge){var oe=kt(this);oe.select(".text-math-group").empty()&&(st._vals[ge].bb=u.bBox(oe.node()))})}));var Te=n.syncOrAsync(me);return Te&&Te.then&&at._promises.push(Te),Te},E.getPxPosition=function(at,st){var Lt,Ct=at._fullLayout._size,Nt=st._id.charAt(0),Pt=st.side;return st.anchor!=="free"?Lt=st._anchorAxis:Nt==="x"?Lt={_offset:Ct.t+(1-(st.position||0))*Ct.h,_length:0}:Nt==="y"&&(Lt={_offset:Ct.l+(st.position||0)*Ct.w,_length:0}),Pt==="top"||Pt==="left"?Lt._offset:Pt==="bottom"||Pt==="right"?Lt._offset+Lt._length:void 0},E.shouldShowZeroLine=function(at,st,Lt){var Ct=n.simpleMap(st.range,st.r2l);return Ct[0]*Ct[1]<=0&&st.zeroline&&(st.type==="linear"||st.type==="-")&&!(st.rangebreaks&&st.maskBreaks(0)===Y)&&(Xt(st,0)||!function(Nt,Pt,jt,$t){var ne=jt._mainAxis;if(!ne)return;var se=Nt._fullLayout,Wt=Pt._id.charAt(0),ae=E.counterLetter(Pt._id),ce=Pt._offset+(Math.abs($t[0])<Math.abs($t[1])==(Wt==="x")?0:Pt._length);function be(Me){if(!Me.showline||!Me.linewidth)return!1;var ge=Math.max((Me.linewidth+Pt.zerolinewidth)/2,1);function oe(ye){return typeof ye=="number"&&Math.abs(ye-ce)<ge}if(oe(Me._mainLinePosition)||oe(Me._mainMirrorPosition))return!0;var de=Me._linepositions||{};for(var Ae in de)if(oe(de[Ae][0])||oe(de[Ae][1]))return!0}var he=se._plots[jt._mainSubplot];if(!(he.mainplotinfo||he).overlays.length)return be(jt);for(var me=E.list(Nt,ae),le=0;le<me.length;le++){var Te=me[le];if(Te._mainAxis===ne&&be(Te))return!0}}(at,st,Lt,Ct)||function(Nt,Pt){for(var jt=Nt._fullData,$t=Pt._mainSubplot,ne=Pt._id.charAt(0),se=0;se<jt.length;se++){var Wt=jt[se];if(Wt.visible===!0&&Wt.xaxis+Wt.yaxis===$t&&(e.traceIs(Wt,"bar-like")&&Wt.orientation==={x:"h",y:"v"}[ne]||Wt.fill&&Wt.fill.charAt(Wt.fill.length-1)===ne))return!0}return!1}(at,st))},E.clipEnds=function(at,st){return st.filter(function(Lt){return Xt(at,Lt.x)})},E.allowAutoMargin=function(at){for(var st=E.list(at,"",!0),Lt=0;Lt<st.length;Lt++){var Ct=st[Lt];Ct.automargin&&(o.allowAutoMargin(at,Bt(Ct)),Ct.mirror&&o.allowAutoMargin(at,Zt(Ct))),e.getComponentMethod("rangeslider","isVisible")(Ct)&&o.allowAutoMargin(at,Ht(Ct))}},E.swap=function(at,st){for(var Lt=function(Nt,Pt){var jt,$t,ne=[];for(jt=0;jt<Pt.length;jt++){var se=[],Wt=Nt._fullData[Pt[jt]].xaxis,ae=Nt._fullData[Pt[jt]].yaxis;if(Wt&&ae){for($t=0;$t<ne.length;$t++)ne[$t].x.indexOf(Wt)===-1&&ne[$t].y.indexOf(ae)===-1||se.push($t);if(se.length){var ce,be=ne[se[0]];if(se.length>1)for($t=1;$t<se.length;$t++)ce=ne[se[$t]],ee(be.x,ce.x),ee(be.y,ce.y);ee(be.x,[Wt]),ee(be.y,[ae])}else ne.push({x:[Wt],y:[ae]})}}return ne}(at,st),Ct=0;Ct<Lt.length;Ct++)qt(at,Lt[Ct].x,Lt[Ct].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../../registry":316,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":300,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib"),o=c("../../constants/numerical").BADNUM,e=s.isArrayOrTypedArray,n=s.isDateTime,l=s.cleanNumber,i=Math.round;function a(u,d){return d?t(u):typeof u=="number"}function r(u){return Math.max(1,(u-1)/1e3)}J.exports=function(u,d,p){var m=u,M=p.noMultiCategory;if(e(m)&&!m.length)return"-";if(!M&&function(A){return e(A[0])&&e(A[1])}(m))return"multicategory";if(M&&Array.isArray(m[0])){for(var w=[],b=0;b<m.length;b++)if(e(m[b]))for(var v=0;v<m[b].length;v++)w.push(m[b][v]);m=w}if(function(A,y){for(var T=A.length,k=r(T),x=0,D=0,z={},g=0;g<T;g+=k){var R=i(g),I=A[R],j=String(I);z[j]||(z[j]=1,n(I,y)&&x++,t(I)&&D++)}return x>2*D}(m,d))return"date";var h=p.autotypenumbers!=="strict";return function(A,y){for(var T=A.length,k=r(T),x=0,D=0,z={},g=0;g<T;g+=k){var R=i(g),I=A[R],j=String(I);if(!z[j]){z[j]=1;var Y=typeof I;Y==="boolean"?D++:(y?l(I)!==o:Y==="number")?x++:Y==="string"&&D++}}return D>2*x}(m,h)?"category":function(A,y){for(var T=A.length,k=0;k<T;k++)if(a(A[k],y))return!0;return!1}(m,h)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../registry"),o=c("../../lib"),e=c("../array_container_defaults"),n=c("./layout_attributes"),l=c("./tick_value_defaults"),i=c("./tick_mark_defaults"),a=c("./tick_label_defaults"),r=c("./category_order_defaults"),u=c("./line_grid_defaults"),d=c("./set_convert"),p=c("./constants").WEEKDAY_PATTERN,m=c("./constants").HOUR_PATTERN;function M(v,h,A){function y(I,j){return o.coerce(v,h,n.rangebreaks,I,j)}if(y("enabled")){var T=y("bounds");if(T&&T.length>=2){var k,x,D="";if(T.length===2){for(k=0;k<2;k++)if(x=b(T[k])){D=p;break}}var z=y("pattern",D);if(z===p)for(k=0;k<2;k++)(x=b(T[k]))&&(h.bounds[k]=T[k]=x-1);if(z)for(k=0;k<2;k++)switch(x=T[k],z){case p:if(!t(x)||(x=+x)!==Math.floor(x)||x<0||x>=7)return void(h.enabled=!1);h.bounds[k]=T[k]=x;break;case m:if(!t(x)||(x=+x)<0||x>24)return void(h.enabled=!1);h.bounds[k]=T[k]=x}if(A.autorange===!1){var g=A.range;if(g[0]<g[1]){if(T[0]<g[0]&&T[1]>g[1])return void(h.enabled=!1)}else if(T[0]>g[0]&&T[1]<g[1])return void(h.enabled=!1)}}else{var R=y("values");if(!R||!R.length)return void(h.enabled=!1);y("dvalue")}}}J.exports=function(v,h,A,y,T){var k,x=y.letter,D=y.font||{},z=y.splomStash||{},g=A("visible",!y.visibleDflt),R=h._template||{},I=h.type||R.type||"-";I==="date"&&(s.getComponentMethod("calendars","handleDefaults")(v,h,"calendar",y.calendar),y.noTicklabelmode||(k=A("ticklabelmode")));var j="";y.noTicklabelposition&&I!=="multicategory"||(j=o.coerce(v,h,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:k==="period"?["outside","inside"]:x==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||A("ticklabeloverflow",j.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),d(h,T);var Y=!h.isValidRange(v.range);Y&&y.reverseDflt&&(Y="reversed"),!A("autorange",Y)||I!=="linear"&&I!=="-"||A("rangemode"),A("range"),h.cleanRange(),r(v,h,A,y),I==="category"||y.noHover||A("hoverformat");var B=A("color"),$=B!==n.color.dflt?B:D.color,rt=z.label||T._dfltTitle[x];if(a(v,h,A,I,y,{pass:1}),!g)return h;A("title.text",rt),o.coerceFont(A,"title.font",{family:D.family,size:o.bigFont(D.size),color:$}),l(v,h,A,I),a(v,h,A,I,y,{pass:2}),i(v,h,A,y),u(v,h,A,{dfltColor:B,bgColor:y.bgColor,showGrid:y.showGrid,attributes:n}),(h.showline||h.ticks)&&A("mirror"),y.automargin&&A("automargin");var q,H=I==="multicategory";if(y.noTickson||I!=="category"&&!H||!h.ticks&&!h.showgrid||(H&&(q="boundaries"),A("tickson",q)==="boundaries"&&delete h.ticklabelposition),H&&A("showdividers")&&(A("dividercolor"),A("dividerwidth")),I==="date")if(e(v,h,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),h.rangebreaks.length){for(var C=0;C<h.rangebreaks.length;C++)if(h.rangebreaks[C].pattern===p){h._hasDayOfWeekBreaks=!0;break}if(d(h,T),T._has("scattergl")||T._has("splom"))for(var F=0;F<y.data.length;F++){var L=y.data[F];L.type!=="scattergl"&&L.type!=="splom"||(L.visible=!1,o.warn(L.type+" traces do not work on axes with rangebreaks. Setting trace "+L.index+" to `visible: false`."))}}else delete h.rangebreaks;return h};var w={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function b(v){if(typeof v=="string")return w[v.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../registry":316,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./set_convert":300,"./tick_label_defaults":301,"./tick_mark_defaults":302,"./tick_value_defaults":303,"fast-isnumeric":17}],282:[function(c,J,N){var t=c("../../constants/docs"),s=t.FORMAT_LINK,o=t.DATE_FORMAT_LINK;function e(l,i){return["Sets the "+l+" formatting rule"+(i?"for `"+i+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+s+"."].join(" ")}function n(l,i){return e(l,i)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}J.exports={axisHoverFormat:function(l,i){return{valType:"string",dflt:"",editType:"none",description:(i?e:n)("hover text",l)+["By default the values are formatted using "+(i?"generic number format":"`"+l+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:e,descriptionWithDates:n}},{"../../constants/docs":209}],283:[function(c,J,N){var t=c("../../registry"),s=c("./constants");function o(e,n){if(n&&n.length){for(var l=0;l<n.length;l++)if(n[l][e])return!0}return!1}N.id2name=function(e){if(typeof e=="string"&&e.match(s.AX_ID_PATTERN)){var n=e.split(" ")[0].substr(1);return n==="1"&&(n=""),e.charAt(0)+"axis"+n}},N.name2id=function(e){if(e.match(s.AX_NAME_PATTERN)){var n=e.substr(5);return n==="1"&&(n=""),e.charAt(0)+n}},N.cleanId=function(e,n,l){var i=/( domain)$/.test(e);if(typeof e=="string"&&e.match(s.AX_ID_PATTERN)&&(!n||e.charAt(0)===n)&&(!i||l)){var a=e.split(" ")[0].substr(1).replace(/^0+/,"");return a==="1"&&(a=""),e.charAt(0)+a+(i&&l?" domain":"")}},N.list=function(e,n,l){var i=e._fullLayout;if(!i)return[];var a,r=N.listIds(e,n),u=new Array(r.length);for(a=0;a<r.length;a++){var d=r[a];u[a]=i[d.charAt(0)+"axis"+d.substr(1)]}if(!l){var p=i._subplots.gl3d||[];for(a=0;a<p.length;a++){var m=i[p[a]];n?u.push(m[n+"axis"]):u.push(m.xaxis,m.yaxis,m.zaxis)}}return u},N.listIds=function(e,n){var l=e._fullLayout;if(!l)return[];var i=l._subplots;return n?i[n+"axis"]:i.xaxis.concat(i.yaxis)},N.getFromId=function(e,n,l){var i=e._fullLayout;return n=n===void 0||typeof n!="string"?n:n.replace(" domain",""),l==="x"?n=n.replace(/y[0-9]*/,""):l==="y"&&(n=n.replace(/x[0-9]*/,"")),i[N.id2name(n)]},N.getFromTrace=function(e,n,l){var i=e._fullLayout,a=null;if(t.traceIs(n,"gl3d")){var r=n.scene;r.substr(0,5)==="scene"&&(a=i[r][l+"axis"])}else a=N.getFromId(e,n[l+"axis"]||l);return a},N.idSort=function(e,n){var l=e.charAt(0),i=n.charAt(0);return l!==i?l>i?1:-1:+(e.substr(1)||1)-+(n.substr(1)||1)},N.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},N.isLinked=function(e,n){return o(n,e._axisMatchGroups)||o(n,e._axisConstraintGroups)}},{"../../registry":316,"./constants":286}],284:[function(c,J,N){J.exports=function(t,s,o,e){if(s.type==="category"){var n,l=t.categoryarray,i=Array.isArray(l)&&l.length>0;i&&(n="array");var a,r=o("categoryorder",n);r==="array"&&(a=o("categoryarray")),i||r!=="array"||(r=s.categoryorder="trace"),r==="trace"?s._initialCategories=[]:r==="array"?s._initialCategories=a.slice():(a=function(u,d){var p,m,M,w=d.dataAttr||u._id.charAt(0),b={};if(d.axData)p=d.axData;else for(p=[],m=0;m<d.data.length;m++){var v=d.data[m];v[w+"axis"]===u._id&&p.push(v)}for(m=0;m<p.length;m++){var h=p[m][w];for(M=0;M<h.length;M++){var A=h[M];A!=null&&(b[A]=1)}}return Object.keys(b)}(s,e).sort(),r==="category ascending"?s._initialCategories=a:r==="category descending"&&(s._initialCategories=a.reverse()))}}},{}],285:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib"),o=c("../../constants/numerical"),e=o.ONEDAY,n=o.ONEWEEK;N.dtick=function(l,i){var a=i==="log",r=i==="date",u=i==="category",d=r?e:1;if(!l)return d;if(t(l))return(l=Number(l))<=0?d:u?Math.max(1,Math.round(l)):r?Math.max(.1,l):l;if(typeof l!="string"||!r&&!a)return d;var p=l.charAt(0),m=l.substr(1);return(m=t(m)?Number(m):0)<=0||!(r&&p==="M"&&m===Math.round(m)||a&&p==="L"||a&&p==="D"&&(m===1||m===2))?d:l},N.tick0=function(l,i,a,r){return i==="date"?s.cleanDate(l,s.dateTick0(a,r%n==0?1:0)):r!=="D1"&&r!=="D2"?t(l)?Number(l):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(c,J,N){var t=c("../../lib/regex").counter;J.exports={idRegex:{x:t("x","( domain)?"),y:t("y","( domain)?")},attrRegex:t("[xy]axis"),xAxisMatch:t("xaxis"),yAxisMatch:t("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(c,J,N){var t=c("../../lib"),s=c("./autorange"),o=c("./axis_ids").id2name,e=c("./layout_attributes"),n=c("./scale_zoom"),l=c("./set_convert"),i=c("../../constants/numerical").ALMOST_EQUAL,a=c("../../constants/alignment").FROM_BL;function r(b,v,h){var A=h.axIds,y=h.layoutOut,T=h.hasImage,k=y._axisConstraintGroups,x=y._axisMatchGroups,D=v._id,z=D.charAt(0),g=((y._splomAxes||{})[z]||{})[D]||{},R=v._id,I=R.charAt(0)==="x";function j(U,P){return t.coerce(b,v,e,U,P)}v._matchGroup=null,v._constraintGroup=null,j("constrain",T?"domain":"range"),t.coerce(b,v,{constraintoward:{valType:"enumerated",values:I?["left","center","right"]:["bottom","middle","top"],dflt:I?"center":"middle"}},"constraintoward");var Y,B,$=v.type,rt=[];for(Y=0;Y<A.length;Y++)(B=A[Y])!==R&&y[o(B)].type===$&&rt.push(B);var q=d(k,R);if(q){var H=[];for(Y=0;Y<rt.length;Y++)q[B=rt[Y]]||H.push(B);rt=H}var C,F,L=rt.length;L&&(b.matches||g.matches)&&(C=t.coerce(b,v,{matches:{valType:"enumerated",values:rt,dflt:rt.indexOf(g.matches)!==-1?g.matches:void 0}},"matches"));var X=T&&!I?v.anchor:void 0;if(L&&!C&&(b.scaleanchor||X)&&(F=t.coerce(b,v,{scaleanchor:{valType:"enumerated",values:rt}},"scaleanchor",X)),C){v._matchGroup=p(x,R,C,1);var E=y[o(C)],Z=u(y,v)/u(y,E);I!==(C.charAt(0)==="x")&&(Z=(I?"x":"y")+Z),p(k,R,C,Z)}else b.matches&&A.indexOf(b.matches)!==-1&&t.warn("ignored "+v._name+'.matches: "'+b.matches+'" to avoid an infinite loop');if(F){var S=j("scaleratio");S||(S=v.scaleratio=1),p(k,R,F,S)}else b.scaleanchor&&A.indexOf(b.scaleanchor)!==-1&&t.warn("ignored "+v._name+'.scaleanchor: "'+b.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(b,v){var h=v.domain;return h||(h=b[o(v.overlaying)].domain),h[1]-h[0]}function d(b,v){for(var h=0;h<b.length;h++)if(b[h][v])return b[h];return null}function p(b,v,h,A){var y,T,k,x,D,z=d(b,v);z===null?((z={})[v]=1,D=b.length,b.push(z)):D=b.indexOf(z);var g=Object.keys(z);for(y=0;y<b.length;y++)if(k=b[y],y!==D&&k[h]){var R=k[h];for(T=0;T<g.length;T++)k[x=g[T]]=m(R,m(A,z[x]));return void b.splice(D,1)}if(A!==1)for(T=0;T<g.length;T++){var I=g[T];z[I]=m(A,z[I])}z[h]=1}function m(b,v){var h,A,y="",T="";typeof b=="string"&&(h=(y=b.match(/^[xy]*/)[0]).length,b=+b.substr(h)),typeof v=="string"&&(A=(T=v.match(/^[xy]*/)[0]).length,v=+v.substr(A));var k=b*v;return h||A?h&&A&&y.charAt(0)!==T.charAt(0)?h===A?k:(h>A?y.substr(A):T.substr(h))+k:y+T+b*v:k}function M(b,v){for(var h=v._size,A=h.h/h.w,y={},T=Object.keys(b),k=0;k<T.length;k++){var x=T[k],D=b[x];if(typeof D=="string"){var z=D.match(/^[xy]*/)[0],g=z.length;D=+D.substr(g);for(var R=z.charAt(0)==="y"?A:1/A,I=0;I<g;I++)D*=R}y[x]=D}return y}function w(b,v){var h=b._inputDomain,A=a[b.constraintoward],y=h[0]+(h[1]-h[0])*A;b.domain=b._input.domain=[y+(h[0]-y)/v,y+(h[1]-y)/v],b.setScale()}N.handleDefaults=function(b,v,h){var A,y,T,k,x,D,z,g,R=h.axIds,I=h.axHasImage,j=v._axisConstraintGroups=[],Y=v._axisMatchGroups=[];for(A=0;A<R.length;A++)r(x=b[k=o(R[A])],D=v[k],{axIds:R,layoutOut:v,hasImage:I[k]});function B(E,Z){for(A=0;A<E.length;A++)for(T in y=E[A])v[o(T)][Z]=y}for(B(Y,"_matchGroup"),A=0;A<j.length;A++)for(T in y=j[A])if((D=v[o(T)]).fixedrange){for(var $ in y){var rt=o($);(b[rt]||{}).fixedrange===!1&&t.warn("fixedrange was specified as false for axis "+rt+" but was overridden because another axis in its constraint group has fixedrange true"),v[rt].fixedrange=!0}break}for(A=0;A<j.length;){for(T in y=j[A]){(D=v[o(T)])._matchGroup&&Object.keys(D._matchGroup).length===Object.keys(y).length&&(j.splice(A,1),A--);break}A++}B(j,"_constraintGroup");var q=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],H=!1,C=!1;function F(){g=D[z],z==="rangebreaks"&&(C=D._hasDayOfWeekBreaks)}for(A=0;A<Y.length;A++){y=Y[A];for(var L=0;L<q.length;L++){var X;for(T in z=q[L],g=null,y)if(x=b[k=o(T)],D=v[k],z in D){if(!D.matches&&(X=D,z in x)){F();break}g===null&&z in x&&F()}if(z==="range"&&g&&(H=!0),z==="autorange"&&g===null&&H&&(g=!1),g===null&&z in X&&(g=X[z]),g!==null)for(T in y)(D=v[o(T)])[z]=z==="range"?g.slice():g,z==="rangebreaks"&&(D._hasDayOfWeekBreaks=C,l(D,v))}}},N.enforce=function(b){var v,h,A,y,T,k,x,D,z=b._fullLayout,g=z._axisConstraintGroups||[];for(v=0;v<g.length;v++){A=M(g[v],z);var R=Object.keys(A),I=1/0,j=0,Y=1/0,B={},$={},rt=!1;for(h=0;h<R.length;h++)$[y=R[h]]=T=z[o(y)],T._inputDomain?T.domain=T._inputDomain.slice():T._inputDomain=T.domain.slice(),T._inputRange||(T._inputRange=T.range.slice()),T.setScale(),B[y]=k=Math.abs(T._m)/A[y],I=Math.min(I,k),T.constrain!=="domain"&&T._constraintShrinkable||(Y=Math.min(Y,k)),delete T._constraintShrinkable,j=Math.max(j,k),T.constrain==="domain"&&(rt=!0);if(!(I>i*j)||rt){for(h=0;h<R.length;h++)if(k=B[y=R[h]],x=(T=$[y]).constrain,k!==Y||x==="domain")if(D=k/Y,x==="range")n(T,D);else{var q=T._inputDomain,H=(T.domain[1]-T.domain[0])/(q[1]-q[0]),C=(T.r2l(T.range[1])-T.r2l(T.range[0]))/(T.r2l(T._inputRange[1])-T.r2l(T._inputRange[0]));if((D/=H)*C<1){T.domain=T._input.domain=q.slice(),n(T,D);continue}if(C<1&&(T.range=T._input.range=T._inputRange.slice(),D*=C),T.autorange){var F=T.r2l(T.range[0]),L=T.r2l(T.range[1]),X=(F+L)/2,E=X,Z=X,S=Math.abs(L-X),U=X-S*D*1.0001,P=X+S*D*1.0001,G=s.makePadFn(z,T,0),Q=s.makePadFn(z,T,1);w(T,D);var et,tt,lt=Math.abs(T._m),ct=s.concatExtremes(b,T),mt=ct.min,Mt=ct.max;for(tt=0;tt<mt.length;tt++)(et=mt[tt].val-G(mt[tt])/lt)>U&&et<E&&(E=et);for(tt=0;tt<Mt.length;tt++)(et=Mt[tt].val+Q(Mt[tt])/lt)<P&&et>Z&&(Z=et);D/=(Z-E)/(2*S),E=T.l2r(E),Z=T.l2r(Z),T.range=T._input.range=F<L?[E,Z]:[Z,E]}w(T,D)}}}},N.getAxisGroup=function(b,v){for(var h=b._axisMatchGroups,A=0;A<h.length;A++)if(h[A][v])return"g"+A;return v},N.clean=function(b,v){if(v._inputDomain){for(var h=!1,A=v._id,y=b._fullLayout._axisConstraintGroups,T=0;T<y.length;T++)if(y[T][A]){h=!0;break}h&&v.constrain==="domain"||(v._input.domain=v.domain=v._inputDomain,delete v._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":298,"./set_convert":300}],288:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../lib"),o=s.numberFormat,e=c("tinycolor2"),n=c("has-passive-events"),l=c("../../registry"),i=s.strTranslate,a=c("../../lib/svg_text_utils"),r=c("../../components/color"),u=c("../../components/drawing"),d=c("../../components/fx"),p=c("./axes"),m=c("../../lib/setcursor"),M=c("../../components/dragelement"),w=c("../../components/dragelement/helpers"),b=w.selectingOrDrawing,v=w.freeMode,h=c("../../constants/alignment").FROM_TL,A=c("../../lib/clear_gl_canvases"),y=c("../../plot_api/subroutines").redrawReglTraces,T=c("../plots"),k=c("./axis_ids").getFromId,x=c("./select").prepSelect,D=c("./select").clearSelect,z=c("./select").selectOnClick,g=c("./scale_zoom"),R=c("./constants"),I=R.MINDRAG,j=R.MINZOOM,Y=!0;function B(et,tt,lt,ct){var mt=s.ensureSingle(et.draglayer,tt,lt,function(Mt){Mt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",et.id)});return mt.call(m,ct),mt.node()}function $(et,tt,lt,ct,mt,Mt,St){var _t=B(et,"rect",tt,lt);return t.select(_t).call(u.setRect,ct,mt,Mt,St),_t}function rt(et,tt){for(var lt=0;lt<et.length;lt++)if(!et[lt].fixedrange)return tt;return""}function q(et,tt,lt,ct,mt){for(var Mt=0;Mt<et.length;Mt++){var St=et[Mt];if(!St.fixedrange)if(St.rangebreaks){var _t=St._id.charAt(0)==="y",Yt=_t?1-tt:tt,Et=_t?1-lt:lt;ct[St._name+".range[0]"]=St.l2r(St.p2l(Yt*St._length)),ct[St._name+".range[1]"]=St.l2r(St.p2l(Et*St._length))}else{var gt=St._rl[0],ot=St._rl[1]-gt;ct[St._name+".range[0]"]=St.l2r(gt+ot*tt),ct[St._name+".range[1]"]=St.l2r(gt+ot*lt)}}if(mt&&mt.length){var nt=(tt+(1-lt))/2;q(mt,nt,1-nt,ct,[])}}function H(et,tt){for(var lt=0;lt<et.length;lt++){var ct=et[lt];if(!ct.fixedrange)if(ct.rangebreaks){var mt=ct._length,Mt=(ct.p2l(0+tt)-ct.p2l(0)+(ct.p2l(mt+tt)-ct.p2l(mt)))/2;ct.range=[ct.l2r(ct._rl[0]-Mt),ct.l2r(ct._rl[1]-Mt)]}else ct.range=[ct.l2r(ct._rl[0]-tt/ct._m),ct.l2r(ct._rl[1]-tt/ct._m)]}}function C(et){return 1-(et>=0?Math.min(et,.9):1/(1/Math.max(et,-.3)+3.222))}function F(et,tt,lt,ct,mt){return et.append("path").attr("class","zoombox").style({fill:tt>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",i(lt,ct)).attr("d",mt+"Z")}function L(et,tt,lt){return et.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",i(tt,lt)).attr("d","M0,0Z")}function X(et,tt,lt,ct,mt,Mt){et.attr("d",ct+"M"+lt.l+","+lt.t+"v"+lt.h+"h"+lt.w+"v-"+lt.h+"h-"+lt.w+"Z"),E(et,tt,mt,Mt)}function E(et,tt,lt,ct){lt||(et.transition().style("fill",ct>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),tt.transition().style("opacity",1).duration(200))}function Z(et){t.select(et).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function S(et){Y&&et.data&&et._context.showTips&&(s.notifier(s._(et,"Double-click to zoom back out"),"long"),Y=!1)}function U(et){var tt=Math.floor(Math.min(et.b-et.t,et.r-et.l,j)/2);return"M"+(et.l-3.5)+","+(et.t-.5+tt)+"h3v"+-tt+"h"+tt+"v-3h-"+(tt+3)+"ZM"+(et.r+3.5)+","+(et.t-.5+tt)+"h-3v"+-tt+"h"+-tt+"v-3h"+(tt+3)+"ZM"+(et.r+3.5)+","+(et.b+.5-tt)+"h-3v"+tt+"h"+-tt+"v3h"+(tt+3)+"ZM"+(et.l-3.5)+","+(et.b+.5-tt)+"h3v"+tt+"h"+tt+"v3h-"+(tt+3)+"Z"}function P(et,tt,lt,ct,mt){for(var Mt,St,_t,Yt,Et=!1,gt={},ot={},nt=(mt||{}).xaHash,ut=(mt||{}).yaHash,ht=0;ht<tt.length;ht++){var Dt=tt[ht];for(Mt in lt)if(Dt[Mt]){for(_t in Dt)mt&&(nt[_t]||ut[_t])||(_t.charAt(0)==="x"?lt:ct)[_t]||(gt[_t]=Mt);for(St in ct)mt&&(nt[St]||ut[St])||!Dt[St]||(Et=!0)}for(St in ct)if(Dt[St])for(Yt in Dt)mt&&(nt[Yt]||ut[Yt])||(Yt.charAt(0)==="x"?lt:ct)[Yt]||(ot[Yt]=St)}Et&&(s.extendFlat(gt,ot),ot={});var Tt={},xt=[];for(_t in gt){var Ot=k(et,_t);xt.push(Ot),Tt[Ot._id]=Ot}var It={},wt=[];for(Yt in ot){var At=k(et,Yt);wt.push(At),It[At._id]=At}return{xaHash:Tt,yaHash:It,xaxes:xt,yaxes:wt,xLinks:gt,yLinks:ot,isSubplotConstrained:Et}}function G(et,tt){if(n){var lt=et.onwheel!==void 0?"wheel":"mousewheel";et._onwheel&&et.removeEventListener(lt,et._onwheel),et._onwheel=tt,et.addEventListener(lt,tt,{passive:!1})}else et.onwheel!==void 0?et.onwheel=tt:et.onmousewheel!==void 0?et.onmousewheel=tt:et.isAddedWheelEvent||(et.isAddedWheelEvent=!0,et.addEventListener("wheel",tt,{passive:!1}))}function Q(et){var tt=[];for(var lt in et)tt.push(et[lt]);return tt}J.exports={makeDragBox:function(et,tt,lt,ct,mt,Mt,St,_t){var Yt,Et,gt,ot,nt,ut,ht,Dt,Tt,xt,Ot,It,wt,At,Xt,kt,Bt,Zt,Ht,ee,qt,vt,bt,Gt=et._fullLayout._zoomlayer,re=St+_t==="nsew",xe=(St+_t).length===1;function at(){if(Yt=tt.xaxis,Et=tt.yaxis,Tt=Yt._length,xt=Et._length,ht=Yt._offset,Dt=Et._offset,(gt={})[Yt._id]=Yt,(ot={})[Et._id]=Et,St&&_t)for(var Se=tt.overlays,ke=0;ke<Se.length;ke++){var Le=Se[ke].xaxis;gt[Le._id]=Le;var _e=Se[ke].yaxis;ot[_e._id]=_e}nt=Q(gt),ut=Q(ot),wt=rt(nt,_t),At=rt(ut,St),Xt=!At&&!wt,It=P(et,et._fullLayout._axisMatchGroups,gt,ot);var fe=(Ot=P(et,et._fullLayout._axisConstraintGroups,gt,ot,It)).isSubplotConstrained||It.isSubplotConstrained;kt=_t||fe,Bt=St||fe;var Fe=et._fullLayout;Zt=Fe._has("scattergl"),Ht=Fe._has("splom"),ee=Fe._has("svg")}at();var st=function(Se,ke,Le){return Se?Se==="nsew"?Le?"":ke==="pan"?"move":"crosshair":Se.toLowerCase()+"-resize":"pointer"}(At+wt,et._fullLayout.dragmode,re),Lt=$(tt,St+_t+"drag",st,lt,ct,mt,Mt);if(Xt&&!re)return Lt.onmousedown=null,Lt.style.pointerEvents="none",Lt;var Ct,Nt,Pt,jt,$t,ne,se,Wt,ae,ce,be={element:Lt,gd:et,plotinfo:tt};function he(){be.plotinfo.selection=!1,D(et)}function me(Se,ke){var Le=be.gd;if(Le._fullLayout._activeShapeIndex>=0)Le._fullLayout._deactivateShape(Le);else{var _e=Le._fullLayout.clickmode;if(Z(Le),Se!==2||xe||Re(),re)_e.indexOf("select")>-1&&z(ke,Le,nt,ut,tt.id,be),_e.indexOf("event")>-1&&d.click(Le,ke,tt.id);else if(Se===1&&xe){var fe=St?Et:Yt,Fe=St==="s"||_t==="w"?0:1,Ye=fe._name+".range["+Fe+"]",Je=function(Be,Ke){var Ue,we=Be.range[Ke],qe=Math.abs(we-Be.range[1-Ke]);return Be.type==="date"?we:Be.type==="log"?(Ue=Math.ceil(Math.max(0,-Math.log(qe)/Math.LN10))+3,o("."+Ue+"g")(Math.pow(10,we))):(Ue=Math.floor(Math.log(Math.abs(we))/Math.LN10)-Math.floor(Math.log(qe)/Math.LN10)+4,o("."+String(Ue)+"g")(we))}(fe,Fe),Ze="left",je="middle";if(fe.fixedrange)return;St?(je=St==="n"?"top":"bottom",fe.side==="right"&&(Ze="right")):_t==="e"&&(Ze="right"),Le._context.showAxisRangeEntryBoxes&&t.select(Lt).call(a.makeEditable,{gd:Le,immediate:!0,background:Le._fullLayout.paper_bgcolor,text:String(Je),fill:fe.tickfont?fe.tickfont.color:"#444",horizontalAlign:Ze,verticalAlign:je}).on("edit",function(Be){var Ke=fe.d2r(Be);Ke!==void 0&&l.call("_guiRelayout",Le,Ye,Ke)})}}}function le(Se,ke){if(et._transitioningWithDuration)return!1;var Le=Math.max(0,Math.min(Tt,vt*Se+Ct)),_e=Math.max(0,Math.min(xt,bt*ke+Nt)),fe=Math.abs(Le-Ct),Fe=Math.abs(_e-Nt);function Ye(){se="",Pt.r=Pt.l,Pt.t=Pt.b,ae.attr("d","M0,0Z")}if(Pt.l=Math.min(Ct,Le),Pt.r=Math.max(Ct,Le),Pt.t=Math.min(Nt,_e),Pt.b=Math.max(Nt,_e),Ot.isSubplotConstrained)fe>j||Fe>j?(se="xy",fe/Tt>Fe/xt?(Fe=fe*xt/Tt,Nt>_e?Pt.t=Nt-Fe:Pt.b=Nt+Fe):(fe=Fe*Tt/xt,Ct>Le?Pt.l=Ct-fe:Pt.r=Ct+fe),ae.attr("d",U(Pt))):Ye();else if(It.isSubplotConstrained)if(fe>j||Fe>j){se="xy";var Je=Math.min(Pt.l/Tt,(xt-Pt.b)/xt),Ze=Math.max(Pt.r/Tt,(xt-Pt.t)/xt);Pt.l=Je*Tt,Pt.r=Ze*Tt,Pt.b=(1-Je)*xt,Pt.t=(1-Ze)*xt,ae.attr("d",U(Pt))}else Ye();else!At||Fe<Math.min(Math.max(.6*fe,I),j)?fe<I||!wt?Ye():(Pt.t=0,Pt.b=xt,se="x",ae.attr("d",function(je,Be){return"M"+(je.l-.5)+","+(Be-j-.5)+"h-3v"+(2*j+1)+"h3ZM"+(je.r+.5)+","+(Be-j-.5)+"h3v"+(2*j+1)+"h-3Z"}(Pt,Nt))):!wt||fe<Math.min(.6*Fe,j)?(Pt.l=0,Pt.r=Tt,se="y",ae.attr("d",function(je,Be){return"M"+(Be-j-.5)+","+(je.t-.5)+"v-3h"+(2*j+1)+"v3ZM"+(Be-j-.5)+","+(je.b+.5)+"v3h"+(2*j+1)+"v-3Z"}(Pt,Ct))):(se="xy",ae.attr("d",U(Pt)));Pt.w=Pt.r-Pt.l,Pt.h=Pt.b-Pt.t,se&&(ce=!0),et._dragged=ce,X(Wt,ae,Pt,$t,ne,jt),Te(),et.emit("plotly_relayouting",qt),ne=!0}function Te(){qt={},se!=="xy"&&se!=="x"||(q(nt,Pt.l/Tt,Pt.r/Tt,qt,Ot.xaxes),Ce("x",qt)),se!=="xy"&&se!=="y"||(q(ut,(xt-Pt.b)/xt,(xt-Pt.t)/xt,qt,Ot.yaxes),Ce("y",qt))}function Me(){Te(),Z(et),De(),S(et)}be.prepFn=function(Se,ke,Le){var _e=be.dragmode,fe=et._fullLayout.dragmode;fe!==_e&&(be.dragmode=fe),at(),vt=et._fullLayout._invScaleX,bt=et._fullLayout._invScaleY,Xt||(re?Se.shiftKey?fe==="pan"?fe="zoom":b(fe)||(fe="pan"):Se.ctrlKey&&(fe="pan"):fe="pan"),v(fe)?be.minDrag=1:be.minDrag=void 0,b(fe)?(be.xaxes=nt,be.yaxes=ut,x(Se,ke,Le,be,fe)):(be.clickFn=me,b(_e)&&he(),Xt||(fe==="zoom"?(be.moveFn=le,be.doneFn=Me,be.minDrag=1,function(Fe,Ye,Je){var Ze=Lt.getBoundingClientRect();Ct=Ye-Ze.left,Nt=Je-Ze.top,et._fullLayout._calcInverseTransform(et);var je=s.apply3DTransform(et._fullLayout._invTransform)(Ct,Nt);Ct=je[0],Nt=je[1],Pt={l:Ct,r:Ct,w:0,t:Nt,b:Nt,h:0},jt=et._hmpixcount?et._hmlumcount/et._hmpixcount:e(et._fullLayout.plot_bgcolor).getLuminance(),ne=!1,se="xy",ce=!1,Wt=F(Gt,jt,ht,Dt,$t="M0,0H"+Tt+"V"+xt+"H0V0"),ae=L(Gt,ht,Dt)}(0,ke,Le)):fe==="pan"&&(be.moveFn=ye,be.doneFn=De))),et._fullLayout._redrag=function(){var Fe=et._dragdata;if(Fe&&Fe.element===Lt){var Ye=et._fullLayout.dragmode;b(Ye)||(at(),Oe([0,0,Tt,xt]),be.moveFn(Fe.dx,Fe.dy))}}},M.init(be);var ge=[0,0,Tt,xt],oe=null,de=R.REDRAWDELAY,Ae=tt.mainplot?et._fullLayout._plots[tt.mainplot]:tt;function ye(Se,ke){if(Se*=vt,ke*=bt,!et._transitioningWithDuration){if(et._fullLayout._replotting=!0,wt==="ew"||At==="ns"){var Le=wt?-Se:0,_e=At?-ke:0;if(It.isSubplotConstrained){if(wt&&At){var fe=(Se/Tt-ke/xt)/2;Le=-(Se=fe*Tt),_e=-(ke=-fe*xt)}At?Le=-_e*Tt/xt:_e=-Le*xt/Tt}return wt&&(H(nt,Se),Ce("x")),At&&(H(ut,ke),Ce("y")),Oe([Le,_e,Tt,xt]),ue(),void et.emit("plotly_relayouting",qt)}var Fe,Ye,Je=wt==="w"==(At==="n")?1:-1;if(wt&&At&&(Ot.isSubplotConstrained||It.isSubplotConstrained)){var Ze=(Se/Tt+Je*ke/xt)/2;Se=Ze*Tt,ke=Je*Ze*xt}if(wt==="w"?Se=Ue(nt,0,Se):wt==="e"?Se=Ue(nt,1,-Se):wt||(Se=0),At==="n"?ke=Ue(ut,1,ke):At==="s"?ke=Ue(ut,0,-ke):At||(ke=0),Fe=wt==="w"?Se:0,Ye=At==="n"?ke:0,Ot.isSubplotConstrained&&!It.isSubplotConstrained||It.isSubplotConstrained&&wt&&At&&Je>0){var je;if(It.isSubplotConstrained||!wt&&At.length===1){for(je=0;je<nt.length;je++)nt[je].range=nt[je]._r.slice(),g(nt[je],1-ke/xt);Fe=(Se=ke*Tt/xt)/2}if(It.isSubplotConstrained||!At&&wt.length===1){for(je=0;je<ut.length;je++)ut[je].range=ut[je]._r.slice(),g(ut[je],1-Se/Tt);Ye=(ke=Se*xt/Tt)/2}}It.isSubplotConstrained&&At||Ce("x"),It.isSubplotConstrained&&wt||Ce("y");var Be=Tt-Se,Ke=xt-ke;!It.isSubplotConstrained||wt&&At||(wt?(Ye=Fe?0:Se*xt/Tt,Ke=Be*xt/Tt):(Fe=Ye?0:ke*Tt/xt,Be=Ke*Tt/xt)),Oe([Fe,Ye,Be,Ke]),ue(),et.emit("plotly_relayouting",qt)}function Ue(we,qe,nn){for(var Ve,Ge,cn=1-qe,rn=0;rn<we.length;rn++){var dn=we[rn];if(!dn.fixedrange){Ve=dn,Ge=dn._rl[cn]+(dn._rl[qe]-dn._rl[cn])/C(nn/dn._length);var hn=dn.l2r(Ge);hn!==!1&&hn!==void 0&&(dn.range[qe]=hn)}}return Ve._length*(Ve._rl[qe]-Ge)/(Ve._rl[qe]-Ve._rl[cn])}}function Ce(Se,ke){for(var Le=It.isSubplotConstrained?{x:ut,y:nt}[Se]:It[Se+"axes"],_e=It.isSubplotConstrained?{x:nt,y:ut}[Se]:[],fe=0;fe<Le.length;fe++){var Fe=Le[fe],Ye=Fe._id,Je=It.xLinks[Ye]||It.yLinks[Ye],Ze=_e[0]||gt[Je]||ot[Je];Ze&&(ke?(ke[Fe._name+".range[0]"]=ke[Ze._name+".range[0]"],ke[Fe._name+".range[1]"]=ke[Ze._name+".range[1]"]):Fe.range=Ze.range.slice())}}function ue(){var Se,ke=[];function Le(Fe){for(Se=0;Se<Fe.length;Se++)Fe[Se].fixedrange||ke.push(Fe[Se]._id)}for(kt&&(Le(nt),Le(Ot.xaxes),Le(It.xaxes)),Bt&&(Le(ut),Le(Ot.yaxes),Le(It.yaxes)),qt={},Se=0;Se<ke.length;Se++){var _e=ke[Se],fe=k(et,_e);p.drawOne(et,fe,{skipTitle:!0}),qt[fe._name+".range[0]"]=fe.range[0],qt[fe._name+".range[1]"]=fe.range[1]}p.redrawComponents(et,ke)}function Re(){if(!et._transitioningWithDuration){var Se=et._context.doubleClick,ke=[];wt&&(ke=ke.concat(nt)),At&&(ke=ke.concat(ut)),It.xaxes&&(ke=ke.concat(It.xaxes)),It.yaxes&&(ke=ke.concat(It.yaxes));var Le,_e,fe,Fe={};if(Se==="reset+autosize"){for(Se="autosize",_e=0;_e<ke.length;_e++)if((Le=ke[_e])._rangeInitial&&(Le.range[0]!==Le._rangeInitial[0]||Le.range[1]!==Le._rangeInitial[1])||!Le._rangeInitial&&!Le.autorange){Se="reset";break}}if(Se==="autosize")for(_e=0;_e<ke.length;_e++)(Le=ke[_e]).fixedrange||(Fe[Le._name+".autorange"]=!0);else if(Se==="reset")for((wt||Ot.isSubplotConstrained)&&(ke=ke.concat(Ot.xaxes)),At&&!Ot.isSubplotConstrained&&(ke=ke.concat(Ot.yaxes)),Ot.isSubplotConstrained&&(wt?At||(ke=ke.concat(ut)):ke=ke.concat(nt)),_e=0;_e<ke.length;_e++)(Le=ke[_e]).fixedrange||(Le._rangeInitial?(fe=Le._rangeInitial,Fe[Le._name+".range[0]"]=fe[0],Fe[Le._name+".range[1]"]=fe[1]):Fe[Le._name+".autorange"]=!0);et.emit("plotly_doubleclick",null),l.call("_guiRelayout",et,Fe)}}function De(){Oe([0,0,Tt,xt]),s.syncOrAsync([T.previousPromises,function(){et._fullLayout._replotting=!1,l.call("_guiRelayout",et,qt)}],et)}function Oe(Se){var ke,Le,_e,fe,Fe=et._fullLayout,Ye=Fe._plots,Je=Fe._subplots.cartesian;if(Ht&&l.subplotsRegistry.splom.drag(et),Zt){for(ke=0;ke<Je.length;ke++)if(_e=(Le=Ye[Je[ke]]).xaxis,fe=Le.yaxis,Le._scene){var Ze=s.simpleMap(_e.range,_e.r2l),je=s.simpleMap(fe.range,fe.r2l);Le._scene.update({range:[Ze[0],je[0],Ze[1],je[1]]})}}if((Ht||Zt)&&(A(et),y(et)),ee){var Be=Se[2]/Yt._length,Ke=Se[3]/Et._length;for(ke=0;ke<Je.length;ke++){_e=(Le=Ye[Je[ke]]).xaxis,fe=Le.yaxis;var Ue,we,qe,nn,Ve=(kt||It.isSubplotConstrained)&&!_e.fixedrange&&gt[_e._id],Ge=(Bt||It.isSubplotConstrained)&&!fe.fixedrange&&ot[fe._id];if(Ve?(Ue=Be,qe=_t||It.isSubplotConstrained?Se[0]:tn(_e,Ue)):It.xaHash[_e._id]?(Ue=Be,qe=Se[0]*_e._length/Yt._length):It.yaHash[_e._id]?(Ue=Ke,qe=At==="ns"?-Se[1]*_e._length/Et._length:tn(_e,Ue,{n:"top",s:"bottom"}[At])):qe=en(_e,Ue=Ne(_e,Be,Ke)),Ge?(we=Ke,nn=St||It.isSubplotConstrained?Se[1]:tn(fe,we)):It.yaHash[fe._id]?(we=Ke,nn=Se[1]*fe._length/Et._length):It.xaHash[fe._id]?(we=Be,nn=wt==="ew"?-Se[0]*fe._length/Yt._length:tn(fe,we,{e:"right",w:"left"}[wt])):nn=en(fe,we=Ne(fe,Be,Ke)),Ue||we){Ue||(Ue=1),we||(we=1);var cn=_e._offset-qe/Ue,rn=fe._offset-nn/we;Le.clipRect.call(u.setTranslate,qe,nn).call(u.setScale,Ue,we),Le.plot.call(u.setTranslate,cn,rn).call(u.setScale,1/Ue,1/we),Ue===Le.xScaleFactor&&we===Le.yScaleFactor||(u.setPointGroupScale(Le.zoomScalePts,Ue,we),u.setTextPointsScale(Le.zoomScaleTxt,Ue,we)),u.hideOutsideRangePoints(Le.clipOnAxisFalseTraces,Le),Le.xScaleFactor=Ue,Le.yScaleFactor=we}}}}function Ne(Se,ke,Le){return Se.fixedrange?0:kt&&Ot.xaHash[Se._id]?ke:Bt&&(Ot.isSubplotConstrained?Ot.xaHash:Ot.yaHash)[Se._id]?Le:0}function en(Se,ke){return ke?(Se.range=Se._r.slice(),g(Se,ke),tn(Se,ke)):0}function tn(Se,ke,Le){return Se._length*(1-ke)*h[Le||Se.constraintoward||"middle"]}return St.length*_t.length!=1&&G(Lt,function(Se){if(et._context._scrollZoom.cartesian||et._fullLayout._enablescrollzoom){if(he(),et._transitioningWithDuration)return Se.preventDefault(),void Se.stopPropagation();at(),clearTimeout(oe);var ke=-Se.deltaY;if(isFinite(ke)||(ke=Se.wheelDelta/10),isFinite(ke)){var Le,_e=Math.exp(-Math.min(Math.max(ke,-20),20)/200),fe=Ae.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Fe=(Se.clientX-fe.left)/fe.width,Ye=(fe.bottom-Se.clientY)/fe.height;if(kt){for(_t||(Fe=.5),Le=0;Le<nt.length;Le++)Je(nt[Le],Fe,_e);Ce("x"),ge[2]*=_e,ge[0]+=ge[2]*Fe*(1/_e-1)}if(Bt){for(St||(Ye=.5),Le=0;Le<ut.length;Le++)Je(ut[Le],Ye,_e);Ce("y"),ge[3]*=_e,ge[1]+=ge[3]*(1-Ye)*(1/_e-1)}Oe(ge),ue(),et.emit("plotly_relayouting",qt),oe=setTimeout(function(){et._fullLayout&&(ge=[0,0,Tt,xt],De())},de),Se.preventDefault()}else s.log("Did not find wheel motion attributes: ",Se)}function Je(Ze,je,Be){if(!Ze.fixedrange){var Ke=s.simpleMap(Ze.range,Ze.r2l),Ue=Ke[0]+(Ke[1]-Ke[0])*je;Ze.range=Ke.map(function(we){return Ze.l2r(Ue+(we-Ue)*Be)})}}}),Lt},makeDragger:B,makeRectDragger:$,makeZoombox:F,makeCorners:L,updateZoombox:X,xyCorners:U,transitionZoombox:E,removeZoombox:Z,showDoubleClickNotifier:S,attachWheelEventHandler:G}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":316,"../plots":314,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":298,"./select":299,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../components/fx"),o=c("../../components/dragelement"),e=c("../../lib/setcursor"),n=c("./dragbox").makeDragBox,l=c("./constants").DRAGGERSIZE;N.initInteractions=function(i){var a=i._fullLayout;if(i._context.staticPlot)t.select(i).selectAll(".drag").remove();else if(a._has("cartesian")||a._has("splom")){Object.keys(a._plots||{}).sort(function(u,d){if((a._plots[u].mainplot&&!0)===(a._plots[d].mainplot&&!0)){var p=u.split("y"),m=d.split("y");return p[0]===m[0]?Number(p[1]||1)-Number(m[1]||1):Number(p[0]||1)-Number(m[0]||1)}return a._plots[u].mainplot?1:-1}).forEach(function(u){var d=a._plots[u],p=d.xaxis,m=d.yaxis;if(!d.mainplot){var M=n(i,d,p._offset,m._offset,p._length,m._length,"ns","ew");M.onmousemove=function(v){i._fullLayout._rehover=function(){i._fullLayout._hoversubplot===u&&i._fullLayout._plots[u]&&s.hover(i,v,u)},s.hover(i,v,u),i._fullLayout._lasthover=M,i._fullLayout._hoversubplot=u},M.onmouseout=function(v){i._dragging||(i._fullLayout._hoversubplot=null,o.unhover(i,v))},i._context.showAxisDragHandles&&(n(i,d,p._offset-l,m._offset-l,l,l,"n","w"),n(i,d,p._offset+p._length,m._offset-l,l,l,"n","e"),n(i,d,p._offset-l,m._offset+m._length,l,l,"s","w"),n(i,d,p._offset+p._length,m._offset+m._length,l,l,"s","e"))}if(i._context.showAxisDragHandles){if(u===p._mainSubplot){var w=p._mainLinePosition;p.side==="top"&&(w-=l),n(i,d,p._offset+.1*p._length,w,.8*p._length,l,"","ew"),n(i,d,p._offset,w,.1*p._length,l,"","w"),n(i,d,p._offset+.9*p._length,w,.1*p._length,l,"","e")}if(u===m._mainSubplot){var b=m._mainLinePosition;m.side!=="right"&&(b-=l),n(i,d,b,m._offset+.1*m._length,l,.8*m._length,"ns",""),n(i,d,b,m._offset+.9*m._length,l,.1*m._length,"s",""),n(i,d,b,m._offset,l,.1*m._length,"n","")}}});var r=a._hoverlayer.node();r.onmousemove=function(u){u.target=i._fullLayout._lasthover,s.hover(i,u,a._hoversubplot)},r.onclick=function(u){u.target=i._fullLayout._lasthover,s.click(i,u)},r.onmousedown=function(u){i._fullLayout._lasthover.onmousedown(u)},N.updateFx(i)}},N.updateFx=function(i){var a=i._fullLayout,r=a.dragmode==="pan"?"move":"crosshair";e(a._draggers,r)}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(c,J,N){J.exports={clearOutlineControllers:function(t){var s=t._fullLayout._zoomlayer;s&&s.selectAll(".outline-controllers").remove()},clearSelect:function(t){var s=t._fullLayout._zoomlayer;s&&s.selectAll(".select-outline").remove(),t._fullLayout._drawing=!1}}},{}],291:[function(c,J,N){var t=c("../../lib").strTranslate;function s(o,e){switch(o.type){case"log":return o.p2d(e);case"date":return o.p2r(e,0,o.calendar);default:return o.p2r(e)}}J.exports={p2r:s,r2p:function(o,e){switch(o.type){case"log":return o.d2p(e);case"date":return o.r2p(e,0,o.calendar);default:return o.r2p(e)}},axValue:function(o){var e=o._id.charAt(0)==="y"?1:0;return function(n){return s(o,n[e])}},getTransform:function(o){return t(o.xaxis._offset,o.yaxis._offset)}}},{"../../lib":232}],292:[function(c,J,N){var t=c("../../registry"),s=c("../../lib"),o=c("./axis_ids");J.exports=function(e){return function(n,l){var i=n[e];if(Array.isArray(i))for(var a=t.subplotsRegistry.cartesian,r=a.idRegex,u=l._subplots,d=u.xaxis,p=u.yaxis,m=u.cartesian,M=l._has("cartesian")||l._has("gl2d"),w=0;w<i.length;w++){var b=i[w];if(s.isPlainObject(b)){var v=o.cleanId(b.xref,"x",!1),h=o.cleanId(b.yref,"y",!1),A=r.x.test(v),y=r.y.test(h);if(A||y){M||s.pushUnique(l._basePlotModules,a);var T=!1;A&&d.indexOf(v)===-1&&(d.push(v),T=!0),y&&p.indexOf(h)===-1&&(p.push(h),T=!0),T&&A&&y&&m.push(v+h)}}}}}},{"../../lib":232,"../../registry":316,"./axis_ids":283}],293:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../registry"),o=c("../../lib"),e=c("../plots"),n=c("../../components/drawing"),l=c("../get_data").getModuleCalcData,i=c("./axis_ids"),a=c("./constants"),r=c("../../constants/xmlns_namespaces"),u=o.ensureSingle;function d(b,v,h){return o.ensureSingle(b,v,h,function(A){A.datum(h)})}function p(b,v,h,A,y){for(var T,k,x,D=a.traceLayerClasses,z=b._fullLayout,g=z._modules,R=[],I=[],j=0;j<g.length;j++){var Y=(T=g[j]).name,B=s.modules[Y].categories;if(B.svg){var $=T.layerName||Y+"layer",rt=T.plot;x=(k=l(h,rt))[0],h=k[1],x.length&&R.push({i:D.indexOf($),className:$,plotMethod:rt,cdModule:x}),B.zoomScale&&I.push("."+$)}}R.sort(function(C,F){return C.i-F.i});var q=v.plot.selectAll("g.mlayer").data(R,function(C){return C.className});if(q.enter().append("g").attr("class",function(C){return C.className}).classed("mlayer",!0).classed("rangeplot",v.isRangePlot),q.exit().remove(),q.order(),q.each(function(C){var F=t.select(this),L=C.className;C.plotMethod(b,v,C.cdModule,F,A,y),a.clipOnAxisFalseQuery.indexOf("."+L)===-1&&n.setClipUrl(F,v.layerClipId,b)}),z._has("scattergl")&&(T=s.getModule("scattergl"),x=l(h,T)[0],T.plot(b,v,x)),!b._context.staticPlot&&(v._hasClipOnAxisFalse&&(v.clipOnAxisFalseTraces=v.plot.selectAll(a.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),I.length)){var H=v.plot.selectAll(I.join(",")).selectAll(".trace");v.zoomScalePts=H.selectAll("path.point"),v.zoomScaleTxt=H.selectAll(".textpoint")}}function m(b,v){var h=v.plotgroup,A=v.id,y=a.layerValue2layerClass[v.xaxis.layer],T=a.layerValue2layerClass[v.yaxis.layer],k=b._fullLayout._hasOnlyLargeSploms;if(v.mainplot){var x=v.mainplotinfo,D=x.plotgroup,z=A+"-x",g=A+"-y";v.gridlayer=x.gridlayer,v.zerolinelayer=x.zerolinelayer,u(x.overlinesBelow,"path",z),u(x.overlinesBelow,"path",g),u(x.overaxesBelow,"g",z),u(x.overaxesBelow,"g",g),v.plot=u(x.overplot,"g",A),u(x.overlinesAbove,"path",z),u(x.overlinesAbove,"path",g),u(x.overaxesAbove,"g",z),u(x.overaxesAbove,"g",g),v.xlines=D.select(".overlines-"+y).select("."+z),v.ylines=D.select(".overlines-"+T).select("."+g),v.xaxislayer=D.select(".overaxes-"+y).select("."+z),v.yaxislayer=D.select(".overaxes-"+T).select("."+g)}else if(k)v.xlines=u(h,"path","xlines-above"),v.ylines=u(h,"path","ylines-above"),v.xaxislayer=u(h,"g","xaxislayer-above"),v.yaxislayer=u(h,"g","yaxislayer-above");else{var R=u(h,"g","layer-subplot");v.shapelayer=u(R,"g","shapelayer"),v.imagelayer=u(R,"g","imagelayer"),v.gridlayer=u(h,"g","gridlayer"),v.zerolinelayer=u(h,"g","zerolinelayer"),u(h,"path","xlines-below"),u(h,"path","ylines-below"),v.overlinesBelow=u(h,"g","overlines-below"),u(h,"g","xaxislayer-below"),u(h,"g","yaxislayer-below"),v.overaxesBelow=u(h,"g","overaxes-below"),v.plot=u(h,"g","plot"),v.overplot=u(h,"g","overplot"),v.xlines=u(h,"path","xlines-above"),v.ylines=u(h,"path","ylines-above"),v.overlinesAbove=u(h,"g","overlines-above"),u(h,"g","xaxislayer-above"),u(h,"g","yaxislayer-above"),v.overaxesAbove=u(h,"g","overaxes-above"),v.xlines=h.select(".xlines-"+y),v.ylines=h.select(".ylines-"+T),v.xaxislayer=h.select(".xaxislayer-"+y),v.yaxislayer=h.select(".yaxislayer-"+T)}k||(d(v.gridlayer,"g",v.xaxis._id),d(v.gridlayer,"g",v.yaxis._id),v.gridlayer.selectAll("g").map(function(I){return I[0]}).sort(i.idSort)),v.xlines.style("fill","none").classed("crisp",!0),v.ylines.style("fill","none").classed("crisp",!0)}function M(b,v){if(b){var h={};for(var A in b.each(function(x){var D=x[0];t.select(this).remove(),w(D,v),h[D]=!0}),v._plots)for(var y=v._plots[A].overlays||[],T=0;T<y.length;T++){var k=y[T];h[k.id]&&k.plot.selectAll(".trace").remove()}}}function w(b,v){v._draggers.selectAll("g."+b).remove(),v._defs.select("#clip"+v._uid+b+"plot").remove()}N.name="cartesian",N.attr=["xaxis","yaxis"],N.idRoot=["x","y"],N.idRegex=a.idRegex,N.attrRegex=a.attrRegex,N.attributes=c("./attributes"),N.layoutAttributes=c("./layout_attributes"),N.supplyLayoutDefaults=c("./layout_defaults"),N.transitionAxes=c("./transition_axes"),N.finalizeSubplots=function(b,v){var h,A,y,T=v._subplots,k=T.xaxis,x=T.yaxis,D=T.cartesian,z=D.concat(T.gl2d||[]),g={},R={};for(h=0;h<z.length;h++){var I=z[h].split("y");g[I[0]]=1,R["y"+I[1]]=1}for(h=0;h<k.length;h++)g[A=k[h]]||(y=(b[i.id2name(A)]||{}).anchor,a.idRegex.y.test(y)||(y="y"),D.push(A+y),z.push(A+y),R[y]||(R[y]=1,o.pushUnique(x,y)));for(h=0;h<x.length;h++)R[y=x[h]]||(A=(b[i.id2name(y)]||{}).anchor,a.idRegex.x.test(A)||(A="x"),D.push(A+y),z.push(A+y),g[A]||(g[A]=1,o.pushUnique(k,A)));if(!z.length){for(var j in A="",y="",b)a.attrRegex.test(j)&&(j.charAt(0)==="x"?(!A||+j.substr(5)<+A.substr(5))&&(A=j):(!y||+j.substr(5)<+y.substr(5))&&(y=j));A=A?i.name2id(A):"x",y=y?i.name2id(y):"y",k.push(A),x.push(y),D.push(A+y)}},N.plot=function(b,v,h,A){var y,T=b._fullLayout,k=T._subplots.cartesian,x=b.calcdata;if(!Array.isArray(v))for(v=[],y=0;y<x.length;y++)v.push(y);for(y=0;y<k.length;y++){for(var D,z=k[y],g=T._plots[z],R=[],I=0;I<x.length;I++){var j=x[I],Y=j[0].trace;Y.xaxis+Y.yaxis===z&&((v.indexOf(Y.index)!==-1||Y.carpet)&&(D&&D[0].trace.xaxis+D[0].trace.yaxis===z&&["tonextx","tonexty","tonext"].indexOf(Y.fill)!==-1&&R.indexOf(D)===-1&&R.push(D),R.push(j)),D=j)}p(b,g,R,h,A)}},N.clean=function(b,v,h,A){var y,T,k,x=A._plots||{},D=v._plots||{},z=A._subplots||{};if(A._hasOnlyLargeSploms&&!v._hasOnlyLargeSploms)for(k in x)(y=x[k]).plotgroup&&y.plotgroup.remove();var g=A._has&&A._has("gl"),R=v._has&&v._has("gl");if(g&&!R)for(k in x)(y=x[k])._scene&&y._scene.destroy();if(z.xaxis&&z.yaxis){var I=i.listIds({_fullLayout:A});for(T=0;T<I.length;T++){var j=I[T];v[i.id2name(j)]||A._infolayer.selectAll(".g-"+j+"title").remove()}}var Y=A._has&&A._has("cartesian"),B=v._has&&v._has("cartesian");if(Y&&!B)M(A._cartesianlayer.selectAll(".subplot"),A),A._defs.selectAll(".axesclip").remove(),delete A._axisConstraintGroups,delete A._axisMatchGroups;else if(z.cartesian)for(T=0;T<z.cartesian.length;T++){var $=z.cartesian[T];if(!D[$]){var rt="."+$+",."+$+"-x,."+$+"-y";A._cartesianlayer.selectAll(rt).remove(),w($,A)}}},N.drawFramework=function(b){var v=b._fullLayout,h=function(y){var T,k,x,D,z,g,R=y._fullLayout,I=R._subplots.cartesian,j=I.length,Y=[],B=[];for(T=0;T<j;T++){x=I[T],D=R._plots[x],z=D.xaxis,g=D.yaxis;var $=z._mainAxis,rt=g._mainAxis,q=$._id+rt._id,H=R._plots[q];D.overlays=[],q!==x&&H?(D.mainplot=q,D.mainplotinfo=H,B.push(x)):(D.mainplot=void 0,D.mainplotinfo=void 0,Y.push(x))}for(T=0;T<B.length;T++)x=B[T],(D=R._plots[x]).mainplotinfo.overlays.push(D);var C=Y.concat(B),F=new Array(j);for(T=0;T<j;T++){x=C[T],D=R._plots[x],z=D.xaxis,g=D.yaxis;var L=[x,z.layer,g.layer,z.overlaying||"",g.overlaying||""];for(k=0;k<D.overlays.length;k++)L.push(D.overlays[k].id);F[T]=L}return F}(b),A=v._cartesianlayer.selectAll(".subplot").data(h,String);A.enter().append("g").attr("class",function(y){return"subplot "+y[0]}),A.order(),A.exit().call(M,v),A.each(function(y){var T=y[0],k=v._plots[T];k.plotgroup=t.select(this),m(b,k),k.draglayer=u(v._draggers,"g",T)})},N.rangePlot=function(b,v,h){m(b,v),p(b,v,h),e.style(b)},N.toSVG=function(b){var v=b._fullLayout._glimages,h=t.select(b).selectAll(".svg-container");h.filter(function(A,y){return y===h.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var A=this.toDataURL("image/png");v.append("svg:image").attr({xmlns:r.svg,"xlink:href":A,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},N.updateFx=c("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":316,"../get_data":310,"../plots":314,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":304,"@plotly/d3":11}],294:[function(c,J,N){var t=c("../font_attributes"),s=c("../../components/color/attributes"),o=c("../../components/drawing/attributes").dash,e=c("../../lib/extend").extendFlat,n=c("../../plot_api/plot_template").templatedArray,l=c("../../plots/cartesian/axis_format_attributes").descriptionWithDates,i=c("../../constants/numerical").ONEDAY,a=c("./constants"),r=a.HOUR_PATTERN,u=a.WEEKDAY_PATTERN;J.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:s.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:t({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"calc"},rangebreaks:n("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[u,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:i},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:s.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:e({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:t({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:l("tick label")},tickformatstops:n("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:l("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:s.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:s.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:s.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:s.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:t({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":308,"./constants":286}],295:[function(c,J,N){var t=c("../../lib"),s=c("../../components/color"),o=c("../../components/fx/helpers").isUnifiedHover,e=c("../../components/fx/hovermode_defaults"),n=c("../../plot_api/plot_template"),l=c("../layout_attributes"),i=c("./layout_attributes"),a=c("./type_defaults"),r=c("./axis_defaults"),u=c("./constraints"),d=c("./position_defaults"),p=c("./axis_ids"),m=p.id2name,M=p.name2id,w=c("./constants").AX_ID_PATTERN,b=c("../../registry"),v=b.traceIs,h=b.getComponentMethod;function A(y,T,k){Array.isArray(y[T])?y[T].push(k):y[T]=[k]}J.exports=function(y,T,k){var x,D,z=T.autotypenumbers,g={},R={},I={},j={},Y={},B={},$={},rt={},q={},H={};for(x=0;x<k.length;x++){var C=k[x];if(v(C,"cartesian")||v(C,"gl2d")){var F,L;if(C.xaxis)F=m(C.xaxis),A(g,F,C);else if(C.xaxes)for(D=0;D<C.xaxes.length;D++)A(g,m(C.xaxes[D]),C);if(C.yaxis)L=m(C.yaxis),A(g,L,C);else if(C.yaxes)for(D=0;D<C.yaxes.length;D++)A(g,m(C.yaxes[D]),C);C.type==="funnel"?C.orientation==="h"?(F&&(R[F]=!0),L&&($[L]=!0)):L&&(I[L]=!0):C.type==="image"?(L&&(rt[L]=!0),F&&(rt[F]=!0)):(L&&(Y[L]=!0,B[L]=!0),v(C,"carpet")&&(C.type!=="carpet"||C._cheater)||F&&(j[F]=!0)),C.type==="carpet"&&C._cheater&&F&&(R[F]=!0),v(C,"2dMap")&&(q[F]=!0,q[L]=!0),v(C,"oriented")&&(H[C.orientation==="h"?L:F]=!0)}}var X=T._subplots,E=X.xaxis,Z=X.yaxis,S=t.simpleMap(E,m),U=t.simpleMap(Z,m),P=S.concat(U),G=s.background;E.length&&Z.length&&(G=t.coerce(y,T,l,"plot_bgcolor"));var Q,et,tt,lt,ct,mt=s.combine(G,T.paper_bgcolor);function Mt(){var bt=g[Q]||[];ct._traceIndices=bt.map(function(Gt){return Gt._expandedIndex}),ct._annIndices=[],ct._shapeIndices=[],ct._imgIndices=[],ct._subplotsWith=[],ct._counterAxes=[],ct._name=ct._attr=Q,ct._id=et}function St(bt,Gt){return t.coerce(lt,ct,i,bt,Gt)}function _t(bt,Gt){return t.coerce2(lt,ct,i,bt,Gt)}function Yt(bt){return bt==="x"?Z:E}function Et(bt,Gt){for(var re=bt==="x"?S:U,xe=[],at=0;at<re.length;at++){var st=re[at];st===Gt||(y[st]||{}).overlaying||xe.push(M(st))}return xe}var gt={x:Yt("x"),y:Yt("y")},ot=gt.x.concat(gt.y),nt={},ut=[];function ht(){var bt=lt.matches;w.test(bt)&&ot.indexOf(bt)===-1&&(nt[bt]=lt.type,ut=Object.keys(nt))}var Dt=e(y,T),Tt=o(Dt);for(x=0;x<P.length;x++){Q=P[x],et=M(Q),tt=Q.charAt(0),t.isPlainObject(y[Q])||(y[Q]={}),lt=y[Q],ct=n.newContainer(T,Q,tt+"axis"),Mt();var xt=tt==="x"&&!j[Q]&&R[Q]||tt==="y"&&!Y[Q]&&I[Q],Ot=tt==="y"&&(!B[Q]&&$[Q]||rt[Q]),It={letter:tt,font:T.font,outerTicks:q[Q],showGrid:!H[Q],data:g[Q]||[],bgColor:mt,calendar:T.calendar,automargin:!0,visibleDflt:xt,reverseDflt:Ot,autotypenumbersDflt:z,splomStash:((T._splomAxes||{})[tt]||{})[et]};St("uirevision",T.uirevision),a(lt,ct,St,It),r(lt,ct,St,It,T);var wt=Tt&&tt===Dt.charAt(0),At=_t("spikecolor",Tt?ct.color:void 0),Xt=_t("spikethickness",Tt?1.5:void 0),kt=_t("spikedash",Tt?"dot":void 0),Bt=_t("spikemode",Tt?"across":void 0),Zt=_t("spikesnap");St("showspikes",!!(wt||At||Xt||kt||Bt||Zt))||(delete ct.spikecolor,delete ct.spikethickness,delete ct.spikedash,delete ct.spikemode,delete ct.spikesnap),d(lt,ct,St,{letter:tt,counterAxes:gt[tt],overlayableAxes:Et(tt,Q),grid:T.grid}),St("title.standoff"),ht(),ct._input=lt}for(x=0;x<ut.length;){et=ut[x++],tt=(Q=m(et)).charAt(0),t.isPlainObject(y[Q])||(y[Q]={}),lt=y[Q],ct=n.newContainer(T,Q,tt+"axis"),Mt();var Ht={letter:tt,font:T.font,outerTicks:q[Q],showGrid:!H[Q],data:[],bgColor:mt,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:z,splomStash:((T._splomAxes||{})[tt]||{})[et]};St("uirevision",T.uirevision),ct.type=nt[et]||"linear",r(lt,ct,St,Ht,T),d(lt,ct,St,{letter:tt,counterAxes:gt[tt],overlayableAxes:Et(tt,Q),grid:T.grid}),St("fixedrange"),ht(),ct._input=lt}var ee=h("rangeslider","handleDefaults"),qt=h("rangeselector","handleDefaults");for(x=0;x<S.length;x++)Q=S[x],lt=y[Q],ct=T[Q],ee(y,T,Q),ct.type==="date"&&qt(lt,ct,T,U,ct.calendar),St("fixedrange");for(x=0;x<U.length;x++){Q=U[x],lt=y[Q],ct=T[Q];var vt=T[m(ct.anchor)];St("fixedrange",h("rangeslider","isVisible")(vt))}u.handleDefaults(y,T,{axIds:ot.concat(ut).sort(p.idSort),axHasImage:rt})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":316,"../layout_attributes":312,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":305}],296:[function(c,J,N){var t=c("tinycolor2").mix,s=c("../../components/color/attributes").lightFraction,o=c("../../lib");J.exports=function(e,n,l,i){var a=(i=i||{}).dfltColor;function r(b,v){return o.coerce2(e,n,i.attributes,b,v)}var u=r("linecolor",a),d=r("linewidth");l("showline",i.showLine||!!u||!!d)||(delete n.linecolor,delete n.linewidth);var p=r("gridcolor",t(a,i.bgColor,i.blend||s).toRgbString()),m=r("gridwidth");if(l("showgrid",i.showGrid||!!p||!!m)||(delete n.gridcolor,delete n.gridwidth),!i.noZeroLine){var M=r("zerolinecolor",a),w=r("zerolinewidth");l("zeroline",i.showGrid||!!M||!!w)||(delete n.zerolinecolor,delete n.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib");J.exports=function(o,e,n,l){var i,a,r,u,d=l.counterAxes||[],p=l.overlayableAxes||[],m=l.letter,M=l.grid;M&&(a=M._domains[m][M._axisMap[e._id]],i=M._anchors[e._id],a&&(r=M[m+"side"].split(" ")[0],u=M.domain[m][r==="right"||r==="top"?1:0])),a=a||[0,1],i=i||(t(o.position)?"free":d[0]||"free"),r=r||(m==="x"?"bottom":"left"),u=u||0,s.coerce(o,e,{anchor:{valType:"enumerated",values:["free"].concat(d),dflt:i}},"anchor")==="free"&&n("position",u),s.coerce(o,e,{side:{valType:"enumerated",values:m==="x"?["bottom","top"]:["left","right"],dflt:r}},"side");var w=!1;if(p.length&&(w=s.coerce(o,e,{overlaying:{valType:"enumerated",values:[!1].concat(p),dflt:!1}},"overlaying")),!w){var b=n("domain",a);b[0]>b[1]-1/4096&&(e.domain=a),s.noneOrAll(o.domain,e.domain,a)}return n("layer"),e}},{"../../lib":232,"fast-isnumeric":17}],298:[function(c,J,N){var t=c("../../constants/alignment").FROM_BL;J.exports=function(s,o,e){e===void 0&&(e=t[s.constraintoward||"center"]);var n=[s.r2l(s.range[0]),s.r2l(s.range[1])],l=n[0]+(n[1]-n[0])*e;s.range=s._input.range=[s.l2r(l+(n[0]-l)*o),s.l2r(l+(n[1]-l)*o)],s.setScale()}},{"../../constants/alignment":207}],299:[function(c,J,N){var t=c("polybooljs"),s=c("../../registry"),o=c("../../components/drawing").dashStyle,e=c("../../components/color"),n=c("../../components/fx"),l=c("../../components/fx/helpers").makeEventData,i=c("../../components/dragelement/helpers"),a=i.freeMode,r=i.rectMode,u=i.drawMode,d=i.openMode,p=i.selectMode,m=c("../../components/shapes/draw_newshape/display_outlines"),M=c("../../components/shapes/draw_newshape/helpers").handleEllipse,w=c("../../components/shapes/draw_newshape/newshapes"),b=c("../../lib"),v=c("../../lib/polygon"),h=c("../../lib/throttle"),A=c("./axis_ids").getFromId,y=c("../../lib/clear_gl_canvases"),T=c("../../plot_api/subroutines").redrawReglTraces,k=c("./constants"),x=k.MINSELECT,D=v.filter,z=v.tester,g=c("./handle_outline").clearSelect,R=c("./helpers"),I=R.p2r,j=R.axValue,Y=R.getTransform;function B(S,U,P,G,Q,et,tt){var lt,ct,mt,Mt,St,_t,Yt,Et,gt,ot=U._hoverdata,nt=U._fullLayout.clickmode.indexOf("event")>-1,ut=[];if(function(Ot){return Ot&&Array.isArray(Ot)&&Ot[0].hoverOnBox!==!0}(ot)){H(S,U,et);var ht=function(Ot,It){var wt,At,Xt=Ot[0],kt=-1,Bt=[];for(At=0;At<It.length;At++)if(wt=It[At],Xt.fullData._expandedIndex===wt.cd[0].trace._expandedIndex){if(Xt.hoverOnBox===!0)break;Xt.pointNumber!==void 0?kt=Xt.pointNumber:Xt.binNumber!==void 0&&(kt=Xt.binNumber,Bt=Xt.pointNumbers);break}return{pointNumber:kt,pointNumbers:Bt,searchInfo:wt}}(ot,lt=F(U,P,G,Q));if(ht.pointNumbers.length>0?function(Ot,It){var wt,At,Xt,kt=[];for(Xt=0;Xt<Ot.length;Xt++)(wt=Ot[Xt]).cd[0].trace.selectedpoints&&wt.cd[0].trace.selectedpoints.length>0&&kt.push(wt);if(kt.length===1&&kt[0]===It.searchInfo&&(At=It.searchInfo.cd[0].trace).selectedpoints.length===It.pointNumbers.length){for(Xt=0;Xt<It.pointNumbers.length;Xt++)if(At.selectedpoints.indexOf(It.pointNumbers[Xt])<0)return!1;return!0}return!1}(lt,ht):function(Ot){var It,wt,At,Xt=0;for(At=0;At<Ot.length;At++)if(It=Ot[At],(wt=It.cd[0].trace).selectedpoints&&(wt.selectedpoints.length>1||(Xt+=wt.selectedpoints.length)>1))return!1;return Xt===1}(lt)&&(_t=L(ht))){for(tt&&tt.remove(),gt=0;gt<lt.length;gt++)(ct=lt[gt])._module.selectPoints(ct,!1);X(U,lt),C(et),nt&&U.emit("plotly_deselect",null)}else{for(Yt=S.shiftKey&&(_t!==void 0?_t:L(ht)),mt=function(Ot,It,wt){return{pointNumber:Ot,searchInfo:It,subtract:wt}}(ht.pointNumber,ht.searchInfo,Yt),Mt=q(et.selectionDefs.concat([mt])),gt=0;gt<lt.length;gt++)if(St=E(lt[gt]._module.selectPoints(lt[gt],Mt),lt[gt]),ut.length)for(var Dt=0;Dt<St.length;Dt++)ut.push(St[Dt]);else ut=St;if(X(U,lt,Et={points:ut}),mt&&et&&et.selectionDefs.push(mt),tt){var Tt=et.mergedPolygons,xt=d(et.dragmode);m(Z(Tt,xt),tt,et)}nt&&U.emit("plotly_selected",Et)}}}function $(S){return"pointNumber"in S&&"searchInfo"in S}function rt(S){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(U,P,G,Q){var et=S.searchInfo.cd[0].trace._expandedIndex;return Q.cd[0].trace._expandedIndex===et&&G===S.pointNumber},isRect:!1,degenerate:!1,subtract:S.subtract}}function q(S){for(var U=[],P=$(S[0])?0:S[0][0][0],G=P,Q=$(S[0])?0:S[0][0][1],et=Q,tt=0;tt<S.length;tt++)if($(S[tt]))U.push(rt(S[tt]));else{var lt=v.tester(S[tt]);lt.subtract=S[tt].subtract,U.push(lt),P=Math.min(P,lt.xmin),G=Math.max(G,lt.xmax),Q=Math.min(Q,lt.ymin),et=Math.max(et,lt.ymax)}return{xmin:P,xmax:G,ymin:Q,ymax:et,pts:[],contains:function(ct,mt,Mt,St){for(var _t=!1,Yt=0;Yt<U.length;Yt++)U[Yt].contains(ct,mt,Mt,St)&&(_t=U[Yt].subtract===!1);return _t},isRect:!1,degenerate:!1}}function H(S,U,P){U._fullLayout._drawing=!1;var G=U._fullLayout,Q=P.plotinfo,et=P.dragmode,tt=G._lastSelectedSubplot&&G._lastSelectedSubplot===Q.id,lt=(S.shiftKey||S.altKey)&&!(u(et)&&d(et));tt&&lt&&Q.selection&&Q.selection.selectionDefs&&!P.selectionDefs?(P.selectionDefs=Q.selection.selectionDefs,P.mergedPolygons=Q.selection.mergedPolygons):lt&&Q.selection||C(P),tt||(g(U),G._lastSelectedSubplot=Q.id)}function C(S){var U=S.dragmode,P=S.plotinfo,G=S.gd;if(G._fullLayout._activeShapeIndex>=0&&G._fullLayout._deactivateShape(G),u(U)){var Q=G._fullLayout._zoomlayer.selectAll(".select-outline-"+P.id);if(Q&&G._fullLayout._drawing){var et=w(Q,S);et&&s.call("_guiRelayout",G,{shapes:et}),G._fullLayout._drawing=!1}}P.selection={},P.selection.selectionDefs=S.selectionDefs=[],P.selection.mergedPolygons=S.mergedPolygons=[]}function F(S,U,P,G){var Q,et,tt,lt=[],ct=U.map(function(Yt){return Yt._id}),mt=P.map(function(Yt){return Yt._id});for(tt=0;tt<S.calcdata.length;tt++)if((et=(Q=S.calcdata[tt])[0].trace).visible===!0&&et._module&&et._module.selectPoints)if(!G||et.subplot!==G&&et.geo!==G)if(et.type==="splom"&&et._xaxes[ct[0]]&&et._yaxes[mt[0]]){var Mt=_t(et._module,Q,U[0],P[0]);Mt.scene=S._fullLayout._splomScenes[et.uid],lt.push(Mt)}else if(et.type==="sankey"){var St=_t(et._module,Q,U[0],P[0]);lt.push(St)}else{if(ct.indexOf(et.xaxis)===-1||mt.indexOf(et.yaxis)===-1)continue;lt.push(_t(et._module,Q,A(S,et.xaxis),A(S,et.yaxis)))}else lt.push(_t(et._module,Q,U[0],P[0]));return lt;function _t(Yt,Et,gt,ot){return{_module:Yt,cd:Et,xaxis:gt,yaxis:ot}}}function L(S){var U=S.searchInfo.cd[0].trace,P=S.pointNumber,G=S.pointNumbers,Q=G.length>0?G[0]:P;return!!U.selectedpoints&&U.selectedpoints.indexOf(Q)>-1}function X(S,U,P){var G,Q,et,tt;for(G=0;G<U.length;G++){var lt=U[G].cd[0].trace._fullInput,ct=S._fullLayout._tracePreGUI[lt.uid]||{};ct.selectedpoints===void 0&&(ct.selectedpoints=lt._input.selectedpoints||null)}if(P){var mt=P.points||[];for(G=0;G<U.length;G++)(tt=U[G].cd[0].trace)._input.selectedpoints=tt._fullInput.selectedpoints=[],tt._fullInput!==tt&&(tt.selectedpoints=[]);for(G=0;G<mt.length;G++){var Mt=mt[G],St=Mt.data,_t=Mt.fullData;Mt.pointIndices?([].push.apply(St.selectedpoints,Mt.pointIndices),tt._fullInput!==tt&&[].push.apply(_t.selectedpoints,Mt.pointIndices)):(St.selectedpoints.push(Mt.pointIndex),tt._fullInput!==tt&&_t.selectedpoints.push(Mt.pointIndex))}}else for(G=0;G<U.length;G++)delete(tt=U[G].cd[0].trace).selectedpoints,delete tt._input.selectedpoints,tt._fullInput!==tt&&delete tt._fullInput.selectedpoints;var Yt=!1;for(G=0;G<U.length;G++){tt=(et=(Q=U[G]).cd)[0].trace,s.traceIs(tt,"regl")&&(Yt=!0);var Et=Q._module,gt=Et.styleOnSelect||Et.style;gt&&(gt(S,et,et[0].node3),et[0].nodeRangePlot3&&gt(S,et,et[0].nodeRangePlot3))}Yt&&(y(S),T(S))}function E(S,U){if(Array.isArray(S))for(var P=U.cd,G=U.cd[0].trace,Q=0;Q<S.length;Q++)S[Q]=l(S[Q],G,P);return S}function Z(S,U){for(var P=[],G=0;G<S.length;G++){P[G]=[];for(var Q=0;Q<S[G].length;Q++){P[G][Q]=[],P[G][Q][0]=Q?"L":"M";for(var et=0;et<S[G][Q].length;et++)P[G][Q].push(S[G][Q][et])}U||P[G].push(["Z",P[G][0][1],P[G][0][2]])}return P}J.exports={prepSelect:function(S,U,P,G,Q){var et=a(Q),tt=r(Q),lt=d(Q),ct=u(Q),mt=p(Q),Mt=Q==="drawcircle",St=Q==="drawline"||Mt,_t=G.gd,Yt=_t._fullLayout,Et=Yt._zoomlayer,gt=G.element.getBoundingClientRect(),ot=G.plotinfo,nt=Y(ot),ut=U-gt.left,ht=P-gt.top;Yt._calcInverseTransform(_t);var Dt=b.apply3DTransform(Yt._invTransform)(ut,ht);ut=Dt[0],ht=Dt[1];var Tt,xt,Ot,It,wt,At,Xt,kt=Yt._invScaleX,Bt=Yt._invScaleY,Zt=ut,Ht=ht,ee="M"+ut+","+ht,qt=G.xaxes[0]._length,vt=G.yaxes[0]._length,bt=G.xaxes.concat(G.yaxes),Gt=S.altKey&&!(u(Q)&&lt);H(S,_t,G),et&&(Tt=D([[ut,ht]],k.BENDPX));var re=Et.selectAll("path.select-outline-"+ot.id).data(ct?[0]:[1,2]),xe=Yt.newshape;re.enter().append("path").attr("class",function(jt){return"select-outline select-outline-"+jt+" select-outline-"+ot.id}).style(ct?{opacity:xe.opacity/2,fill:lt?void 0:xe.fillcolor,stroke:xe.line.color,"stroke-dasharray":o(xe.line.dash,xe.line.width),"stroke-width":xe.line.width+"px"}:{}).attr("fill-rule",xe.fillrule).classed("cursor-move",!!ct).attr("transform",nt).attr("d",ee+"Z");var at,st=Et.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("transform",nt).attr("d","M0,0Z"),Lt=Yt._uid+k.SELECTID,Ct=[],Nt=F(_t,G.xaxes,G.yaxes,G.subplot);function Pt(jt,$t){return jt-$t}at=ot.fillRangeItems?ot.fillRangeItems:tt?function(jt,$t){var ne=jt.range={};for(wt=0;wt<bt.length;wt++){var se=bt[wt],Wt=se._id.charAt(0);ne[se._id]=[I(se,$t[Wt+"min"]),I(se,$t[Wt+"max"])].sort(Pt)}}:function(jt,$t,ne){var se=jt.lassoPoints={};for(wt=0;wt<bt.length;wt++){var Wt=bt[wt];se[Wt._id]=ne.filtered.map(j(Wt))}},G.moveFn=function(jt,$t){Zt=Math.max(0,Math.min(qt,kt*jt+ut)),Ht=Math.max(0,Math.min(vt,Bt*$t+ht));var ne=Math.abs(Zt-ut),se=Math.abs(Ht-ht);if(tt){var Wt,ae,ce;if(mt){var be=Yt.selectdirection;switch(Wt=be==="any"?se<Math.min(.6*ne,x)?"h":ne<Math.min(.6*se,x)?"v":"d":be){case"h":ae=Mt?vt/2:0,ce=vt;break;case"v":ae=Mt?qt/2:0,ce=qt}}if(ct)switch(Yt.newshape.drawdirection){case"vertical":Wt="h",ae=Mt?vt/2:0,ce=vt;break;case"horizontal":Wt="v",ae=Mt?qt/2:0,ce=qt;break;case"ortho":ne<se?(Wt="h",ae=ht,ce=Ht):(Wt="v",ae=ut,ce=Zt);break;default:Wt="d"}Wt==="h"?((It=St?M(Mt,[Zt,ae],[Zt,ce]):[[ut,ae],[ut,ce],[Zt,ce],[Zt,ae]]).xmin=St?Zt:Math.min(ut,Zt),It.xmax=St?Zt:Math.max(ut,Zt),It.ymin=Math.min(ae,ce),It.ymax=Math.max(ae,ce),st.attr("d","M"+It.xmin+","+(ht-x)+"h-4v"+2*x+"h4ZM"+(It.xmax-1)+","+(ht-x)+"h4v"+2*x+"h-4Z")):Wt==="v"?((It=St?M(Mt,[ae,Ht],[ce,Ht]):[[ae,ht],[ae,Ht],[ce,Ht],[ce,ht]]).xmin=Math.min(ae,ce),It.xmax=Math.max(ae,ce),It.ymin=St?Ht:Math.min(ht,Ht),It.ymax=St?Ht:Math.max(ht,Ht),st.attr("d","M"+(ut-x)+","+It.ymin+"v-4h"+2*x+"v4ZM"+(ut-x)+","+(It.ymax-1)+"v4h"+2*x+"v-4Z")):Wt==="d"&&((It=St?M(Mt,[ut,ht],[Zt,Ht]):[[ut,ht],[ut,Ht],[Zt,Ht],[Zt,ht]]).xmin=Math.min(ut,Zt),It.xmax=Math.max(ut,Zt),It.ymin=Math.min(ht,Ht),It.ymax=Math.max(ht,Ht),st.attr("d","M0,0Z"))}else et&&(Tt.addPt([Zt,Ht]),It=Tt.filtered);G.selectionDefs&&G.selectionDefs.length?(Ot=function(he,me,le){return le?t.difference({regions:he,inverted:!1},{regions:[me],inverted:!1}).regions:t.union({regions:he,inverted:!1},{regions:[me],inverted:!1}).regions}(G.mergedPolygons,It,Gt),It.subtract=Gt,xt=q(G.selectionDefs.concat([It]))):(Ot=[It],xt=z(It)),m(Z(Ot,lt),re,G),mt&&h.throttle(Lt,k.SELECTDELAY,function(){var he;Ct=[];var me;for(wt=0;wt<Nt.length;wt++)if(me=(At=Nt[wt])._module.selectPoints(At,xt),he=E(me,At),Ct.length)for(var le=0;le<he.length;le++)Ct.push(he[le]);else Ct=he;X(_t,Nt,Xt={points:Ct}),at(Xt,It,Tt),G.gd.emit("plotly_selecting",Xt)})},G.clickFn=function(jt,$t){if(st.remove(),_t._fullLayout._activeShapeIndex>=0)_t._fullLayout._deactivateShape(_t);else if(!ct){var ne=Yt.clickmode;h.done(Lt).then(function(){if(h.clear(Lt),jt===2){for(re.remove(),wt=0;wt<Nt.length;wt++)(At=Nt[wt])._module.selectPoints(At,!1);X(_t,Nt),C(G),_t.emit("plotly_deselect",null)}else ne.indexOf("select")>-1&&B($t,_t,G.xaxes,G.yaxes,G.subplot,G,re),ne==="event"&&_t.emit("plotly_selected",void 0);n.click(_t,$t)}).catch(b.error)}},G.doneFn=function(){st.remove(),h.done(Lt).then(function(){h.clear(Lt),G.gd.emit("plotly_selected",Xt),It&&G.selectionDefs&&(It.subtract=Gt,G.selectionDefs.push(It),G.mergedPolygons.length=0,[].push.apply(G.mergedPolygons,Ot)),G.doneFnCompleted&&G.doneFnCompleted(Ct)}).catch(b.error),ct&&C(G)}},clearSelect:g,clearSelectionsCache:C,selectOnClick:B}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":316,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],300:[function(c,J,N){var t=c("@plotly/d3"),s=c("d3-time-format").utcFormat,o=c("../../lib"),e=o.numberFormat,n=c("fast-isnumeric"),l=o.cleanNumber,i=o.ms2DateTime,a=o.dateTime2ms,r=o.ensureNumber,u=o.isArrayOrTypedArray,d=c("../../constants/numerical"),p=d.FP_SAFE,m=d.BADNUM,M=d.LOG_CLIP,w=d.ONEWEEK,b=d.ONEDAY,v=d.ONEHOUR,h=d.ONEMIN,A=d.ONESEC,y=c("./axis_ids"),T=c("./constants"),k=T.HOUR_PATTERN,x=T.WEEKDAY_PATTERN;function D(g){return Math.pow(10,g)}function z(g){return g!=null}J.exports=function(g,R){R=R||{};var I=g._id||"x",j=I.charAt(0);function Y(P,G){if(P>0)return Math.log(P)/Math.LN10;if(P<=0&&G&&g.range&&g.range.length===2){var Q=g.range[0],et=g.range[1];return .5*(Q+et-2*M*Math.abs(Q-et))}return m}function B(P,G,Q,et){if((et||{}).msUTC&&n(P))return+P;var tt=a(P,Q||g.calendar);if(tt===m){if(!n(P))return m;P=+P;var lt=Math.floor(10*o.mod(P+.05,1)),ct=Math.round(P-lt/10);tt=a(new Date(ct))+lt/10}return tt}function $(P,G,Q){return i(P,G,Q||g.calendar)}function rt(P){return g._categories[Math.round(P)]}function q(P){if(z(P)){if(g._categoriesMap===void 0&&(g._categoriesMap={}),g._categoriesMap[P]!==void 0)return g._categoriesMap[P];g._categories.push(typeof P=="number"?String(P):P);var G=g._categories.length-1;return g._categoriesMap[P]=G,G}return m}function H(P){if(g._categoriesMap)return g._categoriesMap[P]}function C(P){var G=H(P);return G!==void 0?G:n(P)?+P:void 0}function F(P){return n(P)?+P:H(P)}function L(P,G,Q){return t.round(Q+G*P,2)}function X(P,G,Q){return(P-Q)/G}var E=function(P){return n(P)?L(P,g._m,g._b):m},Z=function(P){return X(P,g._m,g._b)};if(g.rangebreaks){var S=j==="y";E=function(P){if(!n(P))return m;var G=g._rangebreaks.length;if(!G)return L(P,g._m,g._b);var Q=S;g.range[0]>g.range[1]&&(Q=!Q);for(var et=Q?-1:1,tt=et*P,lt=0,ct=0;ct<G;ct++){var mt=et*g._rangebreaks[ct].min,Mt=et*g._rangebreaks[ct].max;if(tt<mt)break;if(!(tt>Mt)){lt=tt<(mt+Mt)/2?ct:ct+1;break}lt=ct+1}var St=g._B[lt]||0;return isFinite(St)?L(P,g._m2,St):0},Z=function(P){var G=g._rangebreaks.length;if(!G)return X(P,g._m,g._b);for(var Q=0,et=0;et<G&&!(P<g._rangebreaks[et].pmin);et++)P>g._rangebreaks[et].pmax&&(Q=et+1);return X(P,g._m2,g._B[Q])}}g.c2l=g.type==="log"?Y:r,g.l2c=g.type==="log"?D:r,g.l2p=E,g.p2l=Z,g.c2p=g.type==="log"?function(P,G){return E(Y(P,G))}:E,g.p2c=g.type==="log"?function(P){return D(Z(P))}:Z,["linear","-"].indexOf(g.type)!==-1?(g.d2r=g.r2d=g.d2c=g.r2c=g.d2l=g.r2l=l,g.c2d=g.c2r=g.l2d=g.l2r=r,g.d2p=g.r2p=function(P){return g.l2p(l(P))},g.p2d=g.p2r=Z,g.cleanPos=r):g.type==="log"?(g.d2r=g.d2l=function(P,G){return Y(l(P),G)},g.r2d=g.r2c=function(P){return D(l(P))},g.d2c=g.r2l=l,g.c2d=g.l2r=r,g.c2r=Y,g.l2d=D,g.d2p=function(P,G){return g.l2p(g.d2r(P,G))},g.p2d=function(P){return D(Z(P))},g.r2p=function(P){return g.l2p(l(P))},g.p2r=Z,g.cleanPos=r):g.type==="date"?(g.d2r=g.r2d=o.identity,g.d2c=g.r2c=g.d2l=g.r2l=B,g.c2d=g.c2r=g.l2d=g.l2r=$,g.d2p=g.r2p=function(P,G,Q){return g.l2p(B(P,0,Q))},g.p2d=g.p2r=function(P,G,Q){return $(Z(P),G,Q)},g.cleanPos=function(P){return o.cleanDate(P,m,g.calendar)}):g.type==="category"?(g.d2c=g.d2l=q,g.r2d=g.c2d=g.l2d=rt,g.d2r=g.d2l_noadd=C,g.r2c=function(P){var G=F(P);return G!==void 0?G:g.fraction2r(.5)},g.l2r=g.c2r=r,g.r2l=F,g.d2p=function(P){return g.l2p(g.r2c(P))},g.p2d=function(P){return rt(Z(P))},g.r2p=g.d2p,g.p2r=Z,g.cleanPos=function(P){return typeof P=="string"&&P!==""?P:r(P)}):g.type==="multicategory"&&(g.r2d=g.c2d=g.l2d=rt,g.d2r=g.d2l_noadd=C,g.r2c=function(P){var G=C(P);return G!==void 0?G:g.fraction2r(.5)},g.r2c_just_indices=H,g.l2r=g.c2r=r,g.r2l=C,g.d2p=function(P){return g.l2p(g.r2c(P))},g.p2d=function(P){return rt(Z(P))},g.r2p=g.d2p,g.p2r=Z,g.cleanPos=function(P){return Array.isArray(P)||typeof P=="string"&&P!==""?P:r(P)},g.setupMultiCategory=function(P){var G,Q,et=g._traceIndices,tt=g._matchGroup;if(tt&&g._categories.length===0){for(var lt in tt)if(lt!==I){var ct=R[y.id2name(lt)];et=et.concat(ct._traceIndices)}}var mt=[[0,{}],[0,{}]],Mt=[];for(G=0;G<et.length;G++){var St=P[et[G]];if(j in St){var _t=St[j],Yt=St._length||o.minRowLength(_t);if(u(_t[0])&&u(_t[1]))for(Q=0;Q<Yt;Q++){var Et=_t[0][Q],gt=_t[1][Q];z(Et)&&z(gt)&&(Mt.push([Et,gt]),Et in mt[0][1]||(mt[0][1][Et]=mt[0][0]++),gt in mt[1][1]||(mt[1][1][gt]=mt[1][0]++))}}}for(Mt.sort(function(ot,nt){var ut=mt[0][1],ht=ut[ot[0]]-ut[nt[0]];if(ht)return ht;var Dt=mt[1][1];return Dt[ot[1]]-Dt[nt[1]]}),G=0;G<Mt.length;G++)q(Mt[G])}),g.fraction2r=function(P){var G=g.r2l(g.range[0]),Q=g.r2l(g.range[1]);return g.l2r(G+P*(Q-G))},g.r2fraction=function(P){var G=g.r2l(g.range[0]),Q=g.r2l(g.range[1]);return(g.r2l(P)-G)/(Q-G)},g.cleanRange=function(P,G){G||(G={}),P||(P="range");var Q,et,tt=o.nestedProperty(g,P).get();if(et=(et=g.type==="date"?o.dfltRange(g.calendar):j==="y"?T.DFLTRANGEY:G.dfltRange||T.DFLTRANGEX).slice(),g.rangemode!=="tozero"&&g.rangemode!=="nonnegative"||(et[0]=0),tt&&tt.length===2)for(g.type!=="date"||g.autorange||(tt[0]=o.cleanDate(tt[0],m,g.calendar),tt[1]=o.cleanDate(tt[1],m,g.calendar)),Q=0;Q<2;Q++)if(g.type==="date"){if(!o.isDateTime(tt[Q],g.calendar)){g[P]=et;break}if(g.r2l(tt[0])===g.r2l(tt[1])){var lt=o.constrain(g.r2l(tt[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);tt[0]=g.l2r(lt-1e3),tt[1]=g.l2r(lt+1e3);break}}else{if(!n(tt[Q])){if(!n(tt[1-Q])){g[P]=et;break}tt[Q]=tt[1-Q]*(Q?10:.1)}if(tt[Q]<-p?tt[Q]=-p:tt[Q]>p&&(tt[Q]=p),tt[0]===tt[1]){var ct=Math.max(1,Math.abs(1e-6*tt[0]));tt[0]-=ct,tt[1]+=ct}}else o.nestedProperty(g,P).set(et)},g.setScale=function(P){var G=R._size;if(g.overlaying){var Q=y.getFromId({_fullLayout:R},g.overlaying);g.domain=Q.domain}var et=P&&g._r?"_r":"range",tt=g.calendar;g.cleanRange(et);var lt,ct,mt=g.r2l(g[et][0],tt),Mt=g.r2l(g[et][1],tt),St=j==="y";if(St?(g._offset=G.t+(1-g.domain[1])*G.h,g._length=G.h*(g.domain[1]-g.domain[0]),g._m=g._length/(mt-Mt),g._b=-g._m*Mt):(g._offset=G.l+g.domain[0]*G.w,g._length=G.w*(g.domain[1]-g.domain[0]),g._m=g._length/(Mt-mt),g._b=-g._m*mt),g._rangebreaks=[],g._lBreaks=0,g._m2=0,g._B=[],g.rangebreaks&&(g._rangebreaks=g.locateBreaks(Math.min(mt,Mt),Math.max(mt,Mt)),g._rangebreaks.length)){for(lt=0;lt<g._rangebreaks.length;lt++)ct=g._rangebreaks[lt],g._lBreaks+=Math.abs(ct.max-ct.min);var _t=St;mt>Mt&&(_t=!_t),_t&&g._rangebreaks.reverse();var Yt=_t?-1:1;for(g._m2=Yt*g._length/(Math.abs(Mt-mt)-g._lBreaks),g._B.push(-g._m2*(St?Mt:mt)),lt=0;lt<g._rangebreaks.length;lt++)ct=g._rangebreaks[lt],g._B.push(g._B[g._B.length-1]-Yt*g._m2*(ct.max-ct.min));for(lt=0;lt<g._rangebreaks.length;lt++)(ct=g._rangebreaks[lt]).pmin=E(ct.min),ct.pmax=E(ct.max)}if(!isFinite(g._m)||!isFinite(g._b)||g._length<0)throw R._replotting=!1,new Error("Something went wrong with axis scaling")},g.maskBreaks=function(P){var G,Q,et,tt,lt,ct=g.rangebreaks||[];ct._cachedPatterns||(ct._cachedPatterns=ct.map(function(Et){return Et.enabled&&Et.bounds?o.simpleMap(Et.bounds,Et.pattern?l:g.d2c):null})),ct._cachedValues||(ct._cachedValues=ct.map(function(Et){return Et.enabled&&Et.values?o.simpleMap(Et.values,g.d2c).sort(o.sorterAsc):null}));for(var mt=0;mt<ct.length;mt++){var Mt=ct[mt];if(Mt.enabled){if(Mt.bounds){var St=Mt.pattern;switch(Q=(G=ct._cachedPatterns[mt])[0],et=G[1],St){case x:tt=(lt=new Date(P)).getUTCDay(),Q>et&&(et+=7,tt<Q&&(tt+=7));break;case k:tt=(lt=new Date(P)).getUTCHours()+(lt.getUTCMinutes()/60+lt.getUTCSeconds()/3600+lt.getUTCMilliseconds()/36e5),Q>et&&(et+=24,tt<Q&&(tt+=24));break;case"":tt=P}if(tt>=Q&&tt<et)return m}else for(var _t=ct._cachedValues[mt],Yt=0;Yt<_t.length;Yt++)if(et=(Q=_t[Yt])+Mt.dvalue,P>=Q&&P<et)return m}}return P},g.locateBreaks=function(P,G){var Q,et,tt,lt,ct=[];if(!g.rangebreaks)return ct;var mt=g.rangebreaks.slice().sort(function(Dt,Tt){return Dt.pattern===x&&Tt.pattern===k?-1:Tt.pattern===x&&Dt.pattern===k?1:0}),Mt=function(Dt,Tt){if((Dt=o.constrain(Dt,P,G))!==(Tt=o.constrain(Tt,P,G))){for(var xt=!0,Ot=0;Ot<ct.length;Ot++){var It=ct[Ot];Dt<It.max&&Tt>=It.min&&(Dt<It.min&&(It.min=Dt),Tt>It.max&&(It.max=Tt),xt=!1)}xt&&ct.push({min:Dt,max:Tt})}};for(Q=0;Q<mt.length;Q++){var St=mt[Q];if(St.enabled)if(St.bounds){var _t=P,Yt=G;St.pattern&&(_t=Math.floor(_t)),tt=(et=o.simpleMap(St.bounds,St.pattern?l:g.r2l))[0],lt=et[1];var Et,gt,ot=new Date(_t);switch(St.pattern){case x:gt=w,Et=(lt-tt+(lt<tt?7:0))*b,_t+=tt*b-(ot.getUTCDay()*b+ot.getUTCHours()*v+ot.getUTCMinutes()*h+ot.getUTCSeconds()*A+ot.getUTCMilliseconds());break;case k:gt=b,Et=(lt-tt+(lt<tt?24:0))*v,_t+=tt*v-(ot.getUTCHours()*v+ot.getUTCMinutes()*h+ot.getUTCSeconds()*A+ot.getUTCMilliseconds());break;default:_t=Math.min(et[0],et[1]),Et=gt=(Yt=Math.max(et[0],et[1]))-_t}for(var nt=_t;nt<Yt;nt+=gt)Mt(nt,nt+Et)}else for(var ut=o.simpleMap(St.values,g.d2c),ht=0;ht<ut.length;ht++)Mt(tt=ut[ht],lt=tt+St.dvalue)}return ct.sort(function(Dt,Tt){return Dt.min-Tt.min}),ct},g.makeCalcdata=function(P,G,Q){var et,tt,lt,ct,mt=g.type,Mt=mt==="date"&&P[G+"calendar"];if(G in P){if(et=P[G],ct=P._length||o.minRowLength(et),o.isTypedArray(et)&&(mt==="linear"||mt==="log")){if(ct===et.length)return et;if(et.subarray)return et.subarray(0,ct)}if(mt==="multicategory")return function(Yt,Et){for(var gt=new Array(Et),ot=0;ot<Et;ot++){var nt=(Yt[0]||[])[ot],ut=(Yt[1]||[])[ot];gt[ot]=H([nt,ut])}return gt}(et,ct);for(tt=new Array(ct),lt=0;lt<ct;lt++)tt[lt]=g.d2c(et[lt],0,Mt,Q)}else{var St=G+"0"in P?g.d2c(P[G+"0"],0,Mt):0,_t=P["d"+G]?Number(P["d"+G]):1;for(et=P[{x:"y",y:"x"}[G]],ct=P._length||et.length,tt=new Array(ct),lt=0;lt<ct;lt++)tt[lt]=St+lt*_t}if(g.rangebreaks)for(lt=0;lt<ct;lt++)tt[lt]=g.maskBreaks(tt[lt]);return tt},g.isValidRange=function(P){return Array.isArray(P)&&P.length===2&&n(g.r2l(P[0]))&&n(g.r2l(P[1]))},g.isPtWithinRange=function(P,G){var Q=g.c2l(P[j],null,G),et=g.r2l(g.range[0]),tt=g.r2l(g.range[1]);return et<tt?et<=Q&&Q<=tt:tt<=Q&&Q<=et},g._emptyCategories=function(){g._categories=[],g._categoriesMap={}},g.clearCalc=function(){var P=g._matchGroup;if(P){var G=null,Q=null;for(var et in P){var tt=R[y.id2name(et)];if(tt._categories){G=tt._categories,Q=tt._categoriesMap;break}}G&&Q?(g._categories=G,g._categoriesMap=Q):g._emptyCategories()}else g._emptyCategories();if(g._initialCategories)for(var lt=0;lt<g._initialCategories.length;lt++)q(g._initialCategories[lt])},g.sortByInitialCategories=function(){var P=[];if(g._emptyCategories(),g._initialCategories)for(var G=0;G<g._initialCategories.length;G++)q(g._initialCategories[G]);P=P.concat(g._traceIndices);var Q=g._matchGroup;for(var et in Q)if(I!==et){var tt=R[y.id2name(et)];tt._categories=g._categories,tt._categoriesMap=g._categoriesMap,P=P.concat(tt._traceIndices)}return P};var U=R._d3locale;g.type==="date"&&(g._dateFormat=U?U.timeFormat:s,g._extraFormat=R._extraFormat),g._separators=R.separators,g._numFormat=U?U.numberFormat:e,delete g._minDtick,delete g._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],301:[function(c,J,N){var t=c("../../lib"),s=c("../../components/color").contrast,o=c("./layout_attributes"),e=c("../array_container_defaults");function n(i){var a=["showexponent","showtickprefix","showticksuffix"].filter(function(r){return i[r]!==void 0});if(a.every(function(r){return i[r]===i[a[0]]})||a.length===1)return i[a[0]]}function l(i,a){function r(u,d){return t.coerce(i,a,o.tickformatstops,u,d)}r("enabled")&&(r("dtickrange"),r("value"))}J.exports=function(i,a,r,u,d,p){p&&p.pass!==1||function(m,M,w,b,v){var h=n(m);w("tickprefix")&&w("showtickprefix",h),w("ticksuffix",v.tickSuffixDflt)&&w("showticksuffix",h)}(i,0,r,0,d),p&&p.pass!==2||function(m,M,w,b,v){var h=n(m);if(w("tickprefix")&&w("showtickprefix",h),w("ticksuffix",v.tickSuffixDflt)&&w("showticksuffix",h),w("showticklabels")){var A=v.font||{},y=M.color,T=(M.ticklabelposition||"").indexOf("inside")!==-1?s(v.bgColor):y&&y!==o.color.dflt?y:A.color;if(t.coerceFont(w,"tickfont",{family:A.family,size:A.size,color:T}),w("tickangle"),b!=="category"){var k=w("tickformat");e(m,M,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:l}),M.tickformatstops.length||delete M.tickformatstops,k||b==="date"||(w("showexponent",h),w("exponentformat"),w("minexponent"),w("separatethousands"))}}}(i,a,r,u,d)}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294}],302:[function(c,J,N){var t=c("../../lib"),s=c("./layout_attributes");J.exports=function(o,e,n,l){var i=t.coerce2(o,e,s,"ticklen"),a=t.coerce2(o,e,s,"tickwidth"),r=t.coerce2(o,e,s,"tickcolor",e.color);n("ticks",l.outerTicks||i||a||r?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],303:[function(c,J,N){var t=c("./clean_ticks"),s=c("../../lib").isArrayOrTypedArray;J.exports=function(o,e,n,l){function i(m){var M=o[m];return M!==void 0?M:(e._template||{})[m]}var a=i("tick0"),r=i("dtick"),u=i("tickvals"),d=n("tickmode",s(u)?"array":r?"linear":"auto");if(d==="auto")n("nticks");else if(d==="linear"){var p=e.dtick=t.dtick(r,l);e.tick0=t.tick0(a,l,e.calendar,p)}else l!=="multicategory"&&(n("tickvals")===void 0?e.tickmode="auto":n("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],304:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../registry"),o=c("../../lib"),e=c("../../components/drawing"),n=c("./axes");J.exports=function(l,i,a,r){var u=l._fullLayout;if(i.length!==0){var d,p,m,M;r&&(d=r());var w=t.ease(a.easing);return l._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(M),M=null,function(){for(var h={},A=0;A<i.length;A++){var y=i[A],T=y.plotinfo.xaxis,k=y.plotinfo.yaxis;y.xr0&&(h[T._name+".range"]=y.xr0.slice()),y.yr0&&(h[k._name+".range"]=y.yr0.slice())}return s.call("relayout",l,h).then(function(){for(var x=0;x<i.length;x++)b(i[x].plotinfo)})}()}),p=Date.now(),M=window.requestAnimationFrame(function h(){m=Date.now();for(var A=Math.min(1,(m-p)/a.duration),y=w(A),T=0;T<i.length;T++)v(i[T],y);m-p>a.duration?(function(){for(var k={},x=0;x<i.length;x++){var D=i[x],z=D.plotinfo.xaxis,g=D.plotinfo.yaxis;D.xr1&&(k[z._name+".range"]=D.xr1.slice()),D.yr1&&(k[g._name+".range"]=D.yr1.slice())}d&&d(),s.call("relayout",l,k).then(function(){for(var R=0;R<i.length;R++)b(i[R].plotinfo)})}(),M=window.cancelAnimationFrame(h)):M=window.requestAnimationFrame(h)}),Promise.resolve()}function b(h){var A=h.xaxis,y=h.yaxis;u._defs.select("#"+h.clipId+"> rect").call(e.setTranslate,0,0).call(e.setScale,1,1),h.plot.call(e.setTranslate,A._offset,y._offset).call(e.setScale,1,1);var T=h.plot.selectAll(".scatterlayer .trace");T.selectAll(".point").call(e.setPointGroupScale,1,1),T.selectAll(".textpoint").call(e.setTextPointsScale,1,1),T.call(e.hideOutsideRangePoints,h)}function v(h,A){var y=h.plotinfo,T=y.xaxis,k=y.yaxis,x=T._length,D=k._length,z=!!h.xr1,g=!!h.yr1,R=[];if(z){var I=o.simpleMap(h.xr0,T.r2l),j=o.simpleMap(h.xr1,T.r2l),Y=I[1]-I[0],B=j[1]-j[0];R[0]=(I[0]*(1-A)+A*j[0]-I[0])/(I[1]-I[0])*x,R[2]=x*(1-A+A*B/Y),T.range[0]=T.l2r(I[0]*(1-A)+A*j[0]),T.range[1]=T.l2r(I[1]*(1-A)+A*j[1])}else R[0]=0,R[2]=x;if(g){var $=o.simpleMap(h.yr0,k.r2l),rt=o.simpleMap(h.yr1,k.r2l),q=$[1]-$[0],H=rt[1]-rt[0];R[1]=($[1]*(1-A)+A*rt[1]-$[1])/($[0]-$[1])*D,R[3]=D*(1-A+A*H/q),k.range[0]=T.l2r($[0]*(1-A)+A*rt[0]),k.range[1]=k.l2r($[1]*(1-A)+A*rt[1])}else R[1]=0,R[3]=D;n.drawOne(l,T,{skipTitle:!0}),n.drawOne(l,k,{skipTitle:!0}),n.redrawComponents(l,[T._id,k._id]);var C=z?x/R[2]:1,F=g?D/R[3]:1,L=z?R[0]:0,X=g?R[1]:0,E=z?R[0]/R[2]*x:0,Z=g?R[1]/R[3]*D:0,S=T._offset-E,U=k._offset-Z;y.clipRect.call(e.setTranslate,L,X).call(e.setScale,1/C,1/F),y.plot.call(e.setTranslate,S,U).call(e.setScale,C,F),e.setPointGroupScale(y.zoomScalePts,1/C,1/F),e.setTextPointsScale(y.zoomScaleTxt,1/C,1/F)}n.redrawComponents(l)}},{"../../components/drawing":124,"../../lib":232,"../../registry":316,"./axes":279,"@plotly/d3":11}],305:[function(c,J,N){var t=c("../../registry").traceIs,s=c("./axis_autotype");function o(n){return{v:"x",h:"y"}[n.orientation||"v"]}function e(n,l){var i=o(n),a=t(n,"box-violin"),r=t(n._fullInput||{},"candlestick");return a&&!r&&l===i&&n[i]===void 0&&n[i+"0"]===void 0}J.exports=function(n,l,i,a){i("autotypenumbers",a.autotypenumbersDflt),i("type",(a.splomStash||{}).type)==="-"&&(function(r,u){if(r.type==="-"){var d,p=r._id,m=p.charAt(0);p.indexOf("scene")!==-1&&(p=m);var M=function(k,x,D){for(var z=0;z<k.length;z++){var g=k[z];if(g.type==="splom"&&g._length>0&&(g["_"+D+"axes"]||{})[x]||(g[D+"axis"]||D)===x&&(e(g,D)||(g[D]||[]).length||g[D+"0"]))return g}}(u,p,m);if(M){if(M.type==="histogram"&&m==={v:"y",h:"x"}[M.orientation||"v"])return void(r.type="linear");var w=m+"calendar",b=M[w],v={noMultiCategory:!t(M,"cartesian")||t(M,"noMultiCategory")};if(M.type==="box"&&M._hasPreCompStats&&m==={h:"x",v:"y"}[M.orientation||"v"]&&(v.noMultiCategory=!0),v.autotypenumbers=r.autotypenumbers,e(M,m)){var h=o(M),A=[];for(d=0;d<u.length;d++){var y=u[d];t(y,"box-violin")&&(y[m+"axis"]||m)===p&&(y[h]!==void 0?A.push(y[h][0]):y.name!==void 0?A.push(y.name):A.push("text"),y[w]!==b&&(b=void 0))}r.type=s(A,b,v)}else if(M.type==="splom"){var T=M.dimensions[M._axesDim[p]];T.visible&&(r.type=s(T.values,b,v))}else r.type=s(M[m]||[M[m+"0"]],b,v)}}}(l,a.data),l.type==="-"?l.type="linear":n.type=l.type)}},{"../../registry":316,"./axis_autotype":280}],306:[function(c,J,N){var t=c("../registry"),s=c("../lib");function o(i,a,r){var u,d,p,m=!1;if(a.type==="data")u=i._fullData[a.traces!==null?a.traces[0]:0];else{if(a.type!=="layout")return!1;u=i._fullLayout}return d=s.nestedProperty(u,a.prop).get(),(p=r[a.type]=r[a.type]||{}).hasOwnProperty(a.prop)&&p[a.prop]!==d&&(m=!0),p[a.prop]=d,{changed:m,value:d}}function e(i,a){var r=[],u=a[0],d={};if(typeof u=="string")d[u]=a[1];else{if(!s.isPlainObject(u))return r;d=u}return l(d,function(p,m,M){r.push({type:"layout",prop:p,value:M})},"",0),r}function n(i,a){var r,u,d,p,m=[];if(u=a[0],d=a[1],r=a[2],p={},typeof u=="string")p[u]=d;else{if(!s.isPlainObject(u))return m;p=u,r===void 0&&(r=d)}return r===void 0&&(r=null),l(p,function(M,w,b){var v,h;if(Array.isArray(b)){h=b.slice();var A=Math.min(h.length,i.data.length);r&&(A=Math.min(A,r.length)),v=[];for(var y=0;y<A;y++)v[y]=r?r[y]:y}else h=b,v=r?r.slice():null;if(v===null)Array.isArray(h)&&(h=h[0]);else if(Array.isArray(v)){if(!Array.isArray(h)){var T=h;h=[];for(var k=0;k<v.length;k++)h[k]=T}h.length=Math.min(v.length,h.length)}m.push({type:"data",prop:M,traces:v,value:h})},"",0),m}function l(i,a,r,u){Object.keys(i).forEach(function(d){var p=i[d];if(d[0]!=="_"){var m=r+(u>0?".":"")+d;s.isPlainObject(p)?l(p,a,m,u+1):a(m,d,p)}})}N.manageCommandObserver=function(i,a,r,u){var d={},p=!0;a&&a._commandObserver&&(d=a._commandObserver),d.cache||(d.cache={}),d.lookupTable={};var m=N.hasSimpleAPICommandBindings(i,r,d.lookupTable);if(a&&a._commandObserver){if(m)return d;if(a._commandObserver.remove)return a._commandObserver.remove(),a._commandObserver=null,d}if(m){o(i,m,d.cache),d.check=function(){if(p){var b=o(i,m,d.cache);return b.changed&&u&&d.lookupTable[b.value]!==void 0&&(d.disable(),Promise.resolve(u({value:b.value,type:m.type,prop:m.prop,traces:m.traces,index:d.lookupTable[b.value]})).then(d.enable,d.enable)),b.changed}};for(var M=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],w=0;w<M.length;w++)i._internalOn(M[w],d.check);d.remove=function(){for(var b=0;b<M.length;b++)i._removeInternalListener(M[b],d.check)}}else s.log("Unable to automatically bind plot updates to API command"),d.lookupTable={},d.remove=function(){};return d.disable=function(){p=!1},d.enable=function(){p=!0},a&&(a._commandObserver=d),d},N.hasSimpleAPICommandBindings=function(i,a,r){var u,d,p=a.length;for(u=0;u<p;u++){var m,M=a[u],w=M.method,b=M.args;if(Array.isArray(b)||(b=[]),!w)return!1;var v=N.computeAPICommandBindings(i,w,b);if(v.length!==1)return!1;if(d){if((m=v[0]).type!==d.type||m.prop!==d.prop)return!1;if(Array.isArray(d.traces)){if(!Array.isArray(m.traces))return!1;m.traces.sort();for(var h=0;h<d.traces.length;h++)if(d.traces[h]!==m.traces[h])return!1}else if(m.prop!==d.prop)return!1}else d=v[0],Array.isArray(d.traces)&&d.traces.sort();var A=(m=v[0]).value;if(Array.isArray(A)){if(A.length!==1)return!1;A=A[0]}r&&(r[A]=u)}return d},N.executeAPICommand=function(i,a,r){if(a==="skip")return Promise.resolve();var u=t.apiMethodRegistry[a],d=[i];Array.isArray(r)||(r=[]);for(var p=0;p<r.length;p++)d.push(r[p]);return u.apply(null,d).catch(function(m){return s.warn("API call to Plotly."+a+" rejected.",m),Promise.reject(m)})},N.computeAPICommandBindings=function(i,a,r){var u;switch(Array.isArray(r)||(r=[]),a){case"restyle":u=n(i,r);break;case"relayout":u=e(i,r);break;case"update":u=n(i,[r[0],r[2]]).concat(e(i,[r[1]]));break;case"animate":u=function(d,p){return Array.isArray(p[0])&&p[0].length===1&&["string","number"].indexOf(typeof p[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:p[0][0].toString()}]:[]}(0,r);break;default:u=[]}return u}},{"../lib":232,"../registry":316}],307:[function(c,J,N){var t=c("../lib/extend").extendFlat;N.attributes=function(s,o){o=o||{};var e={valType:"info_array",editType:(s=s||{}).editType,items:[{valType:"number",min:0,max:1,editType:s.editType},{valType:"number",min:0,max:1,editType:s.editType}],dflt:[0,1]},n=(s.name&&s.name,s.trace,o.description&&o.description,{x:t({},e,{}),y:t({},e,{}),editType:s.editType});return s.noGridCell||(n.row={valType:"integer",min:0,dflt:0,editType:s.editType},n.column={valType:"integer",min:0,dflt:0,editType:s.editType}),n},N.defaults=function(s,o,e,n){var l=n&&n.x||[0,1],i=n&&n.y||[0,1],a=o.grid;if(a){var r=e("domain.column");r!==void 0&&(r<a.columns?l=a._domains.x[r]:delete s.domain.column);var u=e("domain.row");u!==void 0&&(u<a.rows?i=a._domains.y[u]:delete s.domain.row)}var d=e("domain.x",l),p=e("domain.y",i);d[0]<d[1]||(s.domain.x=l.slice()),p[0]<p[1]||(s.domain.y=i.slice())}},{"../lib/extend":226}],308:[function(c,J,N){J.exports=function(t){var s=t.editType,o=t.colorEditType;o===void 0&&(o=s);var e={family:{valType:"string",noBlank:!0,strict:!0,editType:s},size:{valType:"number",min:1,editType:s},color:{valType:"color",editType:o},editType:s};return t.arrayOk&&(e.family.arrayOk=!0,e.size.arrayOk=!0,e.color.arrayOk=!0),e}},{}],309:[function(c,J,N){J.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],310:[function(c,J,N){var t=c("../registry"),s=c("./cartesian/constants").SUBPLOT_PATTERN;N.getSubplotCalcData=function(o,e,n){var l=t.subplotsRegistry[e];if(!l)return[];for(var i=l.attr,a=[],r=0;r<o.length;r++){var u=o[r];u[0].trace[i]===n&&a.push(u)}return a},N.getModuleCalcData=function(o,e){var n,l=[],i=[];if(!(n=typeof e=="string"?t.getModule(e).plot:typeof e=="function"?e:e.plot))return[l,o];for(var a=0;a<o.length;a++){var r=o[a],u=r[0].trace;u.visible===!0&&u._length!==0&&(u._module.plot===n?l.push(r):i.push(r))}return[l,i]},N.getSubplotData=function(o,e,n){if(!t.subplotsRegistry[e])return[];var l,i,a,r=t.subplotsRegistry[e].attr,u=[];if(e==="gl2d"){var d=n.match(s);i="x"+d[1],a="y"+d[2]}for(var p=0;p<o.length;p++)l=o[p],e==="gl2d"&&t.traceIs(l,"gl2d")?l[r[0]]===i&&l[r[1]]===a&&u.push(l):l[r]===n&&u.push(l);return u}},{"../registry":316,"./cartesian/constants":286}],311:[function(c,J,N){function t(s,o){var e,n,l=[0,0,0,0];for(e=0;e<4;++e)for(n=0;n<4;++n)l[n]+=s[4*e+n]*o[e];return l}J.exports=function(s,o){return t(s.projection,t(s.view,t(s.model,[o[0],o[1],o[2],1])))}},{}],312:[function(c,J,N){var t=c("./font_attributes"),s=c("./animation_attributes"),o=c("../components/color/attributes"),e=c("../components/shapes/draw_newshape/attributes"),n=c("./pad_attributes"),l=c("../lib/extend").extendFlat,i=t({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=o.defaultLine,J.exports={font:i,title:{text:{valType:"string",editType:"layoutstyle"},font:t({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(n({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:e.newshape,activeshape:e.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},s.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:t({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":308,"./pad_attributes":313}],313:[function(c,J,N){J.exports=function(t){var s=t.editType;return{t:{valType:"number",dflt:0,editType:s},r:{valType:"number",dflt:0,editType:s},b:{valType:"number",dflt:0,editType:s},l:{valType:"number",dflt:0,editType:s},editType:s}}},{}],314:[function(c,J,N){var t=c("@plotly/d3"),s=c("d3-time-format").timeFormatLocale,o=c("d3-format").formatLocale,e=c("fast-isnumeric"),n=c("../registry"),l=c("../plot_api/plot_schema"),i=c("../plot_api/plot_template"),a=c("../lib"),r=c("../components/color"),u=c("../constants/numerical").BADNUM,d=c("./cartesian/axis_ids"),p=c("./cartesian/handle_outline").clearSelect,m=c("./animation_attributes"),M=c("./frame_attributes"),w=c("../plots/get_data").getModuleCalcData,b=a.relinkPrivateKeys,v=a._,h=J.exports={};a.extendFlat(h,n),h.attributes=c("./attributes"),h.attributes.type.values=h.allTypes,h.fontAttrs=c("./font_attributes"),h.layoutAttributes=c("./layout_attributes"),h.fontWeight="normal";var A=h.transformsRegistry,y=c("./command");h.executeAPICommand=y.executeAPICommand,h.computeAPICommandBindings=y.computeAPICommandBindings,h.manageCommandObserver=y.manageCommandObserver,h.hasSimpleAPICommandBindings=y.hasSimpleAPICommandBindings,h.redrawText=function(q){return q=a.getGraphDiv(q),new Promise(function(H){setTimeout(function(){q._fullLayout&&(n.getComponentMethod("annotations","draw")(q),n.getComponentMethod("legend","draw")(q),n.getComponentMethod("colorbar","draw")(q),H(h.previousPromises(q)))},300)})},h.resize=function(q){var H;q=a.getGraphDiv(q);var C=new Promise(function(F,L){q&&!a.isHidden(q)||L(new Error("Resize must be passed a displayed plot div element.")),q._redrawTimer&&clearTimeout(q._redrawTimer),q._resolveResize&&(H=q._resolveResize),q._resolveResize=F,q._redrawTimer=setTimeout(function(){if(!q.layout||q.layout.width&&q.layout.height||a.isHidden(q))F(q);else{delete q.layout.width,delete q.layout.height;var X=q.changed;q.autoplay=!0,n.call("relayout",q,{autosize:!0}).then(function(){q.changed=X,q._resolveResize===F&&(delete q._resolveResize,F(q))})}},100)});return H&&H(C),C},h.previousPromises=function(q){if((q._promises||[]).length)return Promise.all(q._promises).then(function(){q._promises=[]})},h.addLinks=function(q){if(q._context.showLink||q._context.showSources){var H=q._fullLayout,C=a.ensureSingle(H._paper,"text","js-plot-link-container",function(S){S.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var U=t.select(this);U.append("tspan").classed("js-link-to-tool",!0),U.append("tspan").classed("js-link-spacer",!0),U.append("tspan").classed("js-sourcelinks",!0)})}),F=C.node(),L={y:H._paper.attr("height")-9};document.body.contains(F)&&F.getComputedTextLength()>=H.width-20?(L["text-anchor"]="start",L.x=5):(L["text-anchor"]="end",L.x=H._paper.attr("width")-7),C.attr(L);var X=C.select(".js-link-to-tool"),E=C.select(".js-link-spacer"),Z=C.select(".js-sourcelinks");q._context.showSources&&q._context.showSources(q),q._context.showLink&&function(S,U){U.text("");var P=U.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(S._context.linkText+" "+String.fromCharCode(187));if(S._context.sendData)P.on("click",function(){h.sendDataToCloud(S)});else{var G=window.location.pathname.split("/"),Q=window.location.search;P.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+G[2].split(".")[0]+"/"+G[1]+Q})}}(q,X),E.text(X.text()&&Z.text()?" - ":"")}},h.sendDataToCloud=function(q){var H=(window.PLOTLYENV||{}).BASE_URL||q._context.plotlyServerURL;if(H){q.emit("plotly_beforeexport");var C=t.select(q).append("div").attr("id","hiddenform").style("display","none"),F=C.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return F.append("input").attr({type:"text",name:"data"}).node().value=h.graphJson(q,!1,"keepdata"),F.node().submit(),C.remove(),q.emit("plotly_afterexport"),!1}};var T=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],k=["year","month","dayMonth","dayMonthYear"];function x(q,H){var C=q._context.locale;C||(C="en-US");var F=!1,L={};function X(G){for(var Q=!0,et=0;et<H.length;et++){var tt=H[et];L[tt]||(G[tt]?L[tt]=G[tt]:Q=!1)}Q&&(F=!0)}for(var E=0;E<2;E++){for(var Z=q._context.locales,S=0;S<2;S++){var U=(Z[C]||{}).format;if(U&&(X(U),F))break;Z=n.localeRegistry}var P=C.split("-")[0];if(F||P===C)break;C=P}return F||X(n.localeRegistry.en.format),L}function D(q,H){var C={_fullLayout:H},F=q._id.charAt(0)==="x",L=q._mainAxis._anchorAxis,X="",E="",Z="";if(L&&(Z=L._mainAxis._id,X=F?q._id+Z:Z+q._id),!X||!H._plots[X]){X="";for(var S=q._counterAxes,U=0;U<S.length;U++){var P=S[U],G=F?q._id+P:P+q._id;E||(E=G);var Q=d.getFromId(C,P);if(Z&&Q.overlaying===Z){X=G;break}}}return X||E}function z(q){var H=q.transforms;if(Array.isArray(H)&&H.length)for(var C=0;C<H.length;C++){var F=H[C],L=F._module||A[F.type];if(L&&L.makesData)return!0}return!1}function g(q,H,C,F){for(var L=q.transforms,X=[q],E=0;E<L.length;E++){var Z=L[E],S=A[Z.type];S&&S.transform&&(X=S.transform(X,{transform:Z,fullTrace:q,fullData:H,layout:C,fullLayout:F,transformIndex:E}))}return X}function R(q){return typeof q=="string"&&q.substr(q.length-2)==="px"&&parseFloat(q)}function I(q){var H=q.margin;if(!q._size){var C=q._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};C.w=Math.round(q.width)-C.l-C.r,C.h=Math.round(q.height)-C.t-C.b}q._pushmargin||(q._pushmargin={}),q._pushmarginIds||(q._pushmarginIds={})}h.supplyDefaults=function(q,H){var C=H&&H.skipUpdateCalc,F=q._fullLayout||{};if(F._skipDefaults)delete F._skipDefaults;else{var L,X=q._fullLayout={},E=q.layout||{},Z=q._fullData||[],S=q._fullData=[],U=q.data||[],P=q.calcdata||[],G=q._context||{};q._transitionData||h.createTransitionData(q),X._dfltTitle={plot:v(q,"Click to enter Plot title"),x:v(q,"Click to enter X axis title"),y:v(q,"Click to enter Y axis title"),colorbar:v(q,"Click to enter Colorscale title"),annotation:v(q,"new text")},X._traceWord=v(q,"trace");var Q=x(q,T);if(X._mapboxAccessToken=G.mapboxAccessToken,F._initialAutoSizeIsDone){var et=F.width,tt=F.height;h.supplyLayoutGlobalDefaults(E,X,Q),E.width||(X.width=et),E.height||(X.height=tt),h.sanitizeMargins(X)}else{h.supplyLayoutGlobalDefaults(E,X,Q);var lt=!E.width||!E.height,ct=X.autosize,mt=G.autosizable;lt&&(ct||mt)?h.plotAutoSize(q,E,X):lt&&h.sanitizeMargins(X),!ct&&lt&&(E.width=X.width,E.height=X.height)}X._d3locale=function(At,Xt){return At.decimal=Xt.charAt(0),At.thousands=Xt.charAt(1),{numberFormat:function(kt){try{kt=o(At).format(a.adjustFormat(kt))}catch{return a.warnBadFormat(kt),a.noFormat}return kt},timeFormat:s(At).utcFormat}}(Q,X.separators),X._extraFormat=x(q,k),X._initialAutoSizeIsDone=!0,X._dataLength=U.length,X._modules=[],X._visibleModules=[],X._basePlotModules=[];var Mt=X._subplots=function(){var At,Xt,kt=n.collectableSubplotTypes,Bt={};if(!kt){kt=[];var Zt=n.subplotsRegistry;for(var Ht in Zt){var ee=Zt[Ht].attr;if(ee&&(kt.push(Ht),Array.isArray(ee)))for(Xt=0;Xt<ee.length;Xt++)a.pushUnique(kt,ee[Xt])}}for(At=0;At<kt.length;At++)Bt[kt[At]]=[];return Bt}(),St=X._splomAxes={x:{},y:{}},_t=X._splomSubplots={};X._splomGridDflt={},X._scatterStackOpts={},X._firstScatter={},X._alignmentOpts={},X._colorAxes={},X._requestRangeslider={},X._traceUids=function(At,Xt){var kt,Bt,Zt=Xt.length,Ht=[];for(kt=0;kt<At.length;kt++){var ee=At[kt]._fullInput;ee!==Bt&&Ht.push(ee),Bt=ee}var qt=Ht.length,vt=new Array(Zt),bt={};function Gt(at,st){vt[st]=at,bt[at]=1}function re(at,st){if(at&&typeof at=="string"&&!bt[at])return Gt(at,st),!0}for(kt=0;kt<Zt;kt++){var xe=Xt[kt].uid;typeof xe=="number"&&(xe=String(xe)),re(xe,kt)||kt<qt&&re(Ht[kt].uid,kt)||Gt(a.randstr(bt),kt)}return vt}(Z,U),X._globalTransforms=(q._context||{}).globalTransforms,h.supplyDataDefaults(U,S,E,X);var Yt=Object.keys(St.x),Et=Object.keys(St.y);if(Yt.length>1&&Et.length>1){for(n.getComponentMethod("grid","sizeDefaults")(E,X),L=0;L<Yt.length;L++)a.pushUnique(Mt.xaxis,Yt[L]);for(L=0;L<Et.length;L++)a.pushUnique(Mt.yaxis,Et[L]);for(var gt in _t)a.pushUnique(Mt.cartesian,gt)}if(X._has=h._hasPlotType.bind(X),Z.length===S.length)for(L=0;L<S.length;L++)b(S[L],Z[L]);h.supplyLayoutModuleDefaults(E,X,S,q._transitionData);var ot=X._visibleModules,nt=[];for(L=0;L<ot.length;L++){var ut=ot[L].crossTraceDefaults;ut&&a.pushUnique(nt,ut)}for(L=0;L<nt.length;L++)nt[L](S,X);X._hasOnlyLargeSploms=X._basePlotModules.length===1&&X._basePlotModules[0].name==="splom"&&Yt.length>15&&Et.length>15&&X.shapes.length===0&&X.images.length===0,h.linkSubplots(S,X,Z,F),h.cleanPlot(S,X,Z,F);var ht=!(!F._has||!F._has("gl2d")),Dt=!(!X._has||!X._has("gl2d")),Tt=!(!F._has||!F._has("cartesian"))||ht,xt=!(!X._has||!X._has("cartesian"))||Dt;Tt&&!xt?F._bgLayer.remove():xt&&!Tt&&(X._shouldCreateBgLayer=!0),F._zoomlayer&&!q._dragging&&p({_fullLayout:F}),function(At,Xt){var kt,Bt=[];Xt.meta&&(kt=Xt._meta={meta:Xt.meta,layout:{meta:Xt.meta}});for(var Zt=0;Zt<At.length;Zt++){var Ht=At[Zt];Ht.meta?Bt[Ht.index]=Ht._meta={meta:Ht.meta}:Xt.meta&&(Ht._meta={meta:Xt.meta}),Xt.meta&&(Ht._meta.layout={meta:Xt.meta})}Bt.length&&(kt||(kt=Xt._meta={}),kt.data=Bt)}(S,X),b(X,F),n.getComponentMethod("colorscale","crossTraceDefaults")(S,X),X._preGUI||(X._preGUI={}),X._tracePreGUI||(X._tracePreGUI={});var Ot,It=X._tracePreGUI,wt={};for(Ot in It)wt[Ot]="old";for(L=0;L<S.length;L++)wt[Ot=S[L]._fullInput.uid]||(It[Ot]={}),wt[Ot]="new";for(Ot in wt)wt[Ot]==="old"&&delete It[Ot];I(X),n.getComponentMethod("rangeslider","makeData")(X),C||P.length!==S.length||h.supplyDefaultsUpdateCalc(P,S)}},h.supplyDefaultsUpdateCalc=function(q,H){for(var C=0;C<H.length;C++){var F=H[C],L=(q[C]||[])[0];if(L&&L.trace){var X=L.trace;if(X._hasCalcTransform){var E,Z,S,U=X._arrayAttrs;for(E=0;E<U.length;E++)Z=U[E],S=a.nestedProperty(X,Z).get().slice(),a.nestedProperty(F,Z).set(S)}L.trace=F}}},h.createTransitionData=function(q){q._transitionData||(q._transitionData={}),q._transitionData._frames||(q._transitionData._frames=[]),q._transitionData._frameHash||(q._transitionData._frameHash={}),q._transitionData._counter||(q._transitionData._counter=0),q._transitionData._interruptCallbacks||(q._transitionData._interruptCallbacks=[])},h._hasPlotType=function(q){var H,C=this._basePlotModules||[];for(H=0;H<C.length;H++)if(C[H].name===q)return!0;var F=this._modules||[];for(H=0;H<F.length;H++){var L=F[H].name;if(L===q)return!0;var X=n.modules[L];if(X&&X.categories[q])return!0}return!1},h.cleanPlot=function(q,H,C,F){var L,X,E=F._basePlotModules||[];for(L=0;L<E.length;L++){var Z=E[L];Z.clean&&Z.clean(q,H,C,F)}var S=F._has&&F._has("gl"),U=H._has&&H._has("gl");S&&!U&&F._glcontainer!==void 0&&(F._glcontainer.selectAll(".gl-canvas").remove(),F._glcontainer.selectAll(".no-webgl").remove(),F._glcanvas=null);var P=!!F._infolayer;t:for(L=0;L<C.length;L++){var G=C[L].uid;for(X=0;X<q.length;X++)if(G===q[X].uid)continue t;P&&F._infolayer.select(".cb"+G).remove()}},h.linkSubplots=function(q,H,C,F){var L,X,E=F._plots||{},Z=H._plots={},S=H._subplots,U={_fullData:q,_fullLayout:H},P=S.cartesian.concat(S.gl2d||[]);for(L=0;L<P.length;L++){var G,Q=P[L],et=E[Q],tt=d.getFromId(U,Q,"x"),lt=d.getFromId(U,Q,"y");for(et?G=Z[Q]=et:(G=Z[Q]={}).id=Q,tt._counterAxes.push(lt._id),lt._counterAxes.push(tt._id),tt._subplotsWith.push(Q),lt._subplotsWith.push(Q),G.xaxis=tt,G.yaxis=lt,G._hasClipOnAxisFalse=!1,X=0;X<q.length;X++){var ct=q[X];if(ct.xaxis===G.xaxis._id&&ct.yaxis===G.yaxis._id&&ct.cliponaxis===!1){G._hasClipOnAxisFalse=!0;break}}}var mt,Mt=d.list(U,null,!0);for(L=0;L<Mt.length;L++){var St=null;(mt=Mt[L]).overlaying&&(St=d.getFromId(U,mt.overlaying))&&St.overlaying&&(mt.overlaying=!1,St=null),mt._mainAxis=St||mt,St&&(mt.domain=St.domain.slice()),mt._anchorAxis=mt.anchor==="free"?null:d.getFromId(U,mt.anchor)}for(L=0;L<Mt.length;L++)if((mt=Mt[L])._counterAxes.sort(d.idSort),mt._subplotsWith.sort(a.subplotSort),mt._mainSubplot=D(mt,H),mt._counterAxes.length&&(mt.spikemode&&mt.spikemode.indexOf("across")!==-1||mt.automargin&&mt.mirror&&mt.anchor!=="free"||n.getComponentMethod("rangeslider","isVisible")(mt))){var _t=1,Yt=0;for(X=0;X<mt._counterAxes.length;X++){var Et=d.getFromId(U,mt._counterAxes[X]);_t=Math.min(_t,Et.domain[0]),Yt=Math.max(Yt,Et.domain[1])}_t<Yt&&(mt._counterDomainMin=_t,mt._counterDomainMax=Yt)}},h.clearExpandedTraceDefaultColors=function(q){var H,C,F;for(C=[],(H=q._module._colorAttrs)||(q._module._colorAttrs=H=[],l.crawl(q._module.attributes,function(L,X,E,Z){C[Z]=X,C.length=Z+1,L.valType==="color"&&L.dflt===void 0&&H.push(C.join("."))})),F=0;F<H.length;F++)a.nestedProperty(q,"_input."+H[F]).get()||a.nestedProperty(q,H[F]).set(null)},h.supplyDataDefaults=function(q,H,C,F){var L,X,E,Z=F._modules,S=F._visibleModules,U=F._basePlotModules,P=0,G=0;function Q(gt){H.push(gt);var ot=gt._module;ot&&(a.pushUnique(Z,ot),gt.visible===!0&&a.pushUnique(S,ot),a.pushUnique(U,gt._module.basePlotModule),P++,gt._input.visible!==!1&&G++)}F._transformModules=[];var et={},tt=[],lt=(C.template||{}).data||{},ct=i.traceTemplater(lt);for(L=0;L<q.length;L++){if(E=q[L],(X=ct.newTrace(E)).uid=F._traceUids[L],h.supplyTraceDefaults(E,X,G,F,L),X.index=L,X._input=E,X._expandedIndex=P,X.transforms&&X.transforms.length)for(var mt=E.visible!==!1&&X.visible===!1,Mt=g(X,H,C,F),St=0;St<Mt.length;St++){var _t=Mt[St],Yt={_template:X._template,type:X.type,uid:X.uid+St};mt&&_t.visible===!1&&delete _t.visible,h.supplyTraceDefaults(_t,Yt,P,F,L),b(Yt,_t),Yt.index=L,Yt._input=E,Yt._fullInput=X,Yt._expandedIndex=P,Yt._expandedInput=_t,Q(Yt)}else X._fullInput=X,X._expandedInput=X,Q(X);n.traceIs(X,"carpetAxis")&&(et[X.carpet]=X),n.traceIs(X,"carpetDependent")&&tt.push(L)}for(L=0;L<tt.length;L++)if((X=H[tt[L]]).visible){var Et=et[X.carpet];X._carpet=Et,Et&&Et.visible?(X.xaxis=Et.xaxis,X.yaxis=Et.yaxis):X.visible=!1}},h.supplyAnimationDefaults=function(q){var H;q=q||{};var C={};function F(L,X){return a.coerce(q||{},C,m,L,X)}if(F("mode"),F("direction"),F("fromcurrent"),Array.isArray(q.frame))for(C.frame=[],H=0;H<q.frame.length;H++)C.frame[H]=h.supplyAnimationFrameDefaults(q.frame[H]||{});else C.frame=h.supplyAnimationFrameDefaults(q.frame||{});if(Array.isArray(q.transition))for(C.transition=[],H=0;H<q.transition.length;H++)C.transition[H]=h.supplyAnimationTransitionDefaults(q.transition[H]||{});else C.transition=h.supplyAnimationTransitionDefaults(q.transition||{});return C},h.supplyAnimationFrameDefaults=function(q){var H={};function C(F,L){return a.coerce(q||{},H,m.frame,F,L)}return C("duration"),C("redraw"),H},h.supplyAnimationTransitionDefaults=function(q){var H={};function C(F,L){return a.coerce(q||{},H,m.transition,F,L)}return C("duration"),C("easing"),H},h.supplyFrameDefaults=function(q){var H={};function C(F,L){return a.coerce(q,H,M,F,L)}return C("group"),C("name"),C("traces"),C("baseframe"),C("data"),C("layout"),H},h.supplyTraceDefaults=function(q,H,C,F,L){var X,E=F.colorway||r.defaults,Z=E[C%E.length];function S(Mt,St){return a.coerce(q,H,h.attributes,Mt,St)}var U=S("visible");S("type"),S("name",F._traceWord+" "+L),S("uirevision",F.uirevision);var P=h.getModule(H);if(H._module=P,P){var G=P.basePlotModule,Q=G.attr,et=G.attributes;if(Q&&et){var tt=F._subplots,lt="";if(U||G.name!=="gl2d"){if(Array.isArray(Q))for(X=0;X<Q.length;X++){var ct=Q[X],mt=a.coerce(q,H,et,ct);tt[ct]&&a.pushUnique(tt[ct],mt),lt+=mt}else lt=a.coerce(q,H,et,Q);tt[G.name]&&a.pushUnique(tt[G.name],lt)}}}return U&&(S("customdata"),S("ids"),S("meta"),n.traceIs(H,"showLegend")?(a.coerce(q,H,P.attributes.showlegend?P.attributes:h.attributes,"showlegend"),S("legendgroup"),S("legendgrouptitle.text")&&a.coerceFont(S,"legendgrouptitle.font",a.extendFlat({},F.font,{size:Math.round(1.1*F.font.size)})),S("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,P&&P.supplyDefaults(q,H,Z,F),n.traceIs(H,"noOpacity")||S("opacity"),n.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),n.traceIs(H,"noHover")||(H.hovertemplate||a.coerceHoverinfo(q,H,F),H.type!=="parcats"&&n.getComponentMethod("fx","supplyDefaults")(q,H,Z,F)),P&&P.selectPoints&&S("selectedpoints"),h.supplyTransformDefaults(q,H,F)),H},h.hasMakesDataTransform=z,h.supplyTransformDefaults=function(q,H,C){if(H._length||z(q)){var F=C._globalTransforms||[],L=C._transformModules||[];if(Array.isArray(q.transforms)||F.length!==0)for(var X=q.transforms||[],E=F.concat(X),Z=H.transforms=[],S=0;S<E.length;S++){var U,P=E[S],G=P.type,Q=A[G],et=!(P._module&&P._module===Q),tt=Q&&typeof Q.transform=="function";Q||a.warn("Unrecognized transform type "+G+"."),Q&&Q.supplyDefaults&&(et||tt)?((U=Q.supplyDefaults(P,H,C,q)).type=G,U._module=Q,a.pushUnique(L,Q)):U=a.extendFlat({},P),Z.push(U)}}},h.supplyLayoutGlobalDefaults=function(q,H,C){function F(Z,S){return a.coerce(q,H,h.layoutAttributes,Z,S)}var L=q.template;a.isPlainObject(L)&&(H.template=L,H._template=L.layout,H._dataTemplate=L.data),F("autotypenumbers");var X=a.coerceFont(F,"font");F("title.text",H._dfltTitle.plot),a.coerceFont(F,"title.font",{family:X.family,size:Math.round(1.4*X.size),color:X.color}),F("title.xref"),F("title.yref"),F("title.x"),F("title.y"),F("title.xanchor"),F("title.yanchor"),F("title.pad.t"),F("title.pad.r"),F("title.pad.b"),F("title.pad.l"),F("uniformtext.mode")&&F("uniformtext.minsize"),F("autosize",!(q.width&&q.height)),F("width"),F("height"),F("margin.l"),F("margin.r"),F("margin.t"),F("margin.b"),F("margin.pad"),F("margin.autoexpand"),q.width&&q.height&&h.sanitizeMargins(H),n.getComponentMethod("grid","sizeDefaults")(q,H),F("paper_bgcolor"),F("separators",C.decimal+C.thousands),F("hidesources"),F("colorway"),F("datarevision");var E=F("uirevision");F("editrevision",E),F("selectionrevision",E),n.getComponentMethod("modebar","supplyLayoutDefaults")(q,H),n.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(q,H,F),F("meta"),a.isPlainObject(q.transition)&&(F("transition.duration"),F("transition.easing"),F("transition.ordering")),n.getComponentMethod("calendars","handleDefaults")(q,H,"calendar"),n.getComponentMethod("fx","supplyLayoutGlobalDefaults")(q,H,F)},h.plotAutoSize=function(q,H,C){var F,L,X=q._context||{},E=X.frameMargins,Z=a.isPlotDiv(q);if(Z&&q.emit("plotly_autosize"),X.fillFrame)F=window.innerWidth,L=window.innerHeight,document.body.style.overflow="hidden";else{var S=Z?window.getComputedStyle(q):{};if(F=R(S.width)||R(S.maxWidth)||C.width,L=R(S.height)||R(S.maxHeight)||C.height,e(E)&&E>0){var U=1-2*E;F=Math.round(U*F),L=Math.round(U*L)}}var P=h.layoutAttributes.width.min,G=h.layoutAttributes.height.min;F<P&&(F=P),L<G&&(L=G);var Q=!H.width&&Math.abs(C.width-F)>1,et=!H.height&&Math.abs(C.height-L)>1;(et||Q)&&(Q&&(C.width=F),et&&(C.height=L)),q._initialAutoSize||(q._initialAutoSize={width:F,height:L}),h.sanitizeMargins(C)},h.supplyLayoutModuleDefaults=function(q,H,C,F){var L,X,E,Z=n.componentsRegistry,S=H._basePlotModules,U=n.subplotsRegistry.cartesian;for(L in Z)(E=Z[L]).includeBasePlot&&E.includeBasePlot(q,H);for(var P in S.length||S.push(U),H._has("cartesian")&&(n.getComponentMethod("grid","contentDefaults")(q,H),U.finalizeSubplots(q,H)),H._subplots)H._subplots[P].sort(a.subplotSort);for(X=0;X<S.length;X++)(E=S[X]).supplyLayoutDefaults&&E.supplyLayoutDefaults(q,H,C);var G=H._modules;for(X=0;X<G.length;X++)(E=G[X]).supplyLayoutDefaults&&E.supplyLayoutDefaults(q,H,C);var Q=H._transformModules;for(X=0;X<Q.length;X++)(E=Q[X]).supplyLayoutDefaults&&E.supplyLayoutDefaults(q,H,C,F);for(L in Z)(E=Z[L]).supplyLayoutDefaults&&E.supplyLayoutDefaults(q,H,C)},h.purge=function(q){var H=q._fullLayout||{};H._glcontainer!==void 0&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),q._transitionData&&(q._transitionData._interruptCallbacks&&(q._transitionData._interruptCallbacks.length=0),q._transitionData._animationRaf&&window.cancelAnimationFrame(q._transitionData._animationRaf)),a.clearThrottle(),a.clearResponsive(q),delete q.data,delete q.layout,delete q._fullData,delete q._fullLayout,delete q.calcdata,delete q.empty,delete q.fid,delete q.undoqueue,delete q.undonum,delete q.autoplay,delete q.changed,delete q._promises,delete q._redrawTimer,delete q._hmlumcount,delete q._hmpixcount,delete q._transitionData,delete q._transitioning,delete q._initialAutoSize,delete q._transitioningWithDuration,delete q._dragging,delete q._dragged,delete q._dragdata,delete q._hoverdata,delete q._snapshotInProgress,delete q._editing,delete q._mouseDownTime,delete q._legendMouseDownTime,q.removeAllListeners&&q.removeAllListeners()},h.style=function(q){var H,C=q._fullLayout._visibleModules,F=[];for(H=0;H<C.length;H++){var L=C[H];L.style&&a.pushUnique(F,L.style)}for(H=0;H<F.length;H++)F[H](q)},h.sanitizeMargins=function(q){if(q&&q.margin){var H,C=q.width,F=q.height,L=q.margin,X=C-(L.l+L.r),E=F-(L.t+L.b);X<0&&(H=(C-1)/(L.l+L.r),L.l=Math.floor(H*L.l),L.r=Math.floor(H*L.r)),E<0&&(H=(F-1)/(L.t+L.b),L.t=Math.floor(H*L.t),L.b=Math.floor(H*L.b))}},h.clearAutoMarginIds=function(q){q._fullLayout._pushmarginIds={}},h.allowAutoMargin=function(q,H){q._fullLayout._pushmarginIds[H]=1},h.autoMargin=function(q,H,C){var F=q._fullLayout,L=F.width,X=F.height,E=F.margin,Z=a.constrain(L-E.l-E.r,2,64),S=a.constrain(X-E.t-E.b,2,64),U=Math.max(0,L-Z),P=Math.max(0,X-S),G=F._pushmargin,Q=F._pushmarginIds;if(E.autoexpand!==!1){if(C){var et=C.pad;if(et===void 0&&(et=Math.min(12,E.l,E.r,E.t,E.b)),U){var tt=(C.l+C.r)/U;tt>1&&(C.l/=tt,C.r/=tt)}if(P){var lt=(C.t+C.b)/P;lt>1&&(C.t/=lt,C.b/=lt)}var ct=C.xl!==void 0?C.xl:C.x,mt=C.xr!==void 0?C.xr:C.x,Mt=C.yt!==void 0?C.yt:C.y,St=C.yb!==void 0?C.yb:C.y;G[H]={l:{val:ct,size:C.l+et},r:{val:mt,size:C.r+et},b:{val:St,size:C.b+et},t:{val:Mt,size:C.t+et}},Q[H]=1}else delete G[H],delete Q[H];if(!F._replotting)return h.doAutoMargin(q)}},h.doAutoMargin=function(q){var H=q._fullLayout,C=H.width,F=H.height;H._size||(H._size={}),I(H);var L=H._size,X=H.margin,E=a.extendFlat({},L),Z=X.l,S=X.r,U=X.t,P=X.b,G=H._pushmargin,Q=H._pushmarginIds;if(H.margin.autoexpand!==!1){for(var et in G)Q[et]||delete G[et];for(var tt in G.base={l:{val:0,size:Z},r:{val:1,size:S},t:{val:1,size:U},b:{val:0,size:P}},G){var lt=G[tt].l||{},ct=G[tt].b||{},mt=lt.val,Mt=lt.size,St=ct.val,_t=ct.size;for(var Yt in G){if(e(Mt)&&G[Yt].r){var Et=G[Yt].r.val,gt=G[Yt].r.size;if(Et>mt){var ot=(Mt*Et+(gt-C)*mt)/(Et-mt),nt=(gt*(1-mt)+(Mt-C)*(1-Et))/(Et-mt);ot+nt>Z+S&&(Z=ot,S=nt)}}if(e(_t)&&G[Yt].t){var ut=G[Yt].t.val,ht=G[Yt].t.size;if(ut>St){var Dt=(_t*ut+(ht-F)*St)/(ut-St),Tt=(ht*(1-St)+(_t-F)*(1-ut))/(ut-St);Dt+Tt>P+U&&(P=Dt,U=Tt)}}}}}var xt=a.constrain(C-X.l-X.r,2,64),Ot=a.constrain(F-X.t-X.b,2,64),It=Math.max(0,C-xt),wt=Math.max(0,F-Ot);if(It){var At=(Z+S)/It;At>1&&(Z/=At,S/=At)}if(wt){var Xt=(P+U)/wt;Xt>1&&(P/=Xt,U/=Xt)}if(L.l=Math.round(Z),L.r=Math.round(S),L.t=Math.round(U),L.b=Math.round(P),L.p=Math.round(X.pad),L.w=Math.round(C)-L.l-L.r,L.h=Math.round(F)-L.t-L.b,!H._replotting&&h.didMarginChange(E,L)){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var kt=3*(1+Object.keys(Q).length);if(H._redrawFromAutoMarginCount<kt)return n.call("_doPlot",q);H._size=E,a.warn("Too many auto-margin redraws.")}(function(Bt){var Zt=d.list(Bt,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ht){for(var ee=0;ee<Zt.length;ee++){var qt=Zt[ee][Ht];qt&&qt()}})})(q)};var j=["l","r","t","b","p","w","h"];function Y(q,H,C){var F=!1,L=[h.previousPromises,function(){if(q._transitionData)return q._transitioning=!1,function(E){var Z=Promise.resolve();if(!E)return Z;for(;E.length;)Z=Z.then(E.shift());return Z}(q._transitionData._interruptCallbacks)},C.prepareFn,h.rehover,function(){return q.emit("plotly_transitioning",[]),new Promise(function(E){q._transitioning=!0,H.duration>0&&(q._transitioningWithDuration=!0),q._transitionData._interruptCallbacks.push(function(){F=!0}),C.redraw&&q._transitionData._interruptCallbacks.push(function(){return n.call("redraw",q)}),q._transitionData._interruptCallbacks.push(function(){q.emit("plotly_transitioninterrupted",[])});var Z=0,S=0;function U(){return Z++,function(){S++,F||S!==Z||function(P){q._transitionData&&(function(G){if(G)for(;G.length;)G.shift()}(q._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(C.redraw)return n.call("redraw",q)}).then(function(){q._transitioning=!1,q._transitioningWithDuration=!1,q.emit("plotly_transitioned",[])}).then(P))}(E)}}C.runFn(U),setTimeout(U())})}],X=a.syncOrAsync(L,q);return X&&X.then||(X=Promise.resolve()),X.then(function(){return q})}h.didMarginChange=function(q,H){for(var C=0;C<j.length;C++){var F=j[C],L=q[F],X=H[F];if(!e(L)||Math.abs(X-L)>1)return!0}return!1},h.graphJson=function(q,H,C,F,L,X){(L&&H&&!q._fullData||L&&!H&&!q._fullLayout)&&h.supplyDefaults(q);var E=L?q._fullData:q.data,Z=L?q._fullLayout:q.layout,S=(q._transitionData||{})._frames;function U(Q,et){if(typeof Q=="function")return et?"_function_":null;if(a.isPlainObject(Q)){var tt,lt={};return Object.keys(Q).sort().forEach(function(ct){if(["_","["].indexOf(ct.charAt(0))===-1)if(typeof Q[ct]!="function"){if(C==="keepdata"){if(ct.substr(ct.length-3)==="src")return}else if(C==="keepstream"){if(typeof(tt=Q[ct+"src"])=="string"&&tt.indexOf(":")>0&&!a.isPlainObject(Q.stream))return}else if(C!=="keepall"&&typeof(tt=Q[ct+"src"])=="string"&&tt.indexOf(":")>0)return;lt[ct]=U(Q[ct],et)}else et&&(lt[ct]="_function")}),lt}return Array.isArray(Q)?Q.map(function(ct){return U(ct,et)}):a.isTypedArray(Q)?a.simpleMap(Q,a.identity):a.isJSDate(Q)?a.ms2DateTimeLocal(+Q):Q}var P={data:(E||[]).map(function(Q){var et=U(Q);return H&&delete et.fit,et})};if(!H&&(P.layout=U(Z),L)){var G=Z._size;P.layout.computed={margin:{b:G.b,l:G.l,r:G.r,t:G.t}}}return S&&(P.frames=U(S)),X&&(P.config=U(q._context,!0)),F==="object"?P:JSON.stringify(P)},h.modifyFrames=function(q,H){var C,F,L,X=q._transitionData._frames,E=q._transitionData._frameHash;for(C=0;C<H.length;C++)switch((F=H[C]).type){case"replace":L=F.value;var Z=(X[F.index]||{}).name,S=L.name;X[F.index]=E[S]=L,S!==Z&&(delete E[Z],E[S]=L);break;case"insert":E[(L=F.value).name]=L,X.splice(F.index,0,L);break;case"delete":delete E[(L=X[F.index]).name],X.splice(F.index,1)}return Promise.resolve()},h.computeFrame=function(q,H){var C,F,L,X,E=q._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var Z=E[H.toString()];if(!Z)return!1;for(var S=[Z],U=[Z.name];Z.baseframe&&(Z=E[Z.baseframe.toString()])&&U.indexOf(Z.name)===-1;)S.push(Z),U.push(Z.name);for(var P={};Z=S.pop();)if(Z.layout&&(P.layout=h.extendLayout(P.layout,Z.layout)),Z.data){if(P.data||(P.data=[]),!(F=Z.traces))for(F=[],C=0;C<Z.data.length;C++)F[C]=C;for(P.traces||(P.traces=[]),C=0;C<Z.data.length;C++)(L=F[C])!=null&&((X=P.traces.indexOf(L))===-1&&(X=P.data.length,P.traces[X]=L),P.data[X]=h.extendTrace(P.data[X],Z.data[C]))}return P},h.recomputeFrameHash=function(q){for(var H=q._transitionData._frameHash={},C=q._transitionData._frames,F=0;F<C.length;F++){var L=C[F];L&&L.name&&(H[L.name]=L)}},h.extendObjectWithContainers=function(q,H,C){var F,L,X,E,Z,S,U,P=a.extendDeepNoArrays({},H||{}),G=a.expandObjectPaths(P),Q={};if(C&&C.length)for(X=0;X<C.length;X++)(L=(F=a.nestedProperty(G,C[X])).get())===void 0?a.nestedProperty(Q,C[X]).set(null):(F.set(null),a.nestedProperty(Q,C[X]).set(L));if(q=a.extendDeepNoArrays(q||{},G),C&&C.length){for(X=0;X<C.length;X++)if(S=a.nestedProperty(Q,C[X]).get()){for(U=(Z=a.nestedProperty(q,C[X])).get(),Array.isArray(U)||(U=[],Z.set(U)),E=0;E<S.length;E++){var et=S[E];U[E]=et===null?null:h.extendObjectWithContainers(U[E],et)}Z.set(U)}}return q},h.dataArrayContainers=["transforms","dimensions"],h.layoutArrayContainers=n.layoutArrayContainers,h.extendTrace=function(q,H){return h.extendObjectWithContainers(q,H,h.dataArrayContainers)},h.extendLayout=function(q,H){return h.extendObjectWithContainers(q,H,h.layoutArrayContainers)},h.transition=function(q,H,C,F,L,X){var E={redraw:L.redraw},Z={},S=[];return E.prepareFn=function(){for(var U=Array.isArray(H)?H.length:0,P=F.slice(0,U),G=0;G<P.length;G++){var Q=P[G],et=q._fullData[Q]._module;if(et){if(et.animatable){var tt=et.basePlotModule.name;Z[tt]||(Z[tt]=[]),Z[tt].push(Q)}q.data[P[G]]=h.extendTrace(q.data[P[G]],H[G])}}var lt=a.expandObjectPaths(a.extendDeepNoArrays({},C)),ct=/^[xy]axis[0-9]*$/;for(var mt in lt)ct.test(mt)&&delete lt[mt].range;h.extendLayout(q.layout,lt),delete q.calcdata,h.supplyDefaults(q),h.doCalcdata(q);var Mt=a.expandObjectPaths(C);if(Mt){var St=q._fullLayout._plots;for(var _t in St){var Yt=St[_t],Et=Yt.xaxis,gt=Yt.yaxis,ot=Et.range.slice(),nt=gt.range.slice(),ut=null,ht=null,Dt=null,Tt=null;Array.isArray(Mt[Et._name+".range"])?ut=Mt[Et._name+".range"].slice():Array.isArray((Mt[Et._name]||{}).range)&&(ut=Mt[Et._name].range.slice()),Array.isArray(Mt[gt._name+".range"])?ht=Mt[gt._name+".range"].slice():Array.isArray((Mt[gt._name]||{}).range)&&(ht=Mt[gt._name].range.slice()),ot&&ut&&(Et.r2l(ot[0])!==Et.r2l(ut[0])||Et.r2l(ot[1])!==Et.r2l(ut[1]))&&(Dt={xr0:ot,xr1:ut}),nt&&ht&&(gt.r2l(nt[0])!==gt.r2l(ht[0])||gt.r2l(nt[1])!==gt.r2l(ht[1]))&&(Tt={yr0:nt,yr1:ht}),(Dt||Tt)&&S.push(a.extendFlat({plotinfo:Yt},Dt,Tt))}}return Promise.resolve()},E.runFn=function(U){var P,G,Q=q._fullLayout._basePlotModules,et=S.length;if(C)for(G=0;G<Q.length;G++)Q[G].transitionAxes&&Q[G].transitionAxes(q,S,X,U);for(var tt in et?((P=a.extendFlat({},X)).duration=0,delete Z.cartesian):P=X,Z){var lt=Z[tt];q._fullData[lt[0]]._module.basePlotModule.plot(q,lt,P,U)}},Y(q,X,E)},h.transitionFromReact=function(q,H,C,F){var L=q._fullLayout,X=L.transition,E={},Z=[];return E.prepareFn=function(){var S=L._plots;for(var U in E.redraw=!1,H.anim==="some"&&(E.redraw=!0),C.anim==="some"&&(E.redraw=!0),S){var P=S[U],G=P.xaxis,Q=P.yaxis,et=F[G._name].range.slice(),tt=F[Q._name].range.slice(),lt=G.range.slice(),ct=Q.range.slice();G.setScale(),Q.setScale();var mt=null,Mt=null;G.r2l(et[0])===G.r2l(lt[0])&&G.r2l(et[1])===G.r2l(lt[1])||(mt={xr0:et,xr1:lt}),Q.r2l(tt[0])===Q.r2l(ct[0])&&Q.r2l(tt[1])===Q.r2l(ct[1])||(Mt={yr0:tt,yr1:ct}),(mt||Mt)&&Z.push(a.extendFlat({plotinfo:P},mt,Mt))}return Promise.resolve()},E.runFn=function(S){for(var U,P,G,Q=q._fullData,et=q._fullLayout._basePlotModules,tt=[],lt=0;lt<Q.length;lt++)tt.push(lt);function ct(){if(q._fullLayout)for(var Mt=0;Mt<et.length;Mt++)et[Mt].transitionAxes&&et[Mt].transitionAxes(q,Z,U,S)}function mt(){if(q._fullLayout)for(var Mt=0;Mt<et.length;Mt++)et[Mt].plot(q,G,P,S)}Z.length&&H.anim?X.ordering==="traces first"?(U=a.extendFlat({},X,{duration:0}),G=tt,P=X,setTimeout(ct,X.duration),mt()):(U=X,G=null,P=a.extendFlat({},X,{duration:0}),setTimeout(mt,U.duration),ct()):Z.length?(U=X,ct()):H.anim&&(G=tt,P=X,mt())},Y(q,X,E)},h.doCalcdata=function(q,H){var C,F,L,X,E=d.list(q),Z=q._fullData,S=q._fullLayout,U=new Array(Z.length),P=(q.calcdata||[]).slice();for(q.calcdata=U,S._numBoxes=0,S._numViolins=0,S._violinScaleGroupStats={},q._hmpixcount=0,q._hmlumcount=0,S._piecolormap={},S._sunburstcolormap={},S._treemapcolormap={},S._iciclecolormap={},S._funnelareacolormap={},L=0;L<Z.length;L++)Array.isArray(H)&&H.indexOf(L)===-1&&(U[L]=P[L]);for(L=0;L<Z.length;L++)(C=Z[L])._arrayAttrs=l.findArrayAttributes(C),C._extremes={};var G=S._subplots.polar||[];for(L=0;L<G.length;L++)E.push(S[G[L]].radialaxis,S[G[L]].angularaxis);for(var Q in S._colorAxes){var et=S[Q];et.cauto!==!1&&(delete et.cmin,delete et.cmax)}var tt=!1;function lt(Mt){if(C=Z[Mt],F=C._module,C.visible===!0&&C.transforms){if(F&&F.calc){var St=F.calc(q,C);St[0]&&St[0].t&&St[0].t._scene&&delete St[0].t._scene.dirty}for(X=0;X<C.transforms.length;X++){var _t=C.transforms[X];(F=A[_t.type])&&F.calcTransform&&(C._hasCalcTransform=!0,tt=!0,F.calcTransform(q,C,_t))}}}function ct(Mt,St){if(C=Z[Mt],!!(F=C._module).isContainer===St){var _t=[];if(C.visible===!0&&C._length!==0){delete C._indexToPoints;var Yt=C.transforms||[];for(X=Yt.length-1;X>=0;X--)if(Yt[X].enabled){C._indexToPoints=Yt[X]._indexToPoints;break}F&&F.calc&&(_t=F.calc(q,C))}Array.isArray(_t)&&_t[0]||(_t=[{x:u,y:u}]),_t[0].t||(_t[0].t={}),_t[0].trace=C,U[Mt]=_t}}for($(E,Z,S),L=0;L<Z.length;L++)ct(L,!0);for(L=0;L<Z.length;L++)lt(L);for(tt&&$(E,Z,S),L=0;L<Z.length;L++)ct(L,!0);for(L=0;L<Z.length;L++)ct(L,!1);rt(q);var mt=function(Mt,St){var _t,Yt,Et,gt,ot,nt=[];function ut(Ct,Nt,Pt){var jt=Nt._id.charAt(0);if(Ct==="histogram2dcontour"){var $t=Nt._counterAxes[0],ne=d.getFromId(St,$t),se=jt==="x"||$t==="x"&&ne.type==="category",Wt=jt==="y"||$t==="y"&&ne.type==="category";return function(ae,ce){return ae===0||ce===0||se&&ae===Pt[ce].length-1||Wt&&ce===Pt.length-1?-1:(jt==="y"?ce:ae)-1}}return function(ae,ce){return jt==="y"?ce:ae}}var ht={min:function(Ct){return a.aggNums(Math.min,null,Ct)},max:function(Ct){return a.aggNums(Math.max,null,Ct)},sum:function(Ct){return a.aggNums(function(Nt,Pt){return Nt+Pt},null,Ct)},total:function(Ct){return a.aggNums(function(Nt,Pt){return Nt+Pt},null,Ct)},mean:function(Ct){return a.mean(Ct)},median:function(Ct){return a.median(Ct)}};for(_t=0;_t<Mt.length;_t++){var Dt=Mt[_t];if(Dt.type==="category"){var Tt=Dt.categoryorder.match(B);if(Tt){var xt=Tt[1],Ot=Tt[2],It=Dt._id.charAt(0),wt=It==="x",At=[];for(Yt=0;Yt<Dt._categories.length;Yt++)At.push([Dt._categories[Yt],[]]);for(Yt=0;Yt<Dt._traceIndices.length;Yt++){var Xt=Dt._traceIndices[Yt],kt=St._fullData[Xt];if(kt.visible===!0){var Bt=kt.type;n.traceIs(kt,"histogram")&&(delete kt._xautoBinFinished,delete kt._yautoBinFinished);var Zt=Bt==="splom",Ht=Bt==="scattergl",ee=St.calcdata[Xt];for(Et=0;Et<ee.length;Et++){var qt,vt,bt=ee[Et];if(Zt){var Gt=kt._axesDim[Dt._id];if(!wt){var re=kt._diag[Gt][0];re&&(Dt=St._fullLayout[d.id2name(re)])}var xe=bt.trace.dimensions[Gt].values;for(gt=0;gt<xe.length;gt++)for(qt=Dt._categoriesMap[xe[gt]],ot=0;ot<bt.trace.dimensions.length;ot++)if(ot!==Gt){var at=bt.trace.dimensions[ot];At[qt][1].push(at.values[gt])}}else if(Ht){for(gt=0;gt<bt.t.x.length;gt++)wt?(qt=bt.t.x[gt],vt=bt.t.y[gt]):(qt=bt.t.y[gt],vt=bt.t.x[gt]),At[qt][1].push(vt);bt.t&&bt.t._scene&&delete bt.t._scene.dirty}else if(bt.hasOwnProperty("z")){vt=bt.z;var st=ut(kt.type,Dt,vt);for(gt=0;gt<vt.length;gt++)for(ot=0;ot<vt[gt].length;ot++)(qt=st(ot,gt))+1&&At[qt][1].push(vt[gt][ot])}else for((qt=bt.p)===void 0&&(qt=bt[It]),(vt=bt.s)===void 0&&(vt=bt.v),vt===void 0&&(vt=wt?bt.y:bt.x),Array.isArray(vt)||(vt=vt===void 0?[]:[vt]),gt=0;gt<vt.length;gt++)At[qt][1].push(vt[gt])}}}Dt._categoriesValue=At;var Lt=[];for(Yt=0;Yt<At.length;Yt++)Lt.push([At[Yt][0],ht[xt](At[Yt][1])]);Lt.sort(function(Ct,Nt){return Ct[1]-Nt[1]}),Dt._categoriesAggregatedValue=Lt,Dt._initialCategories=Lt.map(function(Ct){return Ct[0]}),Ot==="descending"&&Dt._initialCategories.reverse(),nt=nt.concat(Dt.sortByInitialCategories())}}}return nt}(E,q);if(mt.length){for(S._numBoxes=0,S._numViolins=0,L=0;L<mt.length;L++)ct(mt[L],!0);for(L=0;L<mt.length;L++)ct(mt[L],!1);rt(q)}n.getComponentMethod("fx","calc")(q),n.getComponentMethod("errorbars","calc")(q)};var B=/(total|sum|min|max|mean|median) (ascending|descending)/;function $(q,H,C){var F={};function L(S){S.clearCalc(),S.type==="multicategory"&&S.setupMultiCategory(H),F[S._id]=1}a.simpleMap(q,L);for(var X=C._axisMatchGroups||[],E=0;E<X.length;E++)for(var Z in X[E])F[Z]||L(C[d.id2name(Z)])}function rt(q){var H,C,F,L=q._fullLayout,X=L._visibleModules,E={};for(C=0;C<X.length;C++){var Z=X[C],S=Z.crossTraceCalc;if(S){var U=Z.basePlotModule.name;E[U]?a.pushUnique(E[U],S):E[U]=[S]}}for(F in E){var P=E[F],G=L._subplots[F];if(Array.isArray(G))for(H=0;H<G.length;H++){var Q=G[H],et=F==="cartesian"?L._plots[Q]:L[Q];for(C=0;C<P.length;C++)P[C](q,et,Q)}else for(C=0;C<P.length;C++)P[C](q)}}h.rehover=function(q){q._fullLayout._rehover&&q._fullLayout._rehover()},h.redrag=function(q){q._fullLayout._redrag&&q._fullLayout._redrag()},h.generalUpdatePerTraceModule=function(q,H,C,F){var L,X=H.traceHash,E={};for(L=0;L<C.length;L++){var Z=C[L],S=Z[0].trace;S.visible&&(E[S.type]=E[S.type]||[],E[S.type].push(Z))}for(var U in X)if(!E[U]){var P=X[U][0];P[0].trace.visible=!1,E[U]=[P]}for(var G in E){var Q=E[G];Q[0][0].trace._module.plot(q,H,a.filterVisible(Q),F)}H.traceHash=E},h.plotBasePlot=function(q,H,C,F,L){var X=n.getModule(q),E=w(H.calcdata,X)[0];X.plot(H,E,F,L)},h.cleanBasePlot=function(q,H,C,F,L){var X=L._has&&L._has(q),E=C._has&&C._has(q);X&&!E&&L["_"+q+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":310,"../registry":316,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":306,"./font_attributes":308,"./frame_attributes":309,"./layout_attributes":312,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],315:[function(c,J,N){var t=c("../constants/docs");t.FORMAT_LINK,t.DATE_FORMAT_LINK;function s(o){var e=o.description?" "+o.description:"",n=o.keys||[];if(n.length>0){for(var l=[],i=0;i<n.length;i++)l[i]="`"+n[i]+"`";e+="Finally, the template string has access to ",e=n.length===1?"variable "+l[0]:"variables "+l.slice(0,-1).join(", ")+" and "+l.slice(-1)+"."}return e}N.hovertemplateAttrs=function(o,e){o=o||{},s(e=e||{});var n={valType:"string",dflt:"",editType:o.editType||"none"};return o.arrayOk!==!1&&(n.arrayOk=!0),n},N.texttemplateAttrs=function(o,e){o=o||{},s(e=e||{});var n={valType:"string",dflt:"",editType:o.editType||"calc"};return o.arrayOk!==!1&&(n.arrayOk=!0),n}},{"../constants/docs":209}],316:[function(c,J,N){var t=c("./lib/loggers"),s=c("./lib/noop"),o=c("./lib/push_unique"),e=c("./lib/is_plain_object"),n=c("./lib/dom").addStyleRule,l=c("./lib/extend"),i=c("./plots/attributes"),a=c("./plots/layout_attributes"),r=l.extendFlat,u=l.extendDeepAll;function d(y){var T=y.name,k=y.categories,x=y.meta;if(N.modules[T])t.log("Type "+T+" already registered");else{N.subplotsRegistry[y.basePlotModule.name]||function(B){var $=B.name;if(N.subplotsRegistry[$])return void t.log("Plot type "+$+" already registered.");for(var rt in w(B),N.subplotsRegistry[$]=B,N.componentsRegistry)h(rt,B.name)}(y.basePlotModule);for(var D={},z=0;z<k.length;z++)D[k[z]]=!0,N.allCategories[k[z]]=!0;for(var g in N.modules[T]={_module:y,categories:D},x&&Object.keys(x).length&&(N.modules[T].meta=x),N.allTypes.push(T),N.componentsRegistry)b(g,T);y.layoutAttributes&&r(N.traceLayoutAttributes,y.layoutAttributes);var R=y.basePlotModule,I=R.name;if(I==="mapbox"){var j=R.constants.styleRules;for(var Y in j)n(".js-plotly-plot .plotly .mapboxgl-"+Y,j[Y])}I!=="geo"&&I!=="mapbox"||typeof window===void 0||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function p(y){if(typeof y.name!="string")throw new Error("Component module *name* must be a string.");var T=y.name;for(var k in N.componentsRegistry[T]=y,y.layoutAttributes&&(y.layoutAttributes._isLinkedToArray&&o(N.layoutArrayContainers,T),w(y)),N.modules)b(T,k);for(var x in N.subplotsRegistry)h(T,x);for(var D in N.transformsRegistry)v(T,D);y.schema&&y.schema.layout&&u(a,y.schema.layout)}function m(y){if(typeof y.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+y.name,k=typeof y.transform=="function",x=typeof y.calcTransform=="function";if(!k&&!x)throw new Error(T+" is missing a *transform* or *calcTransform* method.");for(var D in k&&x&&t.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),e(y.attributes)||t.log(T+" registered without an *attributes* object."),typeof y.supplyDefaults!="function"&&t.log(T+" registered without a *supplyDefaults* method."),N.transformsRegistry[y.name]=y,N.componentsRegistry)v(D,y.name)}function M(y){var T=y.name,k=T.split("-")[0],x=y.dictionary,D=y.format,z=x&&Object.keys(x).length,g=D&&Object.keys(D).length,R=N.localeRegistry,I=R[T];if(I||(R[T]=I={}),k!==T){var j=R[k];j||(R[k]=j={}),z&&j.dictionary===I.dictionary&&(j.dictionary=x),g&&j.format===I.format&&(j.format=D)}z&&(I.dictionary=x),g&&(I.format=D)}function w(y){if(y.layoutAttributes){var T=y.layoutAttributes._arrayAttrRegexps;if(T)for(var k=0;k<T.length;k++)o(N.layoutArrayRegexes,T[k])}}function b(y,T){var k=N.componentsRegistry[y].schema;if(k&&k.traces){var x=k.traces[T];x&&u(N.modules[T]._module.attributes,x)}}function v(y,T){var k=N.componentsRegistry[y].schema;if(k&&k.transforms){var x=k.transforms[T];x&&u(N.transformsRegistry[T].attributes,x)}}function h(y,T){var k=N.componentsRegistry[y].schema;if(k&&k.subplots){var x=N.subplotsRegistry[T],D=x.layoutAttributes,z=x.attr==="subplot"?x.name:x.attr;Array.isArray(z)&&(z=z[0]);var g=k.subplots[z];D&&g&&u(D,g)}}function A(y){return typeof y=="object"&&(y=y.type),y}N.modules={},N.allCategories={},N.allTypes=[],N.subplotsRegistry={},N.transformsRegistry={},N.componentsRegistry={},N.layoutArrayContainers=[],N.layoutArrayRegexes=[],N.traceLayoutAttributes={},N.localeRegistry={},N.apiMethodRegistry={},N.collectableSubplotTypes=null,N.register=function(y){if(N.collectableSubplotTypes=null,!y)throw new Error("No argument passed to Plotly.register.");y&&!Array.isArray(y)&&(y=[y]);for(var T=0;T<y.length;T++){var k=y[T];if(!k)throw new Error("Invalid module was attempted to be registered!");switch(k.moduleType){case"trace":d(k);break;case"transform":m(k);break;case"component":p(k);break;case"locale":M(k);break;case"apiMethod":var x=k.name;N.apiMethodRegistry[x]=k.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},N.getModule=function(y){var T=N.modules[A(y)];return!!T&&T._module},N.traceIs=function(y,T){if((y=A(y))==="various")return!1;var k=N.modules[y];return k||(y&&t.log("Unrecognized trace type "+y+"."),k=N.modules[i.type.dflt]),!!k.categories[T]},N.getTransformIndices=function(y,T){for(var k=[],x=y.transforms||[],D=0;D<x.length;D++)x[D].type===T&&k.push(D);return k},N.hasTransform=function(y,T){for(var k=y.transforms||[],x=0;x<k.length;x++)if(k[x].type===T)return!0;return!1},N.getComponentMethod=function(y,T){var k=N.componentsRegistry[y];return k&&k[T]||s},N.call=function(){var y=arguments[0],T=[].slice.call(arguments,1);return N.apiMethodRegistry[y].apply(null,T)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":312}],317:[function(c,J,N){var t=c("../registry"),s=c("../lib"),o=s.extendFlat,e=s.extendDeep;function n(l){var i;switch(l){case"themes__thumb":i={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":i={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:i={}}return i}J.exports=function(l,i){var a,r,u=l.data,d=l.layout,p=e([],u),m=e({},d,n(i.tileClass)),M=l._context||{};if(i.width&&(m.width=i.width),i.height&&(m.height=i.height),i.tileClass==="thumbnail"||i.tileClass==="themes__thumb"){m.annotations=[];var w=Object.keys(m);for(a=0;a<w.length;a++)r=w[a],["xaxis","yaxis","zaxis"].indexOf(r.slice(0,5))>-1&&(m[w[a]].title={text:""});for(a=0;a<p.length;a++){var b=p[a];b.showscale=!1,b.marker&&(b.marker.showscale=!1),t.traceIs(b,"pie-like")&&(b.textposition="none")}}if(Array.isArray(i.annotations))for(a=0;a<i.annotations.length;a++)m.annotations.push(i.annotations[a]);var v=Object.keys(m).filter(function(k){return k.match(/^scene\d*$/)});if(v.length){var h={};for(i.tileClass==="thumbnail"&&(h={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<v.length;a++){var A=m[v[a]];A.xaxis||(A.xaxis={}),A.yaxis||(A.yaxis={}),A.zaxis||(A.zaxis={}),o(A.xaxis,h),o(A.yaxis,h),o(A.zaxis,h),A._scene=null}}var y=document.createElement("div");i.tileClass&&(y.className=i.tileClass);var T={gd:y,td:y,layout:m,data:p,config:{staticPlot:i.staticPlot===void 0||i.staticPlot,plotGlPixelRatio:i.plotGlPixelRatio===void 0?2:i.plotGlPixelRatio,displaylogo:i.displaylogo||!1,showLink:i.showLink||!1,showTips:i.showTips||!1,mapboxAccessToken:M.mapboxAccessToken}};return i.setBackground!=="transparent"&&(T.config.setBackground=i.setBackground||"opaque"),T.gd.defaultLayout=n(i.tileClass),T}},{"../lib":232,"../registry":316}],318:[function(c,J,N){var t=c("../lib"),s=c("../plot_api/to_image"),o=c("./filesaver"),e=c("./helpers");J.exports=function(n,l){var i;return t.isPlainObject(n)||(i=t.getGraphDiv(n)),(l=l||{}).format=l.format||"png",l.width=l.width||null,l.height=l.height||null,l.imageDataOnly=!0,new Promise(function(a,r){i&&i._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),t.isIE()&&l.format!=="svg"&&r(new Error(e.MSG_IE_BAD_FORMAT)),i&&(i._snapshotInProgress=!0);var u=s(n,l),d=l.filename||n.fn||"newplot";d+="."+l.format.replace("-","."),u.then(function(p){return i&&(i._snapshotInProgress=!1),o(p,d,l.format)}).then(function(p){a(p)}).catch(function(p){i&&(i._snapshotInProgress=!1),r(p)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":319,"./helpers":320}],319:[function(c,J,N){var t=c("../lib"),s=c("./helpers");J.exports=function(o,e,n){var l=document.createElement("a"),i="download"in l;return new Promise(function(a,r){var u,d;if(t.isIE())return u=s.createBlob(o,"svg"),window.navigator.msSaveBlob(u,e),u=null,a(e);if(i)return u=s.createBlob(o,n),d=s.createObjectURL(u),l.href=d,l.download=e,document.body.appendChild(l),l.click(),document.body.removeChild(l),s.revokeObjectURL(d),u=null,a(e);if(t.isSafari()){var p=n==="svg"?",":";base64,";return s.octetStream(p+encodeURIComponent(o)),a(e)}r(new Error("download error"))})}},{"../lib":232,"./helpers":320}],320:[function(c,J,N){var t=c("../registry");N.getDelay=function(o){return o._has&&(o._has("gl3d")||o._has("gl2d")||o._has("mapbox"))?500:0},N.getRedrawFunc=function(o){return function(){t.getComponentMethod("colorbar","draw")(o)}},N.encodeSVG=function(o){return"data:image/svg+xml,"+encodeURIComponent(o)},N.encodeJSON=function(o){return"data:application/json,"+encodeURIComponent(o)};var s=window.URL||window.webkitURL;N.createObjectURL=function(o){return s.createObjectURL(o)},N.revokeObjectURL=function(o){return s.revokeObjectURL(o)},N.createBlob=function(o,e){if(e==="svg")return new window.Blob([o],{type:"image/svg+xml;charset=utf-8"});if(e==="full-json")return new window.Blob([o],{type:"application/json;charset=utf-8"});var n=function(l){for(var i=l.length,a=new ArrayBuffer(i),r=new Uint8Array(a),u=0;u<i;u++)r[u]=l.charCodeAt(u);return a}(window.atob(o));return new window.Blob([n],{type:"image/"+e})},N.octetStream=function(o){document.location.href="data:application/octet-stream"+o},N.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,N.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":316}],321:[function(c,J,N){var t=c("./helpers"),s={getDelay:t.getDelay,getRedrawFunc:t.getRedrawFunc,clone:c("./cloneplot"),toSVG:c("./tosvg"),svgToImg:c("./svgtoimg"),toImage:c("./toimage"),downloadImage:c("./download")};J.exports=s},{"./cloneplot":317,"./download":318,"./helpers":320,"./svgtoimg":322,"./toimage":323,"./tosvg":324}],322:[function(c,J,N){var t=c("../lib"),s=c("events").EventEmitter,o=c("./helpers");J.exports=function(e){var n=e.emitter||new s,l=new Promise(function(i,a){var r=window.Image,u=e.svg,d=e.format||"png";if(t.isIE()&&d!=="svg"){var p=new Error(o.MSG_IE_BAD_FORMAT);return a(p),e.promise?l:n.emit("error",p)}var m,M,w=e.canvas,b=e.scale||1,v=e.width||300,h=e.height||150,A=b*v,y=b*h,T=w.getContext("2d"),k=new r;d==="svg"||t.isSafari()?M=o.encodeSVG(u):(m=o.createBlob(u,"svg"),M=o.createObjectURL(m)),w.width=A,w.height=y,k.onload=function(){var x;switch(m=null,o.revokeObjectURL(M),d!=="svg"&&T.drawImage(k,0,0,A,y),d){case"jpeg":x=w.toDataURL("image/jpeg");break;case"png":x=w.toDataURL("image/png");break;case"webp":x=w.toDataURL("image/webp");break;case"svg":x=M;break;default:var D="Image format is not jpeg, png, svg or webp.";if(a(new Error(D)),!e.promise)return n.emit("error",D)}i(x),e.promise||n.emit("success",x)},k.onerror=function(x){if(m=null,o.revokeObjectURL(M),a(x),!e.promise)return n.emit("error",x)},k.src=M});return e.promise?l:n}},{"../lib":232,"./helpers":320,events:12}],323:[function(c,J,N){var t=c("events").EventEmitter,s=c("../registry"),o=c("../lib"),e=c("./helpers"),n=c("./cloneplot"),l=c("./tosvg"),i=c("./svgtoimg");J.exports=function(a,r){var u=new t,d=n(a,{format:"png"}),p=d.gd;p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);var m=e.getRedrawFunc(p);return s.call("_doPlot",p,d.data,d.layout,d.config).then(m).then(function(){var M=e.getDelay(p._fullLayout);setTimeout(function(){var w=l(p),b=document.createElement("canvas");b.id=o.randstr(),(u=i({format:r.format,width:p._fullLayout.width,height:p._fullLayout.height,canvas:b,emitter:u,svg:w})).clean=function(){p&&document.body.removeChild(p)}},M)}).catch(function(M){u.emit("error",M)}),u}},{"../lib":232,"../registry":316,"./cloneplot":317,"./helpers":320,"./svgtoimg":322,"./tosvg":324,events:12}],324:[function(c,J,N){var t=c("@plotly/d3"),s=c("../lib"),o=c("../components/drawing"),e=c("../components/color"),n=c("../constants/xmlns_namespaces"),l=/"/g,i=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");J.exports=function(a,r,u){var d,p,m=a._fullLayout,M=m._paper,w=m._toppaper,b=m.width,v=m.height;M.insert("rect",":first-child").call(o.setRect,0,0,b,v).call(e.fill,m.paper_bgcolor);var h=m._basePlotModules||[];for(d=0;d<h.length;d++){var A=h[d];A.toSVG&&A.toSVG(a)}if(w){var y=w.node().childNodes,T=Array.prototype.slice.call(y);for(d=0;d<T.length;d++){var k=T[d];k.childNodes.length&&M.node().appendChild(k)}}m._draggers&&m._draggers.remove(),M.node().style.background="",M.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var z=t.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){z.style({visibility:null,display:null});var g=this.style.fontFamily;g&&g.indexOf('"')!==-1&&z.style("font-family",g.replace(l,"TOBESTRIPPED"))}else z.remove()});var x=[];if(m._gradientUrlQueryParts)for(p in m._gradientUrlQueryParts)x.push(p);if(m._patternUrlQueryParts)for(p in m._patternUrlQueryParts)x.push(p);x.length&&M.selectAll(x.join(",")).each(function(){var z=t.select(this),g=this.style.fill;g&&g.indexOf("url(")!==-1&&z.style("fill",g.replace(l,"TOBESTRIPPED"));var R=this.style.stroke;R&&R.indexOf("url(")!==-1&&z.style("stroke",R.replace(l,"TOBESTRIPPED"))}),r!=="pdf"&&r!=="eps"||M.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),M.node().setAttributeNS(n.xmlns,"xmlns",n.svg),M.node().setAttributeNS(n.xmlns,"xmlns:xlink",n.xlink),r==="svg"&&u&&(M.attr("width",u*b),M.attr("height",u*v),M.attr("viewBox","0 0 "+b+" "+v));var D=new window.XMLSerializer().serializeToString(M.node());return D=function(z){var g=t.select("body").append("div").style({display:"none"}).html(""),R=z.replace(/(&[^;]*;)/gi,function(I){return I==="&lt;"?"&#60;":I==="&rt;"?"&#62;":I.indexOf("<")!==-1||I.indexOf(">")!==-1?"":g.html(I).text()});return g.remove(),R}(D),D=(D=D.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(i,"'"),s.isIE()&&(D=(D=(D=D.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),D}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],325:[function(c,J,N){var t=c("../../lib");J.exports=function(s,o){for(var e=0;e<s.length;e++)s[e].i=e;t.mergeArray(o.text,s,"tx"),t.mergeArray(o.hovertext,s,"htx");var n=o.marker;if(n){t.mergeArray(n.opacity,s,"mo",!0),t.mergeArray(n.color,s,"mc");var l=n.line;l&&(t.mergeArray(l.color,s,"mlc"),t.mergeArrayCastPositive(l.width,s,"mlw"))}}},{"../../lib":232}],326:[function(c,J,N){var t=c("../scatter/attributes"),s=c("../../plots/cartesian/axis_format_attributes").axisHoverFormat,o=c("../../plots/template_attributes").hovertemplateAttrs,e=c("../../plots/template_attributes").texttemplateAttrs,n=c("../../components/colorscale/attributes"),l=c("../../plots/font_attributes"),i=c("./constants"),a=c("../../components/drawing/attributes").pattern,r=c("../../lib/extend").extendFlat,u=l({editType:"calc",arrayOk:!0,colorEditType:"style"}),d=r({},t.marker.line.width,{dflt:0}),p=r({width:d,editType:"calc"},n("marker.line")),m=r({line:p,editType:"calc"},n("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:a});J.exports={x:t.x,x0:t.x0,dx:t.dx,y:t.y,y0:t.y0,dy:t.dy,xperiod:t.xperiod,yperiod:t.yperiod,xperiod0:t.xperiod0,yperiod0:t.yperiod0,xperiodalignment:t.xperiodalignment,yperiodalignment:t.yperiodalignment,xhoverformat:s("x"),yhoverformat:s("y"),text:t.text,texttemplate:e({editType:"plot"},{keys:i.eventDataKeys}),hovertext:t.hovertext,hovertemplate:o({},{keys:i.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},u,{}),insidetextfont:r({},u,{}),outsidetextfont:r({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},t.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:t.selected.marker.opacity,color:t.selected.marker.color,editType:"style"},textfont:t.selected.textfont,editType:"style"},unselected:{marker:{opacity:t.unselected.marker.opacity,color:t.unselected.marker.color,editType:"style"},textfont:t.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":308,"../../plots/template_attributes":315,"../scatter/attributes":356,"./constants":328}],327:[function(c,J,N){var t=c("../../plots/cartesian/axes"),s=c("../../plots/cartesian/align_period"),o=c("../../components/colorscale/helpers").hasColorscale,e=c("../../components/colorscale/calc"),n=c("./arrays_to_calcdata"),l=c("../scatter/calc_selection");J.exports=function(i,a){var r,u,d,p,m,M,w=t.getFromId(i,a.xaxis||"x"),b=t.getFromId(i,a.yaxis||"y"),v={msUTC:!(!a.base&&a.base!==0)};a.orientation==="h"?(r=w.makeCalcdata(a,"x",v),d=b.makeCalcdata(a,"y"),p=s(a,b,"y",d),m=!!a.yperiodalignment,M="y"):(r=b.makeCalcdata(a,"y",v),d=w.makeCalcdata(a,"x"),p=s(a,w,"x",d),m=!!a.xperiodalignment,M="x"),u=p.vals;for(var h=Math.min(u.length,r.length),A=new Array(h),y=0;y<h;y++)A[y]={p:u[y],s:r[y]},m&&(A[y].orig_p=d[y],A[y][M+"End"]=p.ends[y],A[y][M+"Start"]=p.starts[y]),a.ids&&(A[y].id=String(a.ids[y]));return o(a,"marker")&&e(i,a,{vals:a.marker.color,containerStr:"marker",cLetter:"c"}),o(a,"marker.line")&&e(i,a,{vals:a.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(A,a),l(A,a),A}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":358,"./arrays_to_calcdata":325}],328:[function(c,J,N){J.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],329:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib").isArrayOrTypedArray,o=c("../../constants/numerical").BADNUM,e=c("../../registry"),n=c("../../plots/cartesian/axes"),l=c("../../plots/cartesian/constraints").getAxisGroup,i=c("./sieve.js");function a(h,A,y,T,k){if(T.length){var x,D,z,g;switch(function(R,I){var j,Y;for(j=0;j<I.length;j++){var B,$=I[j],rt=$[0].trace,q=rt.type==="funnel"?rt._base:rt.base,H=rt.orientation==="h"?rt.xcalendar:rt.ycalendar,C=R.type==="category"||R.type==="multicategory"?function(){return null}:R.d2c;if(s(q)){for(Y=0;Y<Math.min(q.length,$.length);Y++)B=C(q[Y],0,H),t(B)?($[Y].b=+B,$[Y].hasB=1):$[Y].b=0;for(;Y<$.length;Y++)$[Y].b=0}else{B=C(q,0,H);var F=t(B);for(B=F?B:0,Y=0;Y<$.length;Y++)$[Y].b=B,F&&($[Y].hasB=1)}}}(y,T),k.mode){case"overlay":r(A,y,T,k);break;case"group":for(x=[],D=[],z=0;z<T.length;z++)(g=T[z])[0].trace.offset===void 0?D.push(g):x.push(g);D.length&&function(R,I,j,Y,B){var $=new i(Y,{posAxis:I,sepNegVal:!1,overlapNoMerge:!B.norm});(function(rt,q,H,C){for(var F=rt._fullLayout,L=H.positions,X=H.distinctPositions,E=H.minDiff,Z=H.traces,S=Z.length,U=L.length!==X.length,P=E*(1-C.gap),G=l(F,q._id)+Z[0][0].trace.orientation,Q=F._alignmentOpts[G]||{},et=0;et<S;et++){var tt,lt,ct=Z[et],mt=ct[0].trace,Mt=Q[mt.alignmentgroup]||{},St=Object.keys(Mt.offsetGroups||{}).length,_t=(tt=St?P/St:U?P/S:P)*(1-(C.groupgap||0));lt=St?((2*mt._offsetIndex+1-St)*tt-_t)/2:U?((2*et+1-S)*tt-_t)/2:-_t/2;var Yt=ct[0].t;Yt.barwidth=_t,Yt.poffset=lt,Yt.bargroupwidth=P,Yt.bardelta=E}H.binWidth=Z[0][0].t.barwidth/100,d(H),p(q,H),m(q,H,U)})(R,I,$,B),function(rt,q){for(var H=rt.traces,C=0;C<H.length;C++){var F=H[C];if(F[0].trace.base===void 0)for(var L=new i([F],{posAxis:q,sepNegVal:!0,overlapNoMerge:!0}),X=0;X<F.length;X++){var E=F[X];if(E.p!==o){var Z=L.put(E.p,E.b+E.s);Z&&(E.b=Z)}}}}($,I),B.norm?(w($),b(j,$,B)):M(j,$)}(h,A,y,D,k),x.length&&r(A,y,x,k);break;case"stack":case"relative":for(x=[],D=[],z=0;z<T.length;z++)(g=T[z])[0].trace.base===void 0?D.push(g):x.push(g);D.length&&function(R,I,j,Y,B){var $=new i(Y,{posAxis:I,sepNegVal:B.mode==="relative",overlapNoMerge:!(B.norm||B.mode==="stack"||B.mode==="relative")});u(I,$,B),function(F,L,X){var E,Z,S,U,P,G,Q=v(F),et=L.traces;for(U=0;U<et.length;U++)if(E=et[U],(Z=E[0].trace).type==="funnel")for(P=0;P<E.length;P++)(G=E[P]).s!==o&&L.put(G.p,-.5*G.s);for(U=0;U<et.length;U++){E=et[U],Z=E[0].trace,S=Z.type==="funnel";var tt=[];for(P=0;P<E.length;P++)if((G=E[P]).s!==o){var lt;lt=S?G.s:G.s+G.b;var ct=L.put(G.p,lt),mt=ct+lt;G.b=ct,G[Q]=mt,X.norm||(tt.push(mt),G.hasB&&tt.push(ct))}X.norm||(Z._extremes[F._id]=n.findExtremes(F,tt,{tozero:!0,padded:!0}))}}(j,$,B);for(var rt=0;rt<Y.length;rt++)for(var q=Y[rt],H=0;H<q.length;H++){var C=q[H];C.s!==o&&C.b+C.s===$.get(C.p,C.s)&&(C._outmost=!0)}B.norm&&b(j,$,B)}(0,A,y,D,k),x.length&&r(A,y,x,k)}(function(R,I){var j,Y,B,$=v(I),rt={},q=1/0,H=-1/0;for(j=0;j<R.length;j++)for(B=R[j],Y=0;Y<B.length;Y++){var C=B[Y].p;t(C)&&(q=Math.min(q,C),H=Math.max(H,C))}var F=1e4/(H-q),L=rt.round=function(G){return String(Math.round(F*(G-q)))};for(j=0;j<R.length;j++){(B=R[j])[0].t.extents=rt;var X=B[0].t.poffset,E=Array.isArray(X);for(Y=0;Y<B.length;Y++){var Z=B[Y],S=Z[$]-Z.w/2;if(t(S)){var U=Z[$]+Z.w/2,P=L(Z.p);rt[P]?rt[P]=[Math.min(S,rt[P][0]),Math.max(U,rt[P][1])]:rt[P]=[S,U]}Z.p0=Z.p+(E?X[Y]:X),Z.p1=Z.p0+Z.w,Z.s0=Z.b,Z.s1=Z.s0+Z.s}}})(T,A)}}function r(h,A,y,T){for(var k=0;k<y.length;k++){var x=y[k],D=new i([x],{posAxis:h,sepNegVal:!1,overlapNoMerge:!T.norm});u(h,D,T),T.norm?(w(D),b(A,D,T)):M(A,D)}}function u(h,A,y){for(var T=A.minDiff,k=A.traces,x=T*(1-y.gap),D=x*(1-(y.groupgap||0)),z=-D/2,g=0;g<k.length;g++){var R=k[g][0].t;R.barwidth=D,R.poffset=z,R.bargroupwidth=x,R.bardelta=T}A.binWidth=k[0][0].t.barwidth/100,d(A),p(h,A),m(h,A)}function d(h){var A,y,T=h.traces;for(A=0;A<T.length;A++){var k,x=T[A],D=x[0],z=D.trace,g=D.t,R=z._offset||z.offset,I=g.poffset;if(s(R)){for(k=Array.prototype.slice.call(R,0,x.length),y=0;y<k.length;y++)t(k[y])||(k[y]=I);for(y=k.length;y<x.length;y++)k.push(I);g.poffset=k}else R!==void 0&&(g.poffset=R);var j=z._width||z.width,Y=g.barwidth;if(s(j)){var B=Array.prototype.slice.call(j,0,x.length);for(y=0;y<B.length;y++)t(B[y])||(B[y]=Y);for(y=B.length;y<x.length;y++)B.push(Y);if(g.barwidth=B,R===void 0){for(k=[],y=0;y<x.length;y++)k.push(I+(Y-B[y])/2);g.poffset=k}}else j!==void 0&&(g.barwidth=j,R===void 0&&(g.poffset=I+(Y-j)/2))}}function p(h,A){for(var y=A.traces,T=v(h),k=0;k<y.length;k++)for(var x=y[k],D=x[0].t,z=D.poffset,g=Array.isArray(z),R=D.barwidth,I=Array.isArray(R),j=0;j<x.length;j++){var Y=x[j],B=Y.w=I?R[j]:R;Y[T]=Y.p+(g?z[j]:z)+B/2}}function m(h,A,y){var T=A.traces,k=A.minDiff/2;n.minDtick(h,A.minDiff,A.distinctPositions[0],y);for(var x=0;x<T.length;x++){var D,z,g,R,I=T[x],j=I[0],Y=j.trace,B=[];for(R=0;R<I.length;R++)z=(D=I[R]).p-k,g=D.p+k,B.push(z,g);if(Y.width||Y.offset){var $=j.t,rt=$.poffset,q=$.barwidth,H=Array.isArray(rt),C=Array.isArray(q);for(R=0;R<I.length;R++){D=I[R];var F=H?rt[R]:rt,L=C?q[R]:q;g=(z=D.p+F)+L,B.push(z,g)}}Y._extremes[h._id]=n.findExtremes(h,B,{padded:!1})}}function M(h,A){for(var y=A.traces,T=v(h),k=0;k<y.length;k++){for(var x=y[k],D=x[0].trace,z=[],g=!1,R=0;R<x.length;R++){var I=x[R],j=I.b,Y=j+I.s;I[T]=Y,z.push(Y),I.hasB&&z.push(j),I.hasB&&I.b||(g=!0)}D._extremes[h._id]=n.findExtremes(h,z,{tozero:g,padded:!0})}}function w(h){for(var A=h.traces,y=0;y<A.length;y++)for(var T=A[y],k=0;k<T.length;k++){var x=T[k];x.s!==o&&h.put(x.p,x.b+x.s)}}function b(h,A,y){var T=A.traces,k=v(h),x=y.norm==="fraction"?1:100,D=x/1e9,z=h.l2c(h.c2l(0)),g=y.mode==="stack"?x:z;function R(X){return t(h.c2l(X))&&(X<z-D||X>g+D||!t(z))}for(var I=0;I<T.length;I++){for(var j=T[I],Y=j[0].trace,B=[],$=!1,rt=!1,q=0;q<j.length;q++){var H=j[q];if(H.s!==o){var C=Math.abs(x/A.get(H.p,H.s));H.b*=C,H.s*=C;var F=H.b,L=F+H.s;H[k]=L,B.push(L),rt=rt||R(L),H.hasB&&(B.push(F),rt=rt||R(F)),H.hasB&&H.b||($=!0)}}Y._extremes[h._id]=n.findExtremes(h,B,{tozero:$,padded:rt})}}function v(h){return h._id.charAt(0)}J.exports={crossTraceCalc:function(h,A){for(var y=A.xaxis,T=A.yaxis,k=h._fullLayout,x=h._fullData,D=h.calcdata,z=[],g=[],R=0;R<x.length;R++){var I=x[R];if(I.visible===!0&&e.traceIs(I,"bar")&&I.xaxis===y._id&&I.yaxis===T._id&&(I.orientation==="h"?z.push(D[R]):g.push(D[R]),I._computePh))for(var j=h.calcdata[R],Y=0;Y<j.length;Y++)typeof j[Y].ph0=="function"&&(j[Y].ph0=j[Y].ph0()),typeof j[Y].ph1=="function"&&(j[Y].ph1=j[Y].ph1())}var B={xCat:y.type==="category"||y.type==="multicategory",yCat:T.type==="category"||T.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};a(h,y,T,g,B),a(h,T,y,z,B)},setGroupPositions:a}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":316,"./sieve.js":339,"fast-isnumeric":17}],330:[function(c,J,N){var t=c("../../lib"),s=c("../../components/color"),o=c("../../registry"),e=c("../scatter/xy_defaults"),n=c("../scatter/period_defaults"),l=c("./style_defaults"),i=c("../../plots/cartesian/constraints").getAxisGroup,a=c("./attributes"),r=t.coerceFont;function u(p,m,M,w){var b=m.orientation,v=m[{v:"x",h:"y"}[b]+"axis"],h=i(M,v)+b,A=M._alignmentOpts||{},y=w("alignmentgroup"),T=A[h];T||(T=A[h]={});var k=T[y];k?k.traces.push(m):k=T[y]={traces:[m],alignmentIndex:Object.keys(T).length,offsetGroups:{}};var x=w("offsetgroup"),D=k.offsetGroups,z=D[x];x&&(z||(z=D[x]={offsetIndex:Object.keys(D).length}),m._offsetIndex=z.offsetIndex)}function d(p,m,M,w,b,v){var h=(v=v||{}).moduleHasSelected!==!1,A=v.moduleHasUnselected!==!1,y=v.moduleHasConstrain!==!1,T=v.moduleHasCliponaxis!==!1,k=v.moduleHasTextangle!==!1,x=v.moduleHasInsideanchor!==!1,D=!!v.hasPathbar,z=Array.isArray(b)||b==="auto",g=z||b==="inside",R=z||b==="outside";if(g||R){var I=r(w,"textfont",M.font),j=t.extendFlat({},I),Y=!(p.textfont&&p.textfont.color);if(Y&&delete j.color,r(w,"insidetextfont",j),D){var B=t.extendFlat({},I);Y&&delete B.color,r(w,"pathbar.textfont",B)}R&&r(w,"outsidetextfont",I),h&&w("selected.textfont.color"),A&&w("unselected.textfont.color"),y&&w("constraintext"),T&&w("cliponaxis"),k&&w("textangle"),w("texttemplate")}g&&x&&w("insidetextanchor")}J.exports={supplyDefaults:function(p,m,M,w){function b(y,T){return t.coerce(p,m,a,y,T)}if(e(p,m,w,b)){n(p,m,w,b),b("xhoverformat"),b("yhoverformat"),b("orientation",m.x&&!m.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var v=b("textposition");d(p,m,w,b,v,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l(p,m,b,M,w);var h=(m.marker.line||{}).color,A=o.getComponentMethod("errorbars","supplyDefaults");A(p,m,h||s.defaultLine,{axis:"y"}),A(p,m,h||s.defaultLine,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(m,b)}else m.visible=!1},crossTraceDefaults:function(p,m){var M;function w(v){return t.coerce(M._input,M,a,v)}if(m.barmode==="group")for(var b=0;b<p.length;b++)(M=p[b]).type==="bar"&&(M._input,u(0,M,m,w))},handleGroupingDefaults:u,handleText:d}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":316,"../scatter/period_defaults":376,"../scatter/xy_defaults":383,"./attributes":326,"./style_defaults":341}],331:[function(c,J,N){J.exports=function(t,s,o){return t.x="xVal"in s?s.xVal:s.x,t.y="yVal"in s?s.yVal:s.y,s.xa&&(t.xaxis=s.xa),s.ya&&(t.yaxis=s.ya),o.orientation==="h"?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}},{}],332:[function(c,J,N){var t=c("fast-isnumeric"),s=c("tinycolor2"),o=c("../../lib").isArrayOrTypedArray;N.coerceString=function(e,n,l){if(typeof n=="string"){if(n||!e.noBlank)return n}else if((typeof n=="number"||n===!0)&&!e.strict)return String(n);return l!==void 0?l:e.dflt},N.coerceNumber=function(e,n,l){if(t(n)){n=+n;var i=e.min,a=e.max;if(!(i!==void 0&&n<i||a!==void 0&&n>a))return n}return l!==void 0?l:e.dflt},N.coerceColor=function(e,n,l){return s(n).isValid()?n:l!==void 0?l:e.dflt},N.coerceEnumerated=function(e,n,l){return e.coerceNumber&&(n=+n),e.values.indexOf(n)!==-1?n:l!==void 0?l:e.dflt},N.getValue=function(e,n){var l;return Array.isArray(e)?n<e.length&&(l=e[n]):l=e,l},N.getLineWidth=function(e,n){return 0<n.mlw?n.mlw:o(e.marker.line.width)?0:e.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],333:[function(c,J,N){var t=c("../../components/fx"),s=c("../../registry"),o=c("../../components/color"),e=c("../../lib").fillText,n=c("./helpers").getLineWidth,l=c("../../plots/cartesian/axes").hoverLabelText,i=c("../../constants/numerical").BADNUM;function a(u,d,p,m,M){var w,b,v,h,A,y,T,k=u.cd,x=k[0].trace,D=k[0].t,z=m==="closest",g=x.type==="waterfall",R=u.maxHoverDistance,I=u.maxSpikeDistance;x.orientation==="h"?(w=p,b=d,v="y",h="x",A=E,y=L):(w=d,b=p,v="x",h="y",y=E,A=L);var j=x[v+"period"],Y=z||j;function B(tt){return rt(tt,-1)}function $(tt){return rt(tt,1)}function rt(tt,lt){var ct=tt.w;return tt[v]+lt*ct/2}function q(tt){return tt[v+"End"]-tt[v+"Start"]}var H=z?B:j?function(tt){return tt.p-q(tt)/2}:function(tt){return Math.min(B(tt),tt.p-D.bardelta/2)},C=z?$:j?function(tt){return tt.p+q(tt)/2}:function(tt){return Math.max($(tt),tt.p+D.bardelta/2)};function F(tt,lt,ct){return M.finiteRange&&(ct=0),t.inbox(tt-w,lt-w,ct+Math.min(1,Math.abs(lt-tt)/T)-1)}function L(tt){return F(H(tt),C(tt),R)}function X(tt){var lt=tt[h];if(g){var ct=Math.abs(tt.rawS)||0;b>0?lt+=ct:b<0&&(lt-=ct)}return lt}function E(tt){var lt=b,ct=tt.b,mt=X(tt);return t.inbox(ct-lt,mt-lt,R+(mt-lt)/(mt-ct)-1)}var Z=u[v+"a"],S=u[h+"a"];T=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));var U=t.getDistanceFunction(m,A,y,function(tt){return(A(tt)+y(tt))/2});if(t.getClosest(k,U,u),u.index!==!1&&k[u.index].p!==i){Y||(H=function(tt){return Math.min(B(tt),tt.p-D.bargroupwidth/2)},C=function(tt){return Math.max($(tt),tt.p+D.bargroupwidth/2)});var P=k[u.index],G=x.base?P.b+P.s:P.s;u[h+"0"]=u[h+"1"]=S.c2p(P[h],!0),u[h+"LabelVal"]=G;var Q=D.extents[D.extents.round(P.p)];u[v+"0"]=Z.c2p(z?H(P):Q[0],!0),u[v+"1"]=Z.c2p(z?C(P):Q[1],!0);var et=P.orig_p!==void 0;return u[v+"LabelVal"]=et?P.orig_p:P.p,u.labelLabel=l(Z,u[v+"LabelVal"],x[v+"hoverformat"]),u.valueLabel=l(S,u[h+"LabelVal"],x[h+"hoverformat"]),u.baseLabel=l(S,P.b,x[h+"hoverformat"]),u.spikeDistance=(function(tt){var lt=b,ct=tt.b,mt=X(tt);return t.inbox(ct-lt,mt-lt,I+(mt-lt)/(mt-ct)-1)}(P)+function(tt){return F(B(tt),$(tt),I)}(P))/2,u[v+"Spike"]=Z.c2p(P.p,!0),e(P,x,u),u.hovertemplate=x.hovertemplate,u}}function r(u,d){var p=d.mcc||u.marker.color,m=d.mlcc||u.marker.line.color,M=n(u,d);return o.opacity(p)?p:o.opacity(m)&&M?m:void 0}J.exports={hoverPoints:function(u,d,p,m,M){var w=a(u,d,p,m,M);if(w){var b=w.cd,v=b[0].trace,h=b[w.index];return w.color=r(v,h),s.getComponentMethod("errorbars","hoverInfo")(h,v,w),[w]}},hoverOnBars:a,getTraceColor:r}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":316,"./helpers":332}],334:[function(c,J,N){J.exports={attributes:c("./attributes"),layoutAttributes:c("./layout_attributes"),supplyDefaults:c("./defaults").supplyDefaults,crossTraceDefaults:c("./defaults").crossTraceDefaults,supplyLayoutDefaults:c("./layout_defaults"),calc:c("./calc"),crossTraceCalc:c("./cross_trace_calc").crossTraceCalc,colorbar:c("../scatter/marker_colorbar"),arraysToCalcdata:c("./arrays_to_calcdata"),plot:c("./plot").plot,style:c("./style").style,styleOnSelect:c("./style").styleOnSelect,hoverPoints:c("./hover").hoverPoints,eventData:c("./event_data"),selectPoints:c("./select"),moduleType:"trace",name:"bar",basePlotModule:c("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":374,"./arrays_to_calcdata":325,"./attributes":326,"./calc":327,"./cross_trace_calc":329,"./defaults":330,"./event_data":331,"./hover":333,"./layout_attributes":335,"./layout_defaults":336,"./plot":337,"./select":338,"./style":340}],335:[function(c,J,N){J.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],336:[function(c,J,N){var t=c("../../registry"),s=c("../../plots/cartesian/axes"),o=c("../../lib"),e=c("./layout_attributes");J.exports=function(n,l,i){function a(v,h){return o.coerce(n,l,e,v,h)}for(var r=!1,u=!1,d=!1,p={},m=a("barmode"),M=0;M<i.length;M++){var w=i[M];if(t.traceIs(w,"bar")&&w.visible){if(r=!0,m==="group"){var b=w.xaxis+w.yaxis;p[b]&&(d=!0),p[b]=!0}w.visible&&w.type==="histogram"&&s.getFromId({_fullLayout:l},w[w.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(u=!0)}}r?(m!=="overlay"&&a("barnorm"),a("bargap",u&&!d?0:.2),a("bargroupgap")):delete l.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":316,"./layout_attributes":335}],337:[function(c,J,N){var t=c("@plotly/d3"),s=c("fast-isnumeric"),o=c("../../lib"),e=c("../../lib/svg_text_utils"),n=c("../../components/color"),l=c("../../components/drawing"),i=c("../../registry"),a=c("../../plots/cartesian/axes").tickText,r=c("./uniform_text"),u=r.recordMinTextSize,d=r.clearMinTextSize,p=c("./style"),m=c("./helpers"),M=c("./constants"),w=c("./attributes"),b=w.text,v=w.textposition,h=c("../../components/fx/helpers").appendArrayPointValue,A=M.TEXTPAD;function y(I){return I.id}function T(I){if(I.ids)return y}function k(I,j){return I<j?1:-1}function x(I,j,Y,B){var $;return!j.uniformtext.mode&&D(Y)?(B&&($=B()),I.transition().duration(Y.duration).ease(Y.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()})):I}function D(I){return I&&I.duration>0}function z(I){return I==="auto"?0:I}function g(I,j){var Y=Math.PI/180*j,B=Math.abs(Math.sin(Y)),$=Math.abs(Math.cos(Y));return{x:I.width*$+I.height*B,y:I.width*B+I.height*$}}function R(I,j,Y,B,$,rt){var q=!!rt.isHorizontal,H=!!rt.constrained,C=rt.angle||0,F=rt.anchor||"end",L=F==="end",X=F==="start",E=((rt.leftToRight||0)+1)/2,Z=1-E,S=$.width,U=$.height,P=Math.abs(j-I),G=Math.abs(B-Y),Q=P>2*A&&G>2*A?A:0;P-=2*Q,G-=2*Q;var et=z(C);C!=="auto"||S<=P&&U<=G||!(S>P||U>G)||(S>G||U>P)&&S<U==P<G||(et+=90);var tt=g($,et),lt=1;H&&(lt=Math.min(1,P/tt.x,G/tt.y));var ct=$.left*Z+$.right*E,mt=($.top+$.bottom)/2,Mt=(I+A)*Z+(j-A)*E,St=(Y+B)/2,_t=0,Yt=0;if(X||L){var Et=(q?tt.x:tt.y)/2,gt=q?k(I,j):k(Y,B);q?X?(Mt=I+gt*Q,_t=-gt*Et):(Mt=j-gt*Q,_t=gt*Et):X?(St=Y+gt*Q,Yt=-gt*Et):(St=B-gt*Q,Yt=gt*Et)}return{textX:ct,textY:mt,targetX:Mt,targetY:St,anchorX:_t,anchorY:Yt,scale:lt,rotate:et}}J.exports={plot:function(I,j,Y,B,$,rt){var q=j.xaxis,H=j.yaxis,C=I._fullLayout;$||($={mode:C.barmode,norm:C.barmode,gap:C.bargap,groupgap:C.bargroupgap},d("bar",C));var F=o.makeTraceGroups(B,Y,"trace bars").each(function(L){var X=t.select(this),E=L[0].trace,Z=E.type==="waterfall",S=E.type==="funnel",U=E.type==="bar"||S,P=0;Z&&E.connector.visible&&E.connector.mode==="between"&&(P=E.connector.line.width/2);var G=E.orientation==="h",Q=D($),et=o.ensureSingle(X,"g","points"),tt=T(E),lt=et.selectAll("g.point").data(o.identity,tt);lt.enter().append("g").classed("point",!0),lt.exit().remove(),lt.each(function(mt,Mt){var St,_t,Yt=t.select(this),Et=function(wt,At,Xt,kt){var Bt=[],Zt=[],Ht=kt?At:Xt,ee=kt?Xt:At;return Bt[0]=Ht.c2p(wt.s0,!0),Zt[0]=ee.c2p(wt.p0,!0),Bt[1]=Ht.c2p(wt.s1,!0),Zt[1]=ee.c2p(wt.p1,!0),kt?[Bt,Zt]:[Zt,Bt]}(mt,q,H,G),gt=Et[0][0],ot=Et[0][1],nt=Et[1][0],ut=Et[1][1],ht=(G?ot-gt:ut-nt)==0;if(ht&&U&&m.getLineWidth(E,mt)&&(ht=!1),ht||(ht=!(s(gt)&&s(ot)&&s(nt)&&s(ut))),mt.isBlank=ht,ht&&(G?ot=gt:ut=nt),P&&!ht&&(G?(gt-=k(gt,ot)*P,ot+=k(gt,ot)*P):(nt-=k(nt,ut)*P,ut+=k(nt,ut)*P)),E.type==="waterfall"){if(!ht){var Dt=E[mt.dir].marker;St=Dt.line.width,_t=Dt.color}}else St=m.getLineWidth(E,mt),_t=mt.mc||E.marker.color;function Tt(wt){var At=t.round(St/2%1,2);return $.gap===0&&$.groupgap===0?t.round(Math.round(wt)-At,2):wt}if(!I._context.staticPlot){var xt=n.opacity(_t)<1||St>.01?Tt:function(wt,At,Xt){return Xt&&wt===At?wt:Math.abs(wt-At)>=2?Tt(wt):wt>At?Math.ceil(wt):Math.floor(wt)};gt=xt(gt,ot,G),ot=xt(ot,gt,G),nt=xt(nt,ut,!G),ut=xt(ut,nt,!G)}var Ot=x(o.ensureSingle(Yt,"path"),C,$,rt);if(Ot.style("vector-effect","non-scaling-stroke").attr("d",isNaN((ot-gt)*(ut-nt))||ht&&I._context.staticPlot?"M0,0Z":"M"+gt+","+nt+"V"+ut+"H"+ot+"V"+nt+"Z").call(l.setClipUrl,j.layerClipId,I),!C.uniformtext.mode&&Q){var It=l.makePointStyleFns(E);l.singlePointStyle(mt,Ot,E,It,I)}(function(wt,At,Xt,kt,Bt,Zt,Ht,ee,qt,vt,bt){var Gt,re=At.xaxis,xe=At.yaxis,at=wt._fullLayout;function st(De,Oe,Ne){return o.ensureSingle(De,"text").text(Oe).attr({class:"bartext bartext-"+Gt,"text-anchor":"middle","data-notex":1}).call(l.font,Ne).call(e.convertToTspans,wt)}var Lt=kt[0].trace,Ct=Lt.orientation==="h",Nt=function(De,Oe,Ne,en,tn){var Se,ke=Oe[0].trace;return Se=ke.texttemplate?function(Le,_e,fe,Fe,Ye){var Je=_e[0].trace,Ze=o.castOption(Je,fe,"texttemplate");if(!Ze)return"";var je,Be,Ke,Ue,we=Je.type==="waterfall",qe=Je.type==="funnel";Je.orientation==="h"?(je="y",Be=Ye,Ke="x",Ue=Fe):(je="x",Be=Fe,Ke="y",Ue=Ye);function nn(vn){return a(Ue,Ue.c2l(vn),!0).text}var Ve=_e[fe],Ge={};Ge.label=Ve.p,Ge.labelLabel=Ge[je+"Label"]=(cn=Ve.p,a(Be,Be.c2l(cn),!0).text);var cn,rn=o.castOption(Je,Ve.i,"text");(rn===0||rn)&&(Ge.text=rn),Ge.value=Ve.s,Ge.valueLabel=Ge[Ke+"Label"]=nn(Ve.s);var dn={};h(dn,Je,Ve.i),we&&(Ge.delta=+Ve.rawS||Ve.s,Ge.deltaLabel=nn(Ge.delta),Ge.final=Ve.v,Ge.finalLabel=nn(Ge.final),Ge.initial=Ge.final-Ge.delta,Ge.initialLabel=nn(Ge.initial)),qe&&(Ge.value=Ve.s,Ge.valueLabel=nn(Ge.value),Ge.percentInitial=Ve.begR,Ge.percentInitialLabel=o.formatPercent(Ve.begR),Ge.percentPrevious=Ve.difR,Ge.percentPreviousLabel=o.formatPercent(Ve.difR),Ge.percentTotal=Ve.sumR,Ge.percenTotalLabel=o.formatPercent(Ve.sumR));var hn=o.castOption(Je,Ve.i,"customdata");return hn&&(Ge.customdata=hn),o.texttemplateString(Ze,Ge,Le._d3locale,dn,Ge,Je._meta||{})}(De,Oe,Ne,en,tn):ke.textinfo?function(Le,_e,fe,Fe){var Ye=Le[0].trace,Je=Ye.orientation==="h",Ze=Ye.type==="waterfall",je=Ye.type==="funnel";function Be(An){return a(Je?fe:Fe,+An,!0).text}var Ke,Ue=Ye.textinfo,we=Le[_e],qe=Ue.split("+"),nn=[],Ve=function(An){return qe.indexOf(An)!==-1};Ve("label")&&nn.push((Ge=Le[_e].p,a(Je?Fe:fe,Ge,!0).text));var Ge;if(Ve("text")&&((Ke=o.castOption(Ye,we.i,"text"))===0||Ke)&&nn.push(Ke),Ze){var cn=+we.rawS||we.s,rn=we.v,dn=rn-cn;Ve("initial")&&nn.push(Be(dn)),Ve("delta")&&nn.push(Be(cn)),Ve("final")&&nn.push(Be(rn))}if(je){Ve("value")&&nn.push(Be(we.s));var hn=0;Ve("percent initial")&&hn++,Ve("percent previous")&&hn++,Ve("percent total")&&hn++;var vn=hn>1;Ve("percent initial")&&(Ke=o.formatPercent(we.begR),vn&&(Ke+=" of initial"),nn.push(Ke)),Ve("percent previous")&&(Ke=o.formatPercent(we.difR),vn&&(Ke+=" of previous"),nn.push(Ke)),Ve("percent total")&&(Ke=o.formatPercent(we.sumR),vn&&(Ke+=" of total"),nn.push(Ke))}return nn.join("<br>")}(Oe,Ne,en,tn):m.getValue(ke.text,Ne),m.coerceString(b,Se)}(at,kt,Bt,re,xe);Gt=function(De,Oe){var Ne=m.getValue(De.textposition,Oe);return m.coerceEnumerated(v,Ne)}(Lt,Bt);var Pt=vt.mode==="stack"||vt.mode==="relative",jt=kt[Bt],$t=!Pt||jt._outmost;if(!Nt||Gt==="none"||(jt.isBlank||Zt===Ht||ee===qt)&&(Gt==="auto"||Gt==="inside"))return void Xt.select("text").remove();var ne=at.font,se=p.getBarColor(kt[Bt],Lt),Wt=p.getInsideTextFont(Lt,Bt,ne,se),ae=p.getOutsideTextFont(Lt,Bt,ne),ce=Xt.datum();Ct?re.type==="log"&&ce.s0<=0&&(Zt=re.range[0]<re.range[1]?0:re._length):xe.type==="log"&&ce.s0<=0&&(ee=xe.range[0]<xe.range[1]?xe._length:0);var be,he,me,le,Te,Me=Math.abs(Ht-Zt)-2*A,ge=Math.abs(qt-ee)-2*A;if(Gt==="outside"&&($t||jt.hasB||(Gt="inside")),Gt==="auto")if($t){Gt="inside",Te=o.ensureUniformFontSize(wt,Wt),be=st(Xt,Nt,Te),he=l.bBox(be.node()),me=he.width,le=he.height;var oe=me<=Me&&le<=ge,de=me<=ge&&le<=Me,Ae=Ct?Me>=me*(ge/le):ge>=le*(Me/me);me>0&&le>0&&(oe||de||Ae)?Gt="inside":(Gt="outside",be.remove(),be=null)}else Gt="inside";if(!be){Te=o.ensureUniformFontSize(wt,Gt==="outside"?ae:Wt);var ye=(be=st(Xt,Nt,Te)).attr("transform");if(be.attr("transform",""),he=l.bBox(be.node()),me=he.width,le=he.height,be.attr("transform",ye),me<=0||le<=0)return void be.remove()}var Ce,ue,Re=Lt.textangle;Gt==="outside"?(ue=Lt.constraintext==="both"||Lt.constraintext==="outside",Ce=function(De,Oe,Ne,en,tn,Se){var ke,Le=!!Se.isHorizontal,_e=!!Se.constrained,fe=Se.angle||0,Fe=tn.width,Ye=tn.height,Je=Math.abs(Oe-De),Ze=Math.abs(en-Ne);ke=Le?Ze>2*A?A:0:Je>2*A?A:0;var je=1;_e&&(je=Le?Math.min(1,Ze/Ye):Math.min(1,Je/Fe));var Be=z(fe),Ke=g(tn,Be),Ue=(Le?Ke.x:Ke.y)/2,we=(tn.left+tn.right)/2,qe=(tn.top+tn.bottom)/2,nn=(De+Oe)/2,Ve=(Ne+en)/2,Ge=0,cn=0,rn=Le?k(Oe,De):k(Ne,en);return Le?(nn=Oe-rn*ke,Ge=rn*Ue):(Ve=en+rn*ke,cn=-rn*Ue),{textX:we,textY:qe,targetX:nn,targetY:Ve,anchorX:Ge,anchorY:cn,scale:je,rotate:Be}}(Zt,Ht,ee,qt,he,{isHorizontal:Ct,constrained:ue,angle:Re})):(ue=Lt.constraintext==="both"||Lt.constraintext==="inside",Ce=R(Zt,Ht,ee,qt,he,{isHorizontal:Ct,constrained:ue,angle:Re,anchor:Lt.insidetextanchor})),Ce.fontSize=Te.size,u(Lt.type,Ce,at),jt.transform=Ce,x(be,at,vt,bt).attr("transform",o.getTextTransform(Ce))})(I,j,Yt,L,Mt,gt,ot,nt,ut,$,rt),j.layerClipId&&l.hideOutsideRangePoint(mt,Yt.select("text"),q,H,E.xcalendar,E.ycalendar)});var ct=E.cliponaxis===!1;l.setClipUrl(X,ct?null:j.layerClipId,I)});i.getComponentMethod("errorbars","plot")(I,F,j,$)},toMoveInsideBar:R}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":316,"./attributes":326,"./constants":328,"./helpers":332,"./style":340,"./uniform_text":342,"@plotly/d3":11,"fast-isnumeric":17}],338:[function(c,J,N){function t(s,o,e,n,l){var i=o.c2p(n?s.s0:s.p0,!0),a=o.c2p(n?s.s1:s.p1,!0),r=e.c2p(n?s.p0:s.s0,!0),u=e.c2p(n?s.p1:s.s1,!0);return l?[(i+a)/2,(r+u)/2]:n?[a,(r+u)/2]:[(i+a)/2,u]}J.exports=function(s,o){var e,n=s.cd,l=s.xaxis,i=s.yaxis,a=n[0].trace,r=a.type==="funnel",u=a.orientation==="h",d=[];if(o===!1)for(e=0;e<n.length;e++)n[e].selected=0;else for(e=0;e<n.length;e++){var p=n[e],m="ct"in p?p.ct:t(p,l,i,u,r);o.contains(m,!1,e,s)?(d.push({pointNumber:e,x:l.c2d(p.x),y:i.c2d(p.y)}),p.selected=1):p.selected=0}return d}},{}],339:[function(c,J,N){J.exports=o;var t=c("../../lib").distinctVals,s=c("../../constants/numerical").BADNUM;function o(e,n){this.traces=e,this.sepNegVal=n.sepNegVal,this.overlapNoMerge=n.overlapNoMerge;for(var l=1/0,i=[],a=0;a<e.length;a++){for(var r=e[a],u=0;u<r.length;u++){var d=r[u];d.p!==s&&i.push(d.p)}r[0]&&r[0].width1&&(l=Math.min(r[0].width1,l))}this.positions=i;var p=t(i);this.distinctPositions=p.vals,p.vals.length===1&&l!==1/0?this.minDiff=l:this.minDiff=Math.min(p.minDiff,l);var m=(n.posAxis||{}).type;m!=="category"&&m!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,n){var l=this.getLabel(e,n),i=this.bins[l]||0;return this.bins[l]=i+n,i},o.prototype.get=function(e,n){var l=this.getLabel(e,n);return this.bins[l]||0},o.prototype.getLabel=function(e,n){return(n<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],340:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../components/color"),o=c("../../components/drawing"),e=c("../../lib"),n=c("../../registry"),l=c("./uniform_text").resizeText,i=c("./attributes"),a=i.textfont,r=i.insidetextfont,u=i.outsidetextfont,d=c("./helpers");function p(y,T,k){o.pointStyle(y.selectAll("path"),T,k),m(y,T,k)}function m(y,T,k){y.selectAll("text").each(function(x){var D=t.select(this),z=e.ensureUniformFontSize(k,M(D,x,T,k));o.font(D,z)})}function M(y,T,k,x){var D=x._fullLayout.font,z=k.textfont;if(y.classed("bartext-inside")){var g=A(T,k);z=b(k,T.i,D,g)}else y.classed("bartext-outside")&&(z=v(k,T.i,D));return z}function w(y,T,k){return h(a,y.textfont,T,k)}function b(y,T,k,x){var D=w(y,T,k);return(y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[T]===void 0)&&(D={color:s.contrast(x),family:D.family,size:D.size}),h(r,y.insidetextfont,T,D)}function v(y,T,k){var x=w(y,T,k);return h(u,y.outsidetextfont,T,x)}function h(y,T,k,x){T=T||{};var D=d.getValue(T.family,k),z=d.getValue(T.size,k),g=d.getValue(T.color,k);return{family:d.coerceString(y.family,D,x.family),size:d.coerceNumber(y.size,z,x.size),color:d.coerceColor(y.color,g,x.color)}}function A(y,T){return T.type==="waterfall"?T[y.dir].marker.color:y.mcc||y.mc||T.marker.color}J.exports={style:function(y){var T=t.select(y).selectAll("g.barlayer").selectAll("g.trace");l(y,T,"bar");var k=T.size(),x=y._fullLayout;T.style("opacity",function(D){return D[0].trace.opacity}).each(function(D){(x.barmode==="stack"&&k>1||x.bargap===0&&x.bargroupgap===0&&!D[0].trace.marker.line.width)&&t.select(this).attr("shape-rendering","crispEdges")}),T.selectAll("g.points").each(function(D){p(t.select(this),D[0].trace,y)}),n.getComponentMethod("errorbars","style")(T)},styleTextPoints:m,styleOnSelect:function(y,T,k){var x=T[0].trace;x.selectedpoints?function(D,z,g){o.selectedPointStyle(D.selectAll("path"),z),function(R,I,j){R.each(function(Y){var B,$=t.select(this);if(Y.selected){B=e.ensureUniformFontSize(j,M($,Y,I,j));var rt=I.selected.textfont&&I.selected.textfont.color;rt&&(B.color=rt),o.font($,B)}else o.selectedTextStyle($,I)})}(D.selectAll("text"),z,g)}(k,x,y):(p(k,x,y),n.getComponentMethod("errorbars","style")(k))},getInsideTextFont:b,getOutsideTextFont:v,getBarColor:A,resizeText:l}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":316,"./attributes":326,"./helpers":332,"./uniform_text":342,"@plotly/d3":11}],341:[function(c,J,N){var t=c("../../components/color"),s=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults"),e=c("../../lib").coercePattern;J.exports=function(n,l,i,a,r){var u=i("marker.color",a),d=s(n,"marker");d&&o(n,l,r,i,{prefix:"marker.",cLetter:"c"}),i("marker.line.color",t.defaultLine),s(n,"marker.line")&&o(n,l,r,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width"),i("marker.opacity"),e(i,"marker.pattern",u,d),i("selected.marker.color"),i("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],342:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../lib");function o(e){return"_"+e+"Text_minsize"}J.exports={recordMinTextSize:function(e,n,l){if(l.uniformtext.mode){var i=o(e),a=l.uniformtext.minsize,r=n.scale*n.fontSize;n.hide=r<a,l[i]=l[i]||1/0,n.hide||(l[i]=Math.min(l[i],Math.max(r,a)))}},clearMinTextSize:function(e,n){n[o(e)]=void 0},resizeText:function(e,n,l){var i=e._fullLayout,a=i["_"+l+"Text_minsize"];if(a){var r,u=i.uniformtext.mode==="hide";switch(l){case"funnelarea":case"pie":case"sunburst":r="g.slice";break;case"treemap":case"icicle":r="g.slice, g.pathbar";break;default:r="g.points > g.point"}n.selectAll(r).each(function(d){var p=d.transform;p&&(p.scale=u&&p.hide?0:a/p.fontSize,t.select(this).select("text").attr("transform",s.getTextTransform(p)))})}}}},{"../../lib":232,"@plotly/d3":11}],343:[function(c,J,N){var t=c("../../plots/attributes"),s=c("../../plots/domain").attributes,o=c("../../plots/font_attributes"),e=c("../../components/color/attributes"),n=c("../../plots/template_attributes").hovertemplateAttrs,l=c("../../plots/template_attributes").texttemplateAttrs,i=c("../../lib/extend").extendFlat,a=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});J.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:e.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:i({},t.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:n({},{keys:["label","color","value","percent","text"]}),texttemplate:l({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:i({},a,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:i({},a,{}),outsidetextfont:i({},a,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:i({},a,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:s({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:i({},a,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":307,"../../plots/font_attributes":308,"../../plots/template_attributes":315}],344:[function(c,J,N){var t=c("../../plots/plots");N.name="pie",N.plot=function(s,o,e,n){t.plotBasePlot(N.name,s,o,e,n)},N.clean=function(s,o,e,n){t.cleanBasePlot(N.name,s,o,e,n)}},{"../../plots/plots":314}],345:[function(c,J,N){var t=c("fast-isnumeric"),s=c("tinycolor2"),o=c("../../components/color"),e={};function n(i){return function(a,r){return!!a&&!!(a=s(a)).isValid()&&(a=o.addOpacity(a,a.getAlpha()),i[r]||(i[r]=a),a)}}function l(i,a){var r,u=JSON.stringify(i),d=a[u];if(!d){for(d=i.slice(),r=0;r<i.length;r++)d.push(s(i[r]).lighten(20).toHexString());for(r=0;r<i.length;r++)d.push(s(i[r]).darken(20).toHexString());a[u]=d}return d}J.exports={calc:function(i,a){var r,u,d=[],p=i._fullLayout,m=p.hiddenlabels||[],M=a.labels,w=a.marker.colors||[],b=a.values,v=a._length,h=a._hasValues&&v;if(a.dlabel)for(M=new Array(v),r=0;r<v;r++)M[r]=String(a.label0+r*a.dlabel);var A={},y=n(p["_"+a.type+"colormap"]),T=0,k=!1;for(r=0;r<v;r++){var x,D,z;if(h){if(x=b[r],!t(x)||(x=+x)<0)continue}else x=1;(D=M[r])!==void 0&&D!==""||(D=r);var g=A[D=String(D)];g===void 0?(A[D]=d.length,(z=m.indexOf(D)!==-1)||(T+=x),d.push({v:x,label:D,color:y(w[r],D),i:r,pts:[r],hidden:z})):(k=!0,(u=d[g]).v+=x,u.pts.push(r),u.hidden||(T+=x),u.color===!1&&w[r]&&(u.color=y(w[r],D)))}return(a.type==="funnelarea"?k:a.sort)&&d.sort(function(R,I){return I.v-R.v}),d[0]&&(d[0].vTotal=T),d},crossTraceCalc:function(i,a){var r=(a||{}).type;r||(r="pie");var u=i._fullLayout,d=i.calcdata,p=u[r+"colorway"],m=u["_"+r+"colormap"];u["extend"+r+"colors"]&&(p=l(p,e));for(var M=0,w=0;w<d.length;w++){var b=d[w];if(b[0].trace.type===r)for(var v=0;v<b.length;v++){var h=b[v];h.color===!1&&(m[h.label]?h.color=m[h.label]:(m[h.label]=h.color=p[M%p.length],M++))}}},makePullColorFn:n,generateExtendedColors:l}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],346:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib"),o=c("./attributes"),e=c("../../plots/domain").defaults,n=c("../bar/defaults").handleText;function l(i,a){var r=Array.isArray(i),u=s.isArrayOrTypedArray(a),d=Math.min(r?i.length:1/0,u?a.length:1/0);if(isFinite(d)||(d=0),d&&u){for(var p,m=0;m<d;m++){var M=a[m];if(t(M)&&M>0){p=!0;break}}p||(d=0)}return{hasLabels:r,hasValues:u,len:d}}J.exports={handleLabelsAndValues:l,supplyDefaults:function(i,a,r,u){function d(y,T){return s.coerce(i,a,o,y,T)}var p=l(d("labels"),d("values")),m=p.len;if(a._hasLabels=p.hasLabels,a._hasValues=p.hasValues,!a._hasLabels&&a._hasValues&&(d("label0"),d("dlabel")),m){a._length=m,d("marker.line.width")&&d("marker.line.color"),d("marker.colors"),d("scalegroup");var M,w=d("text"),b=d("texttemplate");if(b||(M=d("textinfo",Array.isArray(w)?"text+percent":"percent")),d("hovertext"),d("hovertemplate"),b||M&&M!=="none"){var v=d("textposition");n(i,a,u,d,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(v)||v==="auto"||v==="outside")&&d("automargin"),(v==="inside"||v==="auto"||Array.isArray(v))&&d("insidetextorientation")}e(a,u,d);var h=d("hole");if(d("title.text")){var A=d("title.position",h?"middle center":"top center");h||A!=="middle center"||(a.title.position="top center"),s.coerceFont(d,"title.font",u.font)}d("sort"),d("direction"),d("rotation"),d("pull")}else a.visible=!1}}},{"../../lib":232,"../../plots/domain":307,"../bar/defaults":330,"./attributes":343,"fast-isnumeric":17}],347:[function(c,J,N){var t=c("../../components/fx/helpers").appendArrayMultiPointValues;J.exports=function(s,o){var e={curveNumber:o.index,pointNumbers:s.pts,data:o._input,fullData:o,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,v:s.v};return s.pts.length===1&&(e.pointNumber=e.i=s.pts[0]),t(e,o,s.pts),o.type==="funnelarea"&&(delete e.v,delete e.i),e}},{"../../components/fx/helpers":138}],348:[function(c,J,N){var t=c("../../lib");function s(o){return o.indexOf("e")!==-1?o.replace(/[.]?0+e/,"e"):o.indexOf(".")!==-1?o.replace(/[.]?0+$/,""):o}N.formatPiePercent=function(o,e){var n=s((100*o).toPrecision(3));return t.numSeparate(n,e)+"%"},N.formatPieValue=function(o,e){var n=s(o.toPrecision(10));return t.numSeparate(n,e)},N.getFirstFilled=function(o,e){if(Array.isArray(o))for(var n=0;n<e.length;n++){var l=o[e[n]];if(l||l===0||l==="")return l}},N.castOption=function(o,e){return Array.isArray(o)?N.getFirstFilled(o,e):o||void 0},N.getRotationAngle=function(o){return(o==="auto"?0:o)*Math.PI/180}},{"../../lib":232}],349:[function(c,J,N){J.exports={attributes:c("./attributes"),supplyDefaults:c("./defaults").supplyDefaults,supplyLayoutDefaults:c("./layout_defaults"),layoutAttributes:c("./layout_attributes"),calc:c("./calc").calc,crossTraceCalc:c("./calc").crossTraceCalc,plot:c("./plot").plot,style:c("./style"),styleOne:c("./style_one"),moduleType:"trace",name:"pie",basePlotModule:c("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":343,"./base_plot":344,"./calc":345,"./defaults":346,"./layout_attributes":350,"./layout_defaults":351,"./plot":352,"./style":353,"./style_one":354}],350:[function(c,J,N){J.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],351:[function(c,J,N){var t=c("../../lib"),s=c("./layout_attributes");J.exports=function(o,e){function n(l,i){return t.coerce(o,e,s,l,i)}n("hiddenlabels"),n("piecolorway",e.colorway),n("extendpiecolors")}},{"../../lib":232,"./layout_attributes":350}],352:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../plots/plots"),o=c("../../components/fx"),e=c("../../components/color"),n=c("../../components/drawing"),l=c("../../lib"),i=l.strScale,a=l.strTranslate,r=c("../../lib/svg_text_utils"),u=c("../bar/uniform_text"),d=u.recordMinTextSize,p=u.clearMinTextSize,m=c("../bar/constants").TEXTPAD,M=c("./helpers"),w=c("./event_data"),b=c("../../lib").isValidTextValue;function v(H,C,F){var L=F[0],X=L.trace,E=L.cx,Z=L.cy;"_hasHoverLabel"in X||(X._hasHoverLabel=!1),"_hasHoverEvent"in X||(X._hasHoverEvent=!1),H.on("mouseover",function(S){var U=C._fullLayout,P=C._fullData[X.index];if(!C._dragging&&U.hovermode!==!1){var G=P.hoverinfo;if(Array.isArray(G)&&(G=o.castHoverinfo({hoverinfo:[M.castOption(G,S.pts)],_module:X._module},U,0)),G==="all"&&(G="label+text+value+percent+name"),P.hovertemplate||G!=="none"&&G!=="skip"&&G){var Q=S.rInscribed||0,et=E+S.pxmid[0]*(1-Q),tt=Z+S.pxmid[1]*(1-Q),lt=U.separators,ct=[];if(G&&G.indexOf("label")!==-1&&ct.push(S.label),S.text=M.castOption(P.hovertext||P.text,S.pts),G&&G.indexOf("text")!==-1){var mt=S.text;l.isValidTextValue(mt)&&ct.push(mt)}S.value=S.v,S.valueLabel=M.formatPieValue(S.v,lt),G&&G.indexOf("value")!==-1&&ct.push(S.valueLabel),S.percent=S.v/L.vTotal,S.percentLabel=M.formatPiePercent(S.percent,lt),G&&G.indexOf("percent")!==-1&&ct.push(S.percentLabel);var Mt=P.hoverlabel,St=Mt.font;o.loneHover({trace:X,x0:et-Q*L.r,x1:et+Q*L.r,y:tt,text:ct.join("<br>"),name:P.hovertemplate||G.indexOf("name")!==-1?P.name:void 0,idealAlign:S.pxmid[0]<0?"left":"right",color:M.castOption(Mt.bgcolor,S.pts)||S.color,borderColor:M.castOption(Mt.bordercolor,S.pts),fontFamily:M.castOption(St.family,S.pts),fontSize:M.castOption(St.size,S.pts),fontColor:M.castOption(St.color,S.pts),nameLength:M.castOption(Mt.namelength,S.pts),textAlign:M.castOption(Mt.align,S.pts),hovertemplate:M.castOption(P.hovertemplate,S.pts),hovertemplateLabels:S,eventData:[w(S,P)]},{container:U._hoverlayer.node(),outerContainer:U._paper.node(),gd:C}),X._hasHoverLabel=!0}X._hasHoverEvent=!0,C.emit("plotly_hover",{points:[w(S,P)],event:t.event})}}),H.on("mouseout",function(S){var U=C._fullLayout,P=C._fullData[X.index],G=t.select(this).datum();X._hasHoverEvent&&(S.originalEvent=t.event,C.emit("plotly_unhover",{points:[w(G,P)],event:t.event}),X._hasHoverEvent=!1),X._hasHoverLabel&&(o.loneUnhover(U._hoverlayer.node()),X._hasHoverLabel=!1)}),H.on("click",function(S){var U=C._fullLayout,P=C._fullData[X.index];C._dragging||U.hovermode===!1||(C._hoverdata=[w(S,P)],o.click(C,t.event))})}function h(H,C,F){var L=M.castOption(H.insidetextfont.color,C.pts);!L&&H._input.textfont&&(L=M.castOption(H._input.textfont.color,C.pts));var X=M.castOption(H.insidetextfont.family,C.pts)||M.castOption(H.textfont.family,C.pts)||F.family,E=M.castOption(H.insidetextfont.size,C.pts)||M.castOption(H.textfont.size,C.pts)||F.size;return{color:L||e.contrast(C.color),family:X,size:E}}function A(H,C){for(var F,L,X=0;X<H.length;X++)if((L=(F=H[X][0]).trace).title.text){var E=L.title.text;L._meta&&(E=l.templateString(E,L._meta));var Z=n.tester.append("text").attr("data-notex",1).text(E).call(n.font,L.title.font).call(r.convertToTspans,C),S=n.bBox(Z.node(),!0);F.titleBox={width:S.width,height:S.height},Z.remove()}}function y(H,C,F){var L=F.r||C.rpx1,X=C.rInscribed;if(C.startangle===C.stopangle)return{rCenter:1-X,scale:0,rotate:0,textPosAngle:0};var E,Z=C.ring,S=Z===1&&Math.abs(C.startangle-C.stopangle)===2*Math.PI,U=C.halfangle,P=C.midangle,G=F.trace.insidetextorientation,Q=G==="horizontal",et=G==="tangential",tt=G==="radial",lt=G==="auto",ct=[];if(!lt){var mt,Mt=function(ot,nt){if(function(Tt,xt){var Ot=Tt.startangle,It=Tt.stopangle;return Ot>xt&&xt>It||Ot<xt&&xt<It}(C,ot)){var ut=Math.abs(ot-C.startangle),ht=Math.abs(ot-C.stopangle),Dt=ut<ht?ut:ht;(E=nt==="tan"?k(H,L,Z,Dt,0):T(H,L,Z,Dt,Math.PI/2)).textPosAngle=ot,ct.push(E)}};if(Q||et){for(mt=4;mt>=-4;mt-=2)Mt(Math.PI*mt,"tan");for(mt=4;mt>=-4;mt-=2)Mt(Math.PI*(mt+1),"tan")}if(Q||tt){for(mt=4;mt>=-4;mt-=2)Mt(Math.PI*(mt+1.5),"rad");for(mt=4;mt>=-4;mt-=2)Mt(Math.PI*(mt+.5),"rad")}}if(S||lt||Q){var St=Math.sqrt(H.width*H.width+H.height*H.height);if((E={scale:X*L*2/St,rCenter:1-X,rotate:0}).textPosAngle=(C.startangle+C.stopangle)/2,E.scale>=1)return E;ct.push(E)}(lt||tt)&&((E=T(H,L,Z,U,P)).textPosAngle=(C.startangle+C.stopangle)/2,ct.push(E)),(lt||et)&&((E=k(H,L,Z,U,P)).textPosAngle=(C.startangle+C.stopangle)/2,ct.push(E));for(var _t=0,Yt=0,Et=0;Et<ct.length;Et++){var gt=ct[Et].scale;if(Yt<gt&&(Yt=gt,_t=Et),!lt&&Yt>=1)break}return ct[_t]}function T(H,C,F,L,X){C=Math.max(0,C-2*m);var E=H.width/H.height,Z=z(E,L,C,F);return{scale:2*Z/H.height,rCenter:x(E,Z/C),rotate:D(X)}}function k(H,C,F,L,X){C=Math.max(0,C-2*m);var E=H.height/H.width,Z=z(E,L,C,F);return{scale:2*Z/H.width,rCenter:x(E,Z/C),rotate:D(X+Math.PI/2)}}function x(H,C){return Math.cos(C)-H*C}function D(H){return(180/Math.PI*H+720)%180-90}function z(H,C,F,L){var X=H+1/(2*Math.tan(C));return F*Math.min(1/(Math.sqrt(X*X+.5)+X),L/(Math.sqrt(H*H+L/2)+H))}function g(H,C){return H.v!==C.vTotal||C.trace.hole?Math.min(1/(1+1/Math.sin(H.halfangle)),H.ring/2):1}function R(H,C){var F=C.pxmid[0],L=C.pxmid[1],X=H.width/2,E=H.height/2;return F<0&&(X*=-1),L<0&&(E*=-1),{scale:1,rCenter:1,rotate:0,x:X+Math.abs(E)*(X>0?1:-1)/2,y:E/(1+F*F/(L*L)),outside:!0}}function I(H,C){var F,L,X,E=H.trace,Z={x:H.cx,y:H.cy},S={tx:0,ty:0};S.ty+=E.title.font.size,X=Y(E),E.title.position.indexOf("top")!==-1?(Z.y-=(1+X)*H.r,S.ty-=H.titleBox.height):E.title.position.indexOf("bottom")!==-1&&(Z.y+=(1+X)*H.r);var U,P,G=(U=H.r,P=H.trace.aspectratio,U/(P===void 0?1:P)),Q=C.w*(E.domain.x[1]-E.domain.x[0])/2;return E.title.position.indexOf("left")!==-1?(Q+=G,Z.x-=(1+X)*G,S.tx+=H.titleBox.width/2):E.title.position.indexOf("center")!==-1?Q*=2:E.title.position.indexOf("right")!==-1&&(Q+=G,Z.x+=(1+X)*G,S.tx-=H.titleBox.width/2),F=Q/H.titleBox.width,L=j(H,C)/H.titleBox.height,{x:Z.x,y:Z.y,scale:Math.min(F,L),tx:S.tx,ty:S.ty}}function j(H,C){var F=H.trace,L=C.h*(F.domain.y[1]-F.domain.y[0]);return Math.min(H.titleBox.height,L/2)}function Y(H){var C,F=H.pull;if(!F)return 0;if(Array.isArray(F))for(F=0,C=0;C<H.pull.length;C++)H.pull[C]>F&&(F=H.pull[C]);return F}function B(H,C){for(var F=[],L=0;L<H.length;L++){var X=H[L][0],E=X.trace,Z=E.domain,S=C.w*(Z.x[1]-Z.x[0]),U=C.h*(Z.y[1]-Z.y[0]);E.title.text&&E.title.position!=="middle center"&&(U-=j(X,C));var P=S/2,G=U/2;E.type!=="funnelarea"||E.scalegroup||(G/=E.aspectratio),X.r=Math.min(P,G)/(1+Y(E)),X.cx=C.l+C.w*(E.domain.x[1]+E.domain.x[0])/2,X.cy=C.t+C.h*(1-E.domain.y[0])-U/2,E.title.text&&E.title.position.indexOf("bottom")!==-1&&(X.cy-=j(X,C)),E.scalegroup&&F.indexOf(E.scalegroup)===-1&&F.push(E.scalegroup)}(function(Q,et){for(var tt,lt,ct,mt=0;mt<et.length;mt++){var Mt=1/0,St=et[mt];for(lt=0;lt<Q.length;lt++)if(tt=Q[lt][0],(ct=tt.trace).scalegroup===St){var _t;if(ct.type==="pie")_t=tt.r*tt.r;else if(ct.type==="funnelarea"){var Yt,Et;ct.aspectratio>1?(Yt=tt.r,Et=Yt/ct.aspectratio):(Et=tt.r,Yt=Et*ct.aspectratio),Yt*=(1+ct.baseratio)/2,_t=Yt*Et}Mt=Math.min(Mt,_t/tt.vTotal)}for(lt=0;lt<Q.length;lt++)if(tt=Q[lt][0],(ct=tt.trace).scalegroup===St){var gt=Mt*tt.vTotal;ct.type==="funnelarea"&&(gt/=(1+ct.baseratio)/2,gt/=ct.aspectratio),tt.r=Math.sqrt(gt)}}})(H,F)}function $(H,C){return[H*Math.sin(C),-H*Math.cos(C)]}function rt(H,C,F){var L=H._fullLayout,X=F.trace,E=X.texttemplate,Z=X.textinfo;if(!E&&Z&&Z!=="none"){var S,U=Z.split("+"),P=function(_t){return U.indexOf(_t)!==-1},G=P("label"),Q=P("text"),et=P("value"),tt=P("percent"),lt=L.separators;if(S=G?[C.label]:[],Q){var ct=M.getFirstFilled(X.text,C.pts);b(ct)&&S.push(ct)}et&&S.push(M.formatPieValue(C.v,lt)),tt&&S.push(M.formatPiePercent(C.v/F.vTotal,lt)),C.text=S.join("<br>")}if(E){var mt=l.castOption(X,C.i,"texttemplate");if(mt){var Mt=function(_t){return{label:_t.label,value:_t.v,valueLabel:M.formatPieValue(_t.v,L.separators),percent:_t.v/F.vTotal,percentLabel:M.formatPiePercent(_t.v/F.vTotal,L.separators),color:_t.color,text:_t.text,customdata:l.castOption(X,_t.i,"customdata")}}(C),St=M.getFirstFilled(X.text,C.pts);(b(St)||St==="")&&(Mt.text=St),C.text=l.texttemplateString(mt,Mt,H._fullLayout._d3locale,Mt,X._meta||{})}else C.text=""}}function q(H,C){var F=H.rotate*Math.PI/180,L=Math.cos(F),X=Math.sin(F),E=(C.left+C.right)/2,Z=(C.top+C.bottom)/2;H.textX=E*L-Z*X,H.textY=E*X+Z*L,H.noCenter=!0}J.exports={plot:function(H,C){var F=H._fullLayout,L=F._size;p("pie",F),A(C,H),B(C,L);var X=l.makeTraceGroups(F._pielayer,C,"trace").each(function(E){var Z=t.select(this),S=E[0],U=S.trace;(function(P){var G,Q,et,tt=P[0],lt=tt.r,ct=tt.trace,mt=M.getRotationAngle(ct.rotation),Mt=2*Math.PI/tt.vTotal,St="px0",_t="px1";if(ct.direction==="counterclockwise"){for(G=0;G<P.length&&P[G].hidden;G++);if(G===P.length)return;mt+=Mt*P[G].v,Mt*=-1,St="px1",_t="px0"}for(et=$(lt,mt),G=0;G<P.length;G++)(Q=P[G]).hidden||(Q[St]=et,Q.startangle=mt,mt+=Mt*Q.v/2,Q.pxmid=$(lt,mt),Q.midangle=mt,mt+=Mt*Q.v/2,et=$(lt,mt),Q.stopangle=mt,Q[_t]=et,Q.largeArc=Q.v>tt.vTotal/2?1:0,Q.halfangle=Math.PI*Math.min(Q.v/tt.vTotal,.5),Q.ring=1-ct.hole,Q.rInscribed=g(Q,tt))})(E),Z.attr("stroke-linejoin","round"),Z.each(function(){var P=t.select(this).selectAll("g.slice").data(E);P.enter().append("g").classed("slice",!0),P.exit().remove();var G=[[[],[]],[[],[]]],Q=!1;P.each(function(_t,Yt){if(_t.hidden)t.select(this).selectAll("path,g").remove();else{_t.pointNumber=_t.i,_t.curveNumber=U.index,G[_t.pxmid[1]<0?0:1][_t.pxmid[0]<0?0:1].push(_t);var Et=S.cx,gt=S.cy,ot=t.select(this),nt=ot.selectAll("path.surface").data([_t]);if(nt.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),ot.call(v,H,E),U.pull){var ut=+M.castOption(U.pull,_t.pts)||0;ut>0&&(Et+=ut*_t.pxmid[0],gt+=ut*_t.pxmid[1])}_t.cxFinal=Et,_t.cyFinal=gt;var ht=U.hole;if(_t.v===S.vTotal){var Dt="M"+(Et+_t.px0[0])+","+(gt+_t.px0[1])+wt(_t.px0,_t.pxmid,!0,1)+wt(_t.pxmid,_t.px0,!0,1)+"Z";ht?nt.attr("d","M"+(Et+ht*_t.px0[0])+","+(gt+ht*_t.px0[1])+wt(_t.px0,_t.pxmid,!1,ht)+wt(_t.pxmid,_t.px0,!1,ht)+"Z"+Dt):nt.attr("d",Dt)}else{var Tt=wt(_t.px0,_t.px1,!0,1);if(ht){var xt=1-ht;nt.attr("d","M"+(Et+ht*_t.px1[0])+","+(gt+ht*_t.px1[1])+wt(_t.px1,_t.px0,!1,ht)+"l"+xt*_t.px0[0]+","+xt*_t.px0[1]+Tt+"Z")}else nt.attr("d","M"+Et+","+gt+"l"+_t.px0[0]+","+_t.px0[1]+Tt+"Z")}rt(H,_t,S);var Ot=M.castOption(U.textposition,_t.pts),It=ot.selectAll("g.slicetext").data(_t.text&&Ot!=="none"?[0]:[]);It.enter().append("g").classed("slicetext",!0),It.exit().remove(),It.each(function(){var At=l.ensureSingle(t.select(this),"text","",function(vt){vt.attr("data-notex",1)}),Xt=l.ensureUniformFontSize(H,Ot==="outside"?function(vt,bt,Gt){var re=M.castOption(vt.outsidetextfont.color,bt.pts)||M.castOption(vt.textfont.color,bt.pts)||Gt.color,xe=M.castOption(vt.outsidetextfont.family,bt.pts)||M.castOption(vt.textfont.family,bt.pts)||Gt.family,at=M.castOption(vt.outsidetextfont.size,bt.pts)||M.castOption(vt.textfont.size,bt.pts)||Gt.size;return{color:re,family:xe,size:at}}(U,_t,F.font):h(U,_t,F.font));At.text(_t.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(n.font,Xt).call(r.convertToTspans,H);var kt,Bt=n.bBox(At.node());if(Ot==="outside")kt=R(Bt,_t);else if(kt=y(Bt,_t,S),Ot==="auto"&&kt.scale<1){var Zt=l.ensureUniformFontSize(H,U.outsidetextfont);At.call(n.font,Zt),kt=R(Bt=n.bBox(At.node()),_t)}var Ht=kt.textPosAngle,ee=Ht===void 0?_t.pxmid:$(S.r,Ht);if(kt.targetX=Et+ee[0]*kt.rCenter+(kt.x||0),kt.targetY=gt+ee[1]*kt.rCenter+(kt.y||0),q(kt,Bt),kt.outside){var qt=kt.targetY;_t.yLabelMin=qt-Bt.height/2,_t.yLabelMid=qt,_t.yLabelMax=qt+Bt.height/2,_t.labelExtraX=0,_t.labelExtraY=0,Q=!0}kt.fontSize=Xt.size,d(U.type,kt,F),E[Yt].transform=kt,At.attr("transform",l.getTextTransform(kt))})}function wt(At,Xt,kt,Bt){var Zt=Bt*(Xt[0]-At[0]),Ht=Bt*(Xt[1]-At[1]);return"a"+Bt*S.r+","+Bt*S.r+" 0 "+_t.largeArc+(kt?" 1 ":" 0 ")+Zt+","+Ht}});var et=t.select(this).selectAll("g.titletext").data(U.title.text?[0]:[]);if(et.enter().append("g").classed("titletext",!0),et.exit().remove(),et.each(function(){var _t,Yt=l.ensureSingle(t.select(this),"text","",function(gt){gt.attr("data-notex",1)}),Et=U.title.text;U._meta&&(Et=l.templateString(Et,U._meta)),Yt.text(Et).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(n.font,U.title.font).call(r.convertToTspans,H),_t=U.title.position==="middle center"?function(gt){var ot=Math.sqrt(gt.titleBox.width*gt.titleBox.width+gt.titleBox.height*gt.titleBox.height);return{x:gt.cx,y:gt.cy,scale:gt.trace.hole*gt.r*2/ot,tx:0,ty:-gt.titleBox.height/2+gt.trace.title.font.size}}(S):I(S,L),Yt.attr("transform",a(_t.x,_t.y)+i(Math.min(1,_t.scale))+a(_t.tx,_t.ty))}),Q&&function(_t,Yt){var Et,gt,ot,nt,ut,ht,Dt,Tt,xt,Ot,It,wt,At;function Xt(Ht,ee){return Ht.pxmid[1]-ee.pxmid[1]}function kt(Ht,ee){return ee.pxmid[1]-Ht.pxmid[1]}function Bt(Ht,ee){ee||(ee={});var qt,vt,bt,Gt,re=ee.labelExtraY+(gt?ee.yLabelMax:ee.yLabelMin),xe=gt?Ht.yLabelMin:Ht.yLabelMax,at=gt?Ht.yLabelMax:Ht.yLabelMin,st=Ht.cyFinal+ut(Ht.px0[1],Ht.px1[1]),Lt=re-xe;if(Lt*Dt>0&&(Ht.labelExtraY=Lt),Array.isArray(Yt.pull))for(vt=0;vt<Ot.length;vt++)(bt=Ot[vt])===Ht||(M.castOption(Yt.pull,Ht.pts)||0)>=(M.castOption(Yt.pull,bt.pts)||0)||((Ht.pxmid[1]-bt.pxmid[1])*Dt>0?(Lt=bt.cyFinal+ut(bt.px0[1],bt.px1[1])-xe-Ht.labelExtraY)*Dt>0&&(Ht.labelExtraY+=Lt):(at+Ht.labelExtraY-st)*Dt>0&&(qt=3*ht*Math.abs(vt-Ot.indexOf(Ht)),(Gt=bt.cxFinal+nt(bt.px0[0],bt.px1[0])+qt-(Ht.cxFinal+Ht.pxmid[0])-Ht.labelExtraX)*ht>0&&(Ht.labelExtraX+=Gt)))}for(gt=0;gt<2;gt++)for(ot=gt?Xt:kt,ut=gt?Math.max:Math.min,Dt=gt?1:-1,Et=0;Et<2;Et++){for(nt=Et?Math.max:Math.min,ht=Et?1:-1,(Tt=_t[gt][Et]).sort(ot),xt=_t[1-gt][Et],Ot=xt.concat(Tt),wt=[],It=0;It<Tt.length;It++)Tt[It].yLabelMid!==void 0&&wt.push(Tt[It]);for(At=!1,It=0;gt&&It<xt.length;It++)if(xt[It].yLabelMid!==void 0){At=xt[It];break}for(It=0;It<wt.length;It++){var Zt=It&&wt[It-1];At&&!It&&(Zt=At),Bt(wt[It],Zt)}}}(G,U),function(_t,Yt){_t.each(function(Et){var gt=t.select(this);if(Et.labelExtraX||Et.labelExtraY){var ot=gt.select("g.slicetext text");Et.transform.targetX+=Et.labelExtraX,Et.transform.targetY+=Et.labelExtraY,ot.attr("transform",l.getTextTransform(Et.transform));var nt=Et.cxFinal+Et.pxmid[0],ut="M"+nt+","+(Et.cyFinal+Et.pxmid[1]),ht=(Et.yLabelMax-Et.yLabelMin)*(Et.pxmid[0]<0?-1:1)/4;if(Et.labelExtraX){var Dt=Et.labelExtraX*Et.pxmid[1]/Et.pxmid[0],Tt=Et.yLabelMid+Et.labelExtraY-(Et.cyFinal+Et.pxmid[1]);Math.abs(Dt)>Math.abs(Tt)?ut+="l"+Tt*Et.pxmid[0]/Et.pxmid[1]+","+Tt+"H"+(nt+Et.labelExtraX+ht):ut+="l"+Et.labelExtraX+","+Dt+"v"+(Tt-Dt)+"h"+ht}else ut+="V"+(Et.yLabelMid+Et.labelExtraY)+"h"+ht;l.ensureSingle(gt,"path","textline").call(e.stroke,Yt.outsidetextfont.color).attr({"stroke-width":Math.min(2,Yt.outsidetextfont.size/8),d:ut,fill:"none"})}else gt.select("path.textline").remove()})}(P,U),Q&&U.automargin){var tt=n.bBox(Z.node()),lt=U.domain,ct=L.w*(lt.x[1]-lt.x[0]),mt=L.h*(lt.y[1]-lt.y[0]),Mt=(.5*ct-S.r)/L.w,St=(.5*mt-S.r)/L.h;s.autoMargin(H,"pie."+U.uid+".automargin",{xl:lt.x[0]-Mt,xr:lt.x[1]+Mt,yb:lt.y[0]-St,yt:lt.y[1]+St,l:Math.max(S.cx-S.r-tt.left,0),r:Math.max(tt.right-(S.cx+S.r),0),b:Math.max(tt.bottom-(S.cy+S.r),0),t:Math.max(S.cy-S.r-tt.top,0),pad:5})}})});setTimeout(function(){X.selectAll("tspan").each(function(){var E=t.select(this);E.attr("dy")&&E.attr("dy",E.attr("dy"))})},0)},formatSliceLabel:rt,transformInsideText:y,determineInsideTextFont:h,positionTitleOutside:I,prerenderTitles:A,layoutAreas:B,attachFxHandlers:v,computeTransform:q}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../bar/constants":328,"../bar/uniform_text":342,"./event_data":347,"./helpers":348,"@plotly/d3":11}],353:[function(c,J,N){var t=c("@plotly/d3"),s=c("./style_one"),o=c("../bar/uniform_text").resizeText;J.exports=function(e){var n=e._fullLayout._pielayer.selectAll(".trace");o(e,n,"pie"),n.each(function(l){var i=l[0].trace,a=t.select(this);a.style({opacity:i.opacity}),a.selectAll("path.surface").each(function(r){t.select(this).call(s,r,i)})})}},{"../bar/uniform_text":342,"./style_one":354,"@plotly/d3":11}],354:[function(c,J,N){var t=c("../../components/color"),s=c("./helpers").castOption;J.exports=function(o,e,n){var l=n.marker.line,i=s(l.color,e.pts)||t.defaultLine,a=s(l.width,e.pts)||0;o.style("stroke-width",a).call(t.fill,e.color).call(t.stroke,i)}},{"../../components/color":102,"./helpers":348}],355:[function(c,J,N){var t=c("../../lib");J.exports=function(s,o){for(var e=0;e<s.length;e++)s[e].i=e;t.mergeArray(o.text,s,"tx"),t.mergeArray(o.texttemplate,s,"txt"),t.mergeArray(o.hovertext,s,"htx"),t.mergeArray(o.customdata,s,"data"),t.mergeArray(o.textposition,s,"tp"),o.textfont&&(t.mergeArrayCastPositive(o.textfont.size,s,"ts"),t.mergeArray(o.textfont.color,s,"tc"),t.mergeArray(o.textfont.family,s,"tf"));var n=o.marker;if(n){t.mergeArrayCastPositive(n.size,s,"ms"),t.mergeArrayCastPositive(n.opacity,s,"mo"),t.mergeArray(n.symbol,s,"mx"),t.mergeArray(n.color,s,"mc");var l=n.line;n.line&&(t.mergeArray(l.color,s,"mlc"),t.mergeArrayCastPositive(l.width,s,"mlw"));var i=n.gradient;i&&i.type!=="none"&&(t.mergeArray(i.type,s,"mgt"),t.mergeArray(i.color,s,"mgc"))}}},{"../../lib":232}],356:[function(c,J,N){var t=c("../../plots/cartesian/axis_format_attributes").axisHoverFormat,s=c("../../plots/template_attributes").texttemplateAttrs,o=c("../../plots/template_attributes").hovertemplateAttrs,e=c("../../components/colorscale/attributes"),n=c("../../plots/font_attributes"),l=c("../../components/drawing/attributes").dash,i=c("../../components/drawing"),a=c("./constants"),r=c("../../lib/extend").extendFlat;J.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:t("x"),yhoverformat:t("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:s({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:a.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},l,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:r({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},e("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},e("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:n({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":308,"../../plots/template_attributes":315,"./constants":360}],357:[function(c,J,N){var t=c("fast-isnumeric"),s=c("../../lib"),o=c("../../plots/cartesian/axes"),e=c("../../plots/cartesian/align_period"),n=c("../../constants/numerical").BADNUM,l=c("./subtypes"),i=c("./colorscale_calc"),a=c("./arrays_to_calcdata"),r=c("./calc_selection");function u(w,b,v,h,A,y,T){var k=b._length,x=w._fullLayout,D=v._id,z=h._id,g=x._firstScatter[m(b)]===b.uid,R=(M(b,x,v,h)||{}).orientation,I=b.fill;v._minDtick=0,h._minDtick=0;var j={padded:!0},Y={padded:!0};T&&(j.ppad=Y.ppad=T);var B=k<2||A[0]!==A[k-1]||y[0]!==y[k-1];B&&(I==="tozerox"||I==="tonextx"&&(g||R==="h"))?j.tozero=!0:(b.error_y||{}).visible||I!=="tonexty"&&I!=="tozeroy"&&(l.hasMarkers(b)||l.hasText(b))||(j.padded=!1,j.ppad=0),B&&(I==="tozeroy"||I==="tonexty"&&(g||R==="v"))?Y.tozero=!0:I!=="tonextx"&&I!=="tozerox"||(Y.padded=!1),D&&(b._extremes[D]=o.findExtremes(v,A,j)),z&&(b._extremes[z]=o.findExtremes(h,y,Y))}function d(w,b){if(l.hasMarkers(w)){var v,h=w.marker,A=1.6*(w.marker.sizeref||1);if(v=w.marker.sizemode==="area"?function(D){return Math.max(Math.sqrt((D||0)/A),3)}:function(D){return Math.max((D||0)/A,3)},s.isArrayOrTypedArray(h.size)){var y={type:"linear"};o.setConvert(y);for(var T=y.makeCalcdata(w.marker,"size"),k=new Array(b),x=0;x<b;x++)k[x]=v(T[x]);return k}return v(h.size)}}function p(w,b){var v=m(b),h=w._firstScatter;h[v]||(h[v]=b.uid)}function m(w){var b=w.stackgroup;return w.xaxis+w.yaxis+w.type+(b?"-"+b:"")}function M(w,b,v,h){var A=w.stackgroup;if(A){var y=b._scatterStackOpts[v._id+h._id][A],T=y.orientation==="v"?h:v;return T.type==="linear"||T.type==="log"?y:void 0}}J.exports={calc:function(w,b){var v,h,A,y,T,k,x=w._fullLayout,D=o.getFromId(w,b.xaxis||"x"),z=o.getFromId(w,b.yaxis||"y"),g=D.makeCalcdata(b,"x"),R=z.makeCalcdata(b,"y"),I=e(b,D,"x",g),j=e(b,z,"y",R),Y=I.vals,B=j.vals,$=b._length,rt=new Array($),q=b.ids,H=M(b,x,D,z),C=!1;p(x,b);var F,L="x",X="y";H?(s.pushUnique(H.traceIndices,b._expandedIndex),(v=H.orientation==="v")?(X="s",F="x"):(L="s",F="y"),T=H.stackgaps==="interpolate"):u(w,b,D,z,Y,B,d(b,$));var E=!!b.xperiodalignment,Z=!!b.yperiodalignment;for(h=0;h<$;h++){var S=rt[h]={},U=t(Y[h]),P=t(B[h]);U&&P?(S[L]=Y[h],S[X]=B[h],E&&(S.orig_x=g[h],S.xEnd=I.ends[h],S.xStart=I.starts[h]),Z&&(S.orig_y=R[h],S.yEnd=j.ends[h],S.yStart=j.starts[h])):H&&(v?U:P)?(S[F]=v?Y[h]:B[h],S.gap=!0,T?(S.s=n,C=!0):S.s=0):S[L]=S[X]=n,q&&(S.id=String(q[h]))}if(a(rt,b),i(w,b),r(rt,b),H){for(h=0;h<rt.length;)rt[h][F]===n?rt.splice(h,1):h++;if(s.sort(rt,function(tt,lt){return tt[F]-lt[F]||tt.i-lt.i}),C){for(h=0;h<rt.length-1&&rt[h].gap;)h++;for((k=rt[h].s)||(k=rt[h].s=0),A=0;A<h;A++)rt[A].s=k;for(y=rt.length-1;y>h&&rt[y].gap;)y--;for(k=rt[y].s,A=rt.length-1;A>y;A--)rt[A].s=k;for(;h<y;)if(rt[++h].gap){for(A=h+1;rt[A].gap;)A++;for(var G=rt[h-1][F],Q=rt[h-1].s,et=(rt[A].s-Q)/(rt[A][F]-G);h<A;)rt[h].s=Q+(rt[h][F]-G)*et,h++}}}return rt},calcMarkerSize:d,calcAxisExpansion:u,setFirstScatter:p,getStackOpts:M}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":355,"./calc_selection":358,"./colorscale_calc":359,"./subtypes":381,"fast-isnumeric":17}],358:[function(c,J,N){var t=c("../../lib");J.exports=function(s,o){t.isArrayOrTypedArray(o.selectedpoints)&&t.tagSelected(s,o)}},{"../../lib":232}],359:[function(c,J,N){var t=c("../../components/colorscale/helpers").hasColorscale,s=c("../../components/colorscale/calc"),o=c("./subtypes");J.exports=function(e,n){o.hasLines(n)&&t(n,"line")&&s(e,n,{vals:n.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(n)&&(t(n,"marker")&&s(e,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),t(n,"marker.line")&&s(e,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":381}],360:[function(c,J,N){J.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],361:[function(c,J,N){var t=c("./calc");function s(o,e,n,l,i,a,r){i[l]=!0;var u={i:null,gap:!0,s:0};if(u[r]=n,o.splice(e,0,u),e&&n===o[e-1][r]){var d=o[e-1];u.s=d.s,u.i=d.i,u.gap=d.gap}else a&&(u.s=function(p,m,M,w){var b=p[m-1],v=p[m+1];return v?b?b.s+(v.s-b.s)*(M-b[w])/(v[w]-b[w]):v.s:b.s}(o,e,n,r));e||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}J.exports=function(o,e){var n=e.xaxis,l=e.yaxis,i=n._id+l._id,a=o._fullLayout._scatterStackOpts[i];if(a){var r,u,d,p,m,M,w,b,v,h,A,y,T,k,x,D=o.calcdata;for(var z in a){var g=(h=a[z]).traceIndices;if(g.length){for(A=h.stackgaps==="interpolate",y=h.groupnorm,h.orientation==="v"?(T="x",k="y"):(T="y",k="x"),x=new Array(g.length),r=0;r<x.length;r++)x[r]=!1;M=D[g[0]];var R=new Array(M.length);for(r=0;r<M.length;r++)R[r]=M[r][T];for(r=1;r<g.length;r++){for(m=D[g[r]],u=d=0;u<m.length;u++){for(w=m[u][T];w>R[d]&&d<R.length;d++)s(m,u,R[d],r,x,A,T),u++;if(w!==R[d]){for(p=0;p<r;p++)s(D[g[p]],d,w,p,x,A,T);R.splice(d,0,w)}d++}for(;d<R.length;d++)s(m,u,R[d],r,x,A,T),u++}var I=R.length;for(u=0;u<M.length;u++){for(b=M[u][k]=M[u].s,r=1;r<g.length;r++)(m=D[g[r]])[0].trace._rawLength=m[0].trace._length,m[0].trace._length=I,b+=m[u].s,m[u][k]=b;if(y)for(v=(y==="fraction"?b:b/100)||1,r=0;r<g.length;r++){var j=D[g[r]][u];j[k]/=v,j.sNorm=j.s/v}}for(r=0;r<g.length;r++){var Y=(m=D[g[r]])[0].trace,B=t.calcMarkerSize(Y,Y._rawLength),$=Array.isArray(B);if(B&&x[r]||$){var rt=B;for(B=new Array(I),u=0;u<I;u++)B[u]=m[u].gap?0:$?rt[m[u].i]:rt}var q=new Array(I),H=new Array(I);for(u=0;u<I;u++)q[u]=m[u].x,H[u]=m[u].y;t.calcAxisExpansion(o,Y,n,l,q,H,B),m[0].t.orientation=h.orientation}}}}}},{"./calc":357}],362:[function(c,J,N){J.exports=function(t){for(var s=0;s<t.length;s++){var o=t[s];if(o.type==="scatter"){var e=o.fill;if(e!=="none"&&e!=="toself"&&(o.opacity=void 0,e==="tonexty"||e==="tonextx"))for(var n=s-1;n>=0;n--){var l=t[n];if(l.type==="scatter"&&l.xaxis===o.xaxis&&l.yaxis===o.yaxis){l.opacity=void 0;break}}}}}},{}],363:[function(c,J,N){var t=c("../../lib"),s=c("../../registry"),o=c("./attributes"),e=c("./constants"),n=c("./subtypes"),l=c("./xy_defaults"),i=c("./period_defaults"),a=c("./stack_defaults"),r=c("./marker_defaults"),u=c("./line_defaults"),d=c("./line_shape_defaults"),p=c("./text_defaults"),m=c("./fillcolor_defaults");J.exports=function(M,w,b,v){function h(g,R){return t.coerce(M,w,o,g,R)}var A=l(M,w,v,h);if(A||(w.visible=!1),w.visible){i(M,w,v,h),h("xhoverformat"),h("yhoverformat");var y=a(M,w,v,h),T=!y&&A<e.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("mode",T),n.hasLines(w)&&(u(M,w,b,v,h),d(M,w,h),h("connectgaps"),h("line.simplify")),n.hasMarkers(w)&&r(M,w,b,v,h,{gradient:!0}),n.hasText(w)&&(h("texttemplate"),p(M,w,v,h));var k=[];(n.hasMarkers(w)||n.hasText(w))&&(h("cliponaxis"),h("marker.maxdisplayed"),k.push("points")),h("fill",y?y.fillDflt:"none"),w.fill!=="none"&&(m(M,w,b,h),n.hasLines(w)||d(M,w,h));var x=(w.line||{}).color,D=(w.marker||{}).color;w.fill!=="tonext"&&w.fill!=="toself"||k.push("fills"),h("hoveron",k.join("+")||"points"),w.hoveron!=="fills"&&h("hovertemplate");var z=s.getComponentMethod("errorbars","supplyDefaults");z(M,w,x||D||b,{axis:"y"}),z(M,w,x||D||b,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(w,h)}}},{"../../lib":232,"../../registry":316,"./attributes":356,"./constants":360,"./fillcolor_defaults":364,"./line_defaults":369,"./line_shape_defaults":371,"./marker_defaults":375,"./period_defaults":376,"./stack_defaults":379,"./subtypes":381,"./text_defaults":382,"./xy_defaults":383}],364:[function(c,J,N){var t=c("../../components/color"),s=c("../../lib").isArrayOrTypedArray;J.exports=function(o,e,n,l){var i=!1;if(e.marker){var a=e.marker.color,r=(e.marker.line||{}).color;a&&!s(a)?i=a:r&&!s(r)&&(i=r)}l("fillcolor",t.addOpacity((e.line||{}).color||i||n,.5))}},{"../../components/color":102,"../../lib":232}],365:[function(c,J,N){var t=c("../../plots/cartesian/axes");J.exports=function(s,o,e){var n={},l={_fullLayout:e},i=t.getFromTrace(l,o,"x"),a=t.getFromTrace(l,o,"y");return n.xLabel=t.tickText(i,i.c2l(s.x),!0).text,n.yLabel=t.tickText(a,a.c2l(s.y),!0).text,n}},{"../../plots/cartesian/axes":279}],366:[function(c,J,N){var t=c("../../components/color"),s=c("./subtypes");J.exports=function(o,e){var n,l;if(o.mode==="lines")return(n=o.line.color)&&t.opacity(n)?n:o.fillcolor;if(o.mode==="none")return o.fill?o.fillcolor:"";var i=e.mcc||(o.marker||{}).color,a=e.mlcc||((o.marker||{}).line||{}).color;return(l=i&&t.opacity(i)?i:a&&t.opacity(a)&&(e.mlw||((o.marker||{}).line||{}).width)?a:"")?t.opacity(l)<.3?t.addOpacity(l,.3):l:(n=(o.line||{}).color)&&t.opacity(n)&&s.hasLines(o)&&o.line.width?n:o.fillcolor}},{"../../components/color":102,"./subtypes":381}],367:[function(c,J,N){var t=c("../../lib"),s=c("../../components/fx"),o=c("../../registry"),e=c("./get_trace_color"),n=c("../../components/color"),l=t.fillText;J.exports=function(i,a,r,u){var d=i.cd,p=d[0].trace,m=i.xa,M=i.ya,w=m.c2p(a),b=M.c2p(r),v=[w,b],h=p.hoveron||"",A=p.mode.indexOf("markers")!==-1?3:.5,y=!!p.xperiodalignment,T=!!p.yperiodalignment;if(h.indexOf("points")!==-1){var k=function(ct){var mt=Math.max(A,ct.mrc||0),Mt=m.c2p(ct.x)-w,St=M.c2p(ct.y)-b;return Math.max(Math.sqrt(Mt*Mt+St*St)-mt,1-A/mt)},x=s.getDistanceFunction(u,function(ct){if(y){var mt=m.c2p(ct.xStart),Mt=m.c2p(ct.xEnd);return w>=Math.min(mt,Mt)&&w<=Math.max(mt,Mt)?0:1/0}var St=Math.max(3,ct.mrc||0),_t=1-1/St,Yt=Math.abs(m.c2p(ct.x)-w);return Yt<St?_t*Yt/St:Yt-St+_t},function(ct){if(T){var mt=M.c2p(ct.yStart),Mt=M.c2p(ct.yEnd);return b>=Math.min(mt,Mt)&&b<=Math.max(mt,Mt)?0:1/0}var St=Math.max(3,ct.mrc||0),_t=1-1/St,Yt=Math.abs(M.c2p(ct.y)-b);return Yt<St?_t*Yt/St:Yt-St+_t},k);if(s.getClosest(d,x,i),i.index!==!1){var D=d[i.index],z=m.c2p(D.x,!0),g=M.c2p(D.y,!0),R=D.mrc||1;i.index=D.i;var I=d[0].t.orientation,j=I&&(D.sNorm||D.s),Y=I==="h"?j:D.orig_x!==void 0?D.orig_x:D.x,B=I==="v"?j:D.orig_y!==void 0?D.orig_y:D.y;return t.extendFlat(i,{color:e(p,D),x0:z-R,x1:z+R,xLabelVal:Y,y0:g-R,y1:g+R,yLabelVal:B,spikeDistance:k(D),hovertemplate:p.hovertemplate}),l(D,p,i),o.getComponentMethod("errorbars","hoverInfo")(D,p,i),[i]}}if(h.indexOf("fills")!==-1&&p._polygons){var $,rt,q,H,C,F,L,X,E,Z=p._polygons,S=[],U=!1,P=1/0,G=-1/0,Q=1/0,et=-1/0;for($=0;$<Z.length;$++)(q=Z[$]).contains(v)&&(U=!U,S.push(q),Q=Math.min(Q,q.ymin),et=Math.max(et,q.ymax));if(U){var tt=((Q=Math.max(Q,0))+(et=Math.min(et,M._length)))/2;for($=0;$<S.length;$++)for(H=S[$].pts,rt=1;rt<H.length;rt++)(X=H[rt-1][1])>tt!=(E=H[rt][1])>=tt&&(F=H[rt-1][0],L=H[rt][0],E-X&&(C=F+(L-F)*(tt-X)/(E-X),P=Math.min(P,C),G=Math.max(G,C)));P=Math.max(P,0),G=Math.min(G,m._length);var lt=n.defaultLine;return n.opacity(p.fillcolor)?lt=p.fillcolor:n.opacity((p.line||{}).color)&&(lt=p.line.color),t.extendFlat(i,{distance:i.maxHoverDistance,x0:P,x1:G,y0:tt,y1:tt,color:lt,hovertemplate:!1}),delete i.index,p.text&&!Array.isArray(p.text)?i.text=String(p.text):i.text=p.name,[i]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":316,"./get_trace_color":366}],368:[function(c,J,N){var t=c("./subtypes");J.exports={hasLines:t.hasLines,hasMarkers:t.hasMarkers,hasText:t.hasText,isBubble:t.isBubble,attributes:c("./attributes"),supplyDefaults:c("./defaults"),crossTraceDefaults:c("./cross_trace_defaults"),calc:c("./calc").calc,crossTraceCalc:c("./cross_trace_calc"),arraysToCalcdata:c("./arrays_to_calcdata"),plot:c("./plot"),colorbar:c("./marker_colorbar"),formatLabels:c("./format_labels"),style:c("./style").style,styleOnSelect:c("./style").styleOnSelect,hoverPoints:c("./hover"),selectPoints:c("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:c("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":355,"./attributes":356,"./calc":357,"./cross_trace_calc":361,"./cross_trace_defaults":362,"./defaults":363,"./format_labels":365,"./hover":367,"./marker_colorbar":374,"./plot":377,"./select":378,"./style":380,"./subtypes":381}],369:[function(c,J,N){var t=c("../../lib").isArrayOrTypedArray,s=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults");J.exports=function(e,n,l,i,a,r){var u=(e.marker||{}).color;a("line.color",l),s(e,"line")?o(e,n,i,a,{prefix:"line.",cLetter:"c"}):a("line.color",!t(u)&&u||l),a("line.width"),(r||{}).noDash||a("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],370:[function(c,J,N){var t=c("../../constants/numerical"),s=t.BADNUM,o=t.LOG_CLIP,e=o+.5,n=o-.5,l=c("../../lib"),i=l.segmentsIntersect,a=l.constrain,r=c("./constants");J.exports=function(u,d){var p,m,M,w,b,v,h,A,y,T,k,x,D,z,g,R,I,j,Y=d.xaxis,B=d.yaxis,$=Y.type==="log",rt=B.type==="log",q=Y._length,H=B._length,C=d.connectGaps,F=d.baseTolerance,L=d.shape,X=L==="linear",E=d.fill&&d.fill!=="none",Z=[],S=r.minTolerance,U=u.length,P=new Array(U),G=0;function Q(kt){var Bt=u[kt];if(!Bt)return!1;var Zt=d.linearized?Y.l2p(Bt.x):Y.c2p(Bt.x),Ht=d.linearized?B.l2p(Bt.y):B.c2p(Bt.y);if(Zt===s){if($&&(Zt=Y.c2p(Bt.x,!0)),Zt===s)return!1;rt&&Ht===s&&(Zt*=Math.abs(Y._m*H*(Y._m>0?e:n)/(B._m*q*(B._m>0?e:n)))),Zt*=1e3}if(Ht===s){if(rt&&(Ht=B.c2p(Bt.y,!0)),Ht===s)return!1;Ht*=1e3}return[Zt,Ht]}function et(kt,Bt,Zt,Ht){var ee=Zt-kt,qt=Ht-Bt,vt=.5-kt,bt=.5-Bt,Gt=ee*ee+qt*qt,re=ee*vt+qt*bt;if(re>0&&re<Gt){var xe=vt*qt-bt*ee;if(xe*xe<Gt)return!0}}function tt(kt,Bt){var Zt=kt[0]/q,Ht=kt[1]/H,ee=Math.max(0,-Zt,Zt-1,-Ht,Ht-1);return ee&&I!==void 0&&et(Zt,Ht,I,j)&&(ee=0),ee&&Bt&&et(Zt,Ht,Bt[0]/q,Bt[1]/H)&&(ee=0),(1+r.toleranceGrowth*ee)*F}function lt(kt,Bt){var Zt=kt[0]-Bt[0],Ht=kt[1]-Bt[1];return Math.sqrt(Zt*Zt+Ht*Ht)}var ct,mt,Mt,St,_t,Yt,Et,gt=r.maxScreensAway,ot=-q*gt,nt=q*(1+gt),ut=-H*gt,ht=H*(1+gt),Dt=[[ot,ut,nt,ut],[nt,ut,nt,ht],[nt,ht,ot,ht],[ot,ht,ot,ut]];function Tt(kt){if(kt[0]<ot||kt[0]>nt||kt[1]<ut||kt[1]>ht)return[a(kt[0],ot,nt),a(kt[1],ut,ht)]}function xt(kt,Bt){return kt[0]===Bt[0]&&(kt[0]===ot||kt[0]===nt)||kt[1]===Bt[1]&&(kt[1]===ut||kt[1]===ht)||void 0}function Ot(kt,Bt,Zt){return function(Ht,ee){var qt=Tt(Ht),vt=Tt(ee),bt=[];if(qt&&vt&&xt(qt,vt))return bt;qt&&bt.push(qt),vt&&bt.push(vt);var Gt=2*l.constrain((Ht[kt]+ee[kt])/2,Bt,Zt)-((qt||Ht)[kt]+(vt||ee)[kt]);return Gt&&((qt&&vt?Gt>0==qt[kt]>vt[kt]?qt:vt:qt||vt)[kt]+=Gt),bt}}function It(kt){var Bt=kt[0],Zt=kt[1],Ht=Bt===P[G-1][0],ee=Zt===P[G-1][1];if(!Ht||!ee)if(G>1){var qt=Bt===P[G-2][0],vt=Zt===P[G-2][1];Ht&&(Bt===ot||Bt===nt)&&qt?vt?G--:P[G-1]=kt:ee&&(Zt===ut||Zt===ht)&&vt?qt?G--:P[G-1]=kt:P[G++]=kt}else P[G++]=kt}function wt(kt){P[G-1][0]!==kt[0]&&P[G-1][1]!==kt[1]&&It([Mt,St]),It(kt),_t=null,Mt=St=0}function At(kt){if(I=kt[0]/q,j=kt[1]/H,ct=kt[0]<ot?ot:kt[0]>nt?nt:0,mt=kt[1]<ut?ut:kt[1]>ht?ht:0,ct||mt){if(G)if(_t){var Bt=Et(_t,kt);Bt.length>1&&(wt(Bt[0]),P[G++]=Bt[1])}else Yt=Et(P[G-1],kt)[0],P[G++]=Yt;else P[G++]=[ct||kt[0],mt||kt[1]];var Zt=P[G-1];ct&&mt&&(Zt[0]!==ct||Zt[1]!==mt)?(_t&&(Mt!==ct&&St!==mt?It(Mt&&St?(Ht=_t,qt=(ee=kt)[0]-Ht[0],vt=(ee[1]-Ht[1])/qt,(Ht[1]*ee[0]-ee[1]*Ht[0])/qt>0?[vt>0?ot:nt,ht]:[vt>0?nt:ot,ut]):[Mt||ct,St||mt]):Mt&&St&&It([Mt,St])),It([ct,mt])):Mt-ct&&St-mt&&It([ct||Mt,mt||St]),_t=kt,Mt=ct,St=mt}else _t&&wt(Et(_t,kt)[0]),P[G++]=kt;var Ht,ee,qt,vt}for(L==="linear"||L==="spline"?Et=function(kt,Bt){for(var Zt=[],Ht=0,ee=0;ee<4;ee++){var qt=Dt[ee],vt=i(kt[0],kt[1],Bt[0],Bt[1],qt[0],qt[1],qt[2],qt[3]);vt&&(!Ht||Math.abs(vt.x-Zt[0][0])>1||Math.abs(vt.y-Zt[0][1])>1)&&(vt=[vt.x,vt.y],Ht&&lt(vt,kt)<lt(Zt[0],kt)?Zt.unshift(vt):Zt.push(vt),Ht++)}return Zt}:L==="hv"||L==="vh"?Et=function(kt,Bt){var Zt=[],Ht=Tt(kt),ee=Tt(Bt);return Ht&&ee&&xt(Ht,ee)||(Ht&&Zt.push(Ht),ee&&Zt.push(ee)),Zt}:L==="hvh"?Et=Ot(0,ot,nt):L==="vhv"&&(Et=Ot(1,ut,ht)),p=0;p<U;p++)if(m=Q(p)){for(G=0,_t=null,At(m),p++;p<U;p++){if(!(w=Q(p))){if(C)continue;break}if(X&&d.simplify){var Xt=Q(p+1);if(T=lt(w,m),E&&(G===0||G===U-1)||!(T<tt(w,Xt)*S)){for(A=[(w[0]-m[0])/T,(w[1]-m[1])/T],b=m,k=T,x=z=g=0,h=!1,M=w,p++;p<u.length;p++){if(v=Xt,Xt=Q(p+1),!v){if(C)continue;break}if(R=(y=[v[0]-m[0],v[1]-m[1]])[0]*A[1]-y[1]*A[0],z=Math.min(z,R),(g=Math.max(g,R))-z>tt(v,Xt))break;M=v,(D=y[0]*A[0]+y[1]*A[1])>k?(k=D,w=v,h=!1):D<x&&(x=D,b=v,h=!0)}if(h?(At(w),M!==b&&At(b)):(b!==m&&At(b),M!==w&&At(w)),At(M),p>=u.length||!v)break;At(v),m=v}}else At(w)}_t&&It([Mt||_t[0],St||_t[1]]),Z.push(P.slice(0,G))}return Z}},{"../../constants/numerical":212,"../../lib":232,"./constants":360}],371:[function(c,J,N){J.exports=function(t,s,o){o("line.shape")==="spline"&&o("line.smoothing")}},{}],372:[function(c,J,N){var t={tonextx:1,tonexty:1,tonext:1};J.exports=function(s,o,e){var n,l,i,a,r,u={},d=!1,p=-1,m=0,M=-1;for(l=0;l<e.length;l++)(i=(n=e[l][0].trace).stackgroup||"")?i in u?r=u[i]:(r=u[i]=m,m++):n.fill in t&&M>=0?r=M:(r=M=m,m++),r<p&&(d=!0),n._groupIndex=p=r;var w=e.slice();d&&w.sort(function(v,h){var A=v[0].trace,y=h[0].trace;return A._groupIndex-y._groupIndex||A.index-y.index});var b={};for(l=0;l<w.length;l++)i=(n=w[l][0].trace).stackgroup||"",n.visible===!0?(n._nexttrace=null,n.fill in t&&(a=b[i],n._prevtrace=a||null,a&&(a._nexttrace=n)),n._ownfill=n.fill&&(n.fill.substr(0,6)==="tozero"||n.fill==="toself"||n.fill.substr(0,2)==="to"&&!n._prevtrace),b[i]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return w}},{}],373:[function(c,J,N){var t=c("fast-isnumeric");J.exports=function(s,o){o||(o=2);var e=s.marker,n=e.sizeref||1,l=e.sizemin||0,i=e.sizemode==="area"?function(a){return Math.sqrt(a/n)}:function(a){return a/n};return function(a){var r=i(a/o);return t(r)&&r>0?Math.max(r,l):0}}},{"fast-isnumeric":17}],374:[function(c,J,N){J.exports={container:"marker",min:"cmin",max:"cmax"}},{}],375:[function(c,J,N){var t=c("../../components/color"),s=c("../../components/colorscale/helpers").hasColorscale,o=c("../../components/colorscale/defaults"),e=c("./subtypes");J.exports=function(n,l,i,a,r,u){var d=e.isBubble(n),p=(n.line||{}).color;u=u||{},p&&(i=p),r("marker.symbol"),r("marker.opacity",d?.7:1),r("marker.size"),r("marker.color",i),s(n,"marker")&&o(n,l,a,r,{prefix:"marker.",cLetter:"c"}),u.noSelect||(r("selected.marker.color"),r("unselected.marker.color"),r("selected.marker.size"),r("unselected.marker.size")),u.noLine||(r("marker.line.color",p&&!Array.isArray(p)&&l.marker.color!==p?p:d?t.background:t.defaultLine),s(n,"marker.line")&&o(n,l,a,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width",d?1:0)),d&&(r("marker.sizeref"),r("marker.sizemin"),r("marker.sizemode")),u.gradient&&r("marker.gradient.type")!=="none"&&r("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":381}],376:[function(c,J,N){var t=c("../../lib").dateTick0,s=c("../../constants/numerical").ONEWEEK;function o(e,n){return t(n,e%s==0?1:0)}J.exports=function(e,n,l,i,a){if(a||(a={x:!0,y:!0}),a.x){var r=i("xperiod");r&&(i("xperiod0",o(r,n.xcalendar)),i("xperiodalignment"))}if(a.y){var u=i("yperiod");u&&(i("yperiod0",o(u,n.ycalendar)),i("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],377:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../registry"),o=c("../../lib"),e=o.ensureSingle,n=o.identity,l=c("../../components/drawing"),i=c("./subtypes"),a=c("./line_points"),r=c("./link_traces"),u=c("../../lib/polygon").tester;function d(p,m,M,w,b,v,h){var A;(function(nt,ut,ht,Dt,Tt){var xt=ht.xaxis,Ot=ht.yaxis,It=t.extent(o.simpleMap(xt.range,xt.r2c)),wt=t.extent(o.simpleMap(Ot.range,Ot.r2c)),At=Dt[0].trace;if(i.hasMarkers(At)){var Xt=At.marker.maxdisplayed;if(Xt!==0){var kt=Dt.filter(function(ee){return ee.x>=It[0]&&ee.x<=It[1]&&ee.y>=wt[0]&&ee.y<=wt[1]}),Bt=Math.ceil(kt.length/Xt),Zt=0;Tt.forEach(function(ee,qt){var vt=ee[0].trace;i.hasMarkers(vt)&&vt.marker.maxdisplayed>0&&qt<ut&&Zt++});var Ht=Math.round(Zt*Bt/3+Math.floor(Zt/3)*Bt/7.1);Dt.forEach(function(ee){delete ee.vis}),kt.forEach(function(ee,qt){Math.round((qt+Ht)%Bt)===0&&(ee.vis=!0)})}}})(0,m,M,w,b);var y=!!h&&h.duration>0;function T(nt){return y?nt.transition():nt}var k=M.xaxis,x=M.yaxis,D=w[0].trace,z=D.line,g=t.select(v),R=e(g,"g","errorbars"),I=e(g,"g","lines"),j=e(g,"g","points"),Y=e(g,"g","text");if(s.getComponentMethod("errorbars","plot")(p,R,M,h),D.visible===!0){var B,$;T(g).style("opacity",D.opacity);var rt=D.fill.charAt(D.fill.length-1);rt!=="x"&&rt!=="y"&&(rt=""),w[0][M.isRangePlot?"nodeRangePlot3":"node3"]=g;var q,H,C="",F=[],L=D._prevtrace;L&&(C=L._prevRevpath||"",$=L._nextFill,F=L._polygons);var X,E,Z,S,U,P,G,Q="",et="",tt=[],lt=o.noop;if(B=D._ownFill,i.hasLines(D)||D.fill!=="none"){for($&&$.datum(w),["hv","vh","hvh","vhv"].indexOf(z.shape)!==-1?(X=l.steps(z.shape),E=l.steps(z.shape.split("").reverse().join(""))):X=E=z.shape==="spline"?function(nt){var ut=nt[nt.length-1];return nt.length>1&&nt[0][0]===ut[0]&&nt[0][1]===ut[1]?l.smoothclosed(nt.slice(1),z.smoothing):l.smoothopen(nt,z.smoothing)}:function(nt){return"M"+nt.join("L")},Z=function(nt){return E(nt.reverse())},tt=a(w,{xaxis:k,yaxis:x,connectGaps:D.connectgaps,baseTolerance:Math.max(z.width||1,3)/4,shape:z.shape,simplify:z.simplify,fill:D.fill}),G=D._polygons=new Array(tt.length),A=0;A<tt.length;A++)D._polygons[A]=u(tt[A]);tt.length&&(S=tt[0][0],P=(U=tt[tt.length-1])[U.length-1]),lt=function(nt){return function(ut){if(q=X(ut),H=Z(ut),Q?rt?(Q+="L"+q.substr(1),et=H+"L"+et.substr(1)):(Q+="Z"+q,et=H+"Z"+et):(Q=q,et=H),i.hasLines(D)&&ut.length>1){var ht=t.select(this);if(ht.datum(w),nt)T(ht.style("opacity",0).attr("d",q).call(l.lineGroupStyle)).style("opacity",1);else{var Dt=T(ht);Dt.attr("d",q),l.singleLineStyle(w,Dt)}}}}}var ct=I.selectAll(".js-line").data(tt);T(ct.exit()).style("opacity",0).remove(),ct.each(lt(!1)),ct.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(lt(!0)),l.setClipUrl(ct,M.layerClipId,p),tt.length?(B?(B.datum(w),S&&P&&(rt?(rt==="y"?S[1]=P[1]=x.c2p(0,!0):rt==="x"&&(S[0]=P[0]=k.c2p(0,!0)),T(B).attr("d","M"+P+"L"+S+"L"+Q.substr(1)).call(l.singleFillStyle)):T(B).attr("d",Q+"Z").call(l.singleFillStyle))):$&&(D.fill.substr(0,6)==="tonext"&&Q&&C?(D.fill==="tonext"?T($).attr("d",Q+"Z"+C+"Z").call(l.singleFillStyle):T($).attr("d",Q+"L"+C.substr(1)+"Z").call(l.singleFillStyle),D._polygons=D._polygons.concat(F)):(Mt($),D._polygons=null)),D._prevRevpath=et,D._prevPolygons=G):(B?Mt(B):$&&Mt($),D._polygons=D._prevRevpath=D._prevPolygons=null),j.datum(w),Y.datum(w),function(nt,ut,ht){var Dt,Tt=ht[0].trace,xt=i.hasMarkers(Tt),Ot=i.hasText(Tt),It=gt(Tt),wt=ot,At=ot;if(xt||Ot){var Xt=n,kt=Tt.stackgroup,Bt=kt&&p._fullLayout._scatterStackOpts[k._id+x._id][kt].stackgaps==="infer zero";Tt.marker.maxdisplayed||Tt._needsCull?Xt=Bt?_t:St:kt&&!Bt&&(Xt=Yt),xt&&(wt=Xt),Ot&&(At=Xt)}var Zt,Ht=(Dt=nt.selectAll("path.point").data(wt,It)).enter().append("path").classed("point",!0);y&&Ht.call(l.pointStyle,Tt,p).call(l.translatePoints,k,x).style("opacity",0).transition().style("opacity",1),Dt.order(),xt&&(Zt=l.makePointStyleFns(Tt)),Dt.each(function(ee){var qt=t.select(this),vt=T(qt);l.translatePoint(ee,vt,k,x)?(l.singlePointStyle(ee,vt,Tt,Zt,p),M.layerClipId&&l.hideOutsideRangePoint(ee,vt,k,x,Tt.xcalendar,Tt.ycalendar),Tt.customdata&&qt.classed("plotly-customdata",ee.data!==null&&ee.data!==void 0)):vt.remove()}),y?Dt.exit().transition().style("opacity",0).remove():Dt.exit().remove(),(Dt=ut.selectAll("g").data(At,It)).enter().append("g").classed("textpoint",!0).append("text"),Dt.order(),Dt.each(function(ee){var qt=t.select(this),vt=T(qt.select("text"));l.translatePoint(ee,vt,k,x)?M.layerClipId&&l.hideOutsideRangePoint(ee,qt,k,x,Tt.xcalendar,Tt.ycalendar):qt.remove()}),Dt.selectAll("text").call(l.textPointStyle,Tt,p).each(function(ee){var qt=k.c2p(ee.x),vt=x.c2p(ee.y);t.select(this).selectAll("tspan.line").each(function(){T(t.select(this)).attr({x:qt,y:vt})})}),Dt.exit().remove()}(j,Y,w);var mt=D.cliponaxis===!1?null:M.layerClipId;l.setClipUrl(j,mt,p),l.setClipUrl(Y,mt,p)}function Mt(nt){T(nt).attr("d","M0,0Z")}function St(nt){return nt.filter(function(ut){return!ut.gap&&ut.vis})}function _t(nt){return nt.filter(function(ut){return ut.vis})}function Yt(nt){return nt.filter(function(ut){return!ut.gap})}function Et(nt){return nt.id}function gt(nt){if(nt.ids)return Et}function ot(){return!1}}J.exports=function(p,m,M,w,b,v){var h,A,y=!b,T=!!b&&b.duration>0,k=r(p,m,M);(h=w.selectAll("g.trace").data(k,function(x){return x[0].trace.uid})).enter().append("g").attr("class",function(x){return"trace scatter trace"+x[0].trace.uid}).style("stroke-miterlimit",2),h.order(),function(x,D,z){D.each(function(g){var R=e(t.select(this),"g","fills");l.setClipUrl(R,z.layerClipId,x);var I=g[0].trace,j=[];I._ownfill&&j.push("_ownFill"),I._nexttrace&&j.push("_nextFill");var Y=R.selectAll("g").data(j,n);Y.enter().append("g"),Y.exit().each(function(B){I[B]=null}).remove(),Y.order().each(function(B){I[B]=e(t.select(this),"path","js-fill")})})}(p,h,m),T?(v&&(A=v()),t.transition().duration(b.duration).ease(b.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){w.selectAll("g.trace").each(function(x,D){d(p,D,m,x,k,this,b)})})):h.each(function(x,D){d(p,D,m,x,k,this,b)}),y&&h.exit().remove(),w.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":316,"./line_points":370,"./link_traces":372,"./subtypes":381,"@plotly/d3":11}],378:[function(c,J,N){var t=c("./subtypes");J.exports=function(s,o){var e,n,l,i,a=s.cd,r=s.xaxis,u=s.yaxis,d=[],p=a[0].trace;if(!t.hasMarkers(p)&&!t.hasText(p))return[];if(o===!1)for(e=0;e<a.length;e++)a[e].selected=0;else for(e=0;e<a.length;e++)n=a[e],l=r.c2p(n.x),i=u.c2p(n.y),n.i!==null&&o.contains([l,i],!1,e,s)?(d.push({pointNumber:n.i,x:r.c2d(n.x),y:u.c2d(n.y)}),n.selected=1):n.selected=0;return d}},{"./subtypes":381}],379:[function(c,J,N){var t=["orientation","groupnorm","stackgaps"];J.exports=function(s,o,e,n){var l=e._scatterStackOpts,i=n("stackgroup");if(i){var a=o.xaxis+o.yaxis,r=l[a];r||(r=l[a]={});var u=r[i],d=!1;u?u.traces.push(o):(u=r[i]={traceIndices:[],traces:[o]},d=!0);for(var p={orientation:o.x&&!o.y?"h":"v"},m=0;m<t.length;m++){var M=t[m],w=M+"Found";if(!u[w]){var b=s[M]!==void 0,v=M==="orientation";if((b||d)&&(u[M]=n(M,p[M]),v&&(u.fillDflt=u[M]==="h"?"tonextx":"tonexty"),b&&(u[w]=!0,!d&&(delete u.traces[0][M],v))))for(var h=0;h<u.traces.length-1;h++){var A=u.traces[h];A._input.fill!==A.fill&&(A.fill=u.fillDflt)}}}return u}}},{}],380:[function(c,J,N){var t=c("@plotly/d3"),s=c("../../components/drawing"),o=c("../../registry");function e(l,i,a){s.pointStyle(l.selectAll("path.point"),i,a)}function n(l,i,a){s.textPointStyle(l.selectAll("text"),i,a)}J.exports={style:function(l){var i=t.select(l).selectAll("g.trace.scatter");i.style("opacity",function(a){return a[0].trace.opacity}),i.selectAll("g.points").each(function(a){e(t.select(this),a.trace||a[0].trace,l)}),i.selectAll("g.text").each(function(a){n(t.select(this),a.trace||a[0].trace,l)}),i.selectAll("g.trace path.js-line").call(s.lineGroupStyle),i.selectAll("g.trace path.js-fill").call(s.fillGroupStyle),o.getComponentMethod("errorbars","style")(i)},stylePoints:e,styleText:n,styleOnSelect:function(l,i,a){var r=i[0].trace;r.selectedpoints?(s.selectedPointStyle(a.selectAll("path.point"),r),s.selectedTextStyle(a.selectAll("text"),r)):(e(a,r,l),n(a,r,l))}}},{"../../components/drawing":124,"../../registry":316,"@plotly/d3":11}],381:[function(c,J,N){var t=c("../../lib");J.exports={hasLines:function(s){return s.visible&&s.mode&&s.mode.indexOf("lines")!==-1},hasMarkers:function(s){return s.visible&&(s.mode&&s.mode.indexOf("markers")!==-1||s.type==="splom")},hasText:function(s){return s.visible&&s.mode&&s.mode.indexOf("text")!==-1},isBubble:function(s){return t.isPlainObject(s.marker)&&t.isArrayOrTypedArray(s.marker.size)}}},{"../../lib":232}],382:[function(c,J,N){var t=c("../../lib");J.exports=function(s,o,e,n,l){l=l||{},n("textposition"),t.coerceFont(n,"textfont",e.font),l.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},{"../../lib":232}],383:[function(c,J,N){var t=c("../../lib"),s=c("../../registry");J.exports=function(o,e,n,l){var i,a=l("x"),r=l("y");if(s.getComponentMethod("calendars","handleTraceDefaults")(o,e,["x","y"],n),a){var u=t.minRowLength(a);r?i=Math.min(u,t.minRowLength(r)):(i=u,l("y0"),l("dy"))}else{if(!r)return 0;i=t.minRowLength(r),l("x0"),l("dx")}return e._length=i,i}},{"../../lib":232,"../../registry":316}],384:[function(c,J,N){var t=c("../plots/cartesian/axes"),s=c("../lib"),o=c("../plot_api/plot_schema"),e=c("./helpers").pointsAccessorFunction,n=c("../constants/numerical").BADNUM;N.moduleType="transform",N.name="aggregate";var l=N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},i=l.aggregations;function a(p,m,M,w){if(w.enabled){for(var b=w.target,v=s.nestedProperty(m,b),h=v.get(),A=function(k,x){var D=k.func,z=x.d2c,g=x.c2d;switch(D){case"count":return r;case"first":return u;case"last":return d;case"sum":return function(R,I){for(var j=0,Y=0;Y<I.length;Y++){var B=z(R[I[Y]]);B!==n&&(j+=B)}return g(j)};case"avg":return function(R,I){for(var j=0,Y=0,B=0;B<I.length;B++){var $=z(R[I[B]]);$!==n&&(j+=$,Y++)}return Y?g(j/Y):n};case"min":return function(R,I){for(var j=1/0,Y=0;Y<I.length;Y++){var B=z(R[I[Y]]);B!==n&&(j=Math.min(j,B))}return j===1/0?n:g(j)};case"max":return function(R,I){for(var j=-1/0,Y=0;Y<I.length;Y++){var B=z(R[I[Y]]);B!==n&&(j=Math.max(j,B))}return j===-1/0?n:g(j)};case"range":return function(R,I){for(var j=1/0,Y=-1/0,B=0;B<I.length;B++){var $=z(R[I[B]]);$!==n&&(j=Math.min(j,$),Y=Math.max(Y,$))}return Y===-1/0||j===1/0?n:g(Y-j)};case"change":return function(R,I){var j=z(R[I[0]]),Y=z(R[I[I.length-1]]);return j===n||Y===n?n:g(Y-j)};case"median":return function(R,I){for(var j=[],Y=0;Y<I.length;Y++){var B=z(R[I[Y]]);B!==n&&j.push(B)}if(!j.length)return n;j.sort(s.sorterAsc);var $=(j.length-1)/2;return g((j[Math.floor($)]+j[Math.ceil($)])/2)};case"mode":return function(R,I){for(var j={},Y=0,B=n,$=0;$<I.length;$++){var rt=z(R[I[$]]);if(rt!==n){var q=j[rt]=(j[rt]||0)+1;q>Y&&(Y=q,B=rt)}}return Y?g(B):n};case"rms":return function(R,I){for(var j=0,Y=0,B=0;B<I.length;B++){var $=z(R[I[B]]);$!==n&&(j+=$*$,Y++)}return Y?g(Math.sqrt(j/Y)):n};case"stddev":return function(R,I){var j,Y=0,B=0,$=1,rt=n;for(j=0;j<I.length&&rt===n;j++)rt=z(R[I[j]]);if(rt===n)return n;for(;j<I.length;j++){var q=z(R[I[j]]);if(q!==n){var H=q-rt;Y+=H,B+=H*H,$++}}var C=k.funcmode==="sample"?$-1:$;return C?Math.sqrt((B-Y*Y/$)/C):0}}}(w,t.getDataConversions(p,m,b,h)),y=new Array(M.length),T=0;T<M.length;T++)y[T]=A(h,M[T]);v.set(y),w.func==="count"&&s.pushUnique(m._arrayAttrs,b)}}function r(p,m){return m.length}function u(p,m){return p[m[0]]}function d(p,m){return p[m[m.length-1]]}N.supplyDefaults=function(p,m){var M,w={};function b(g,R){return s.coerce(p,w,l,g,R)}if(!b("enabled"))return w;var v=o.findArrayAttributes(m),h={};for(M=0;M<v.length;M++)h[v[M]]=1;var A=b("groups");if(!Array.isArray(A)){if(!h[A])return w.enabled=!1,w;h[A]=0}var y,T=p.aggregations||[],k=w.aggregations=new Array(T.length);function x(g,R){return s.coerce(T[M],y,i,g,R)}for(M=0;M<T.length;M++){y={_index:M};var D=x("target"),z=x("func");x("enabled")&&D&&(h[D]||z==="count"&&h[D]===void 0)?(z==="stddev"&&x("funcmode"),h[D]=0,k[M]=y):k[M]={enabled:!1,_index:M}}for(M=0;M<v.length;M++)h[v[M]]&&k.push({target:v[M],func:i.func.dflt,enabled:!0,_index:-1});return w},N.calcTransform=function(p,m,M){if(M.enabled){var w=M.groups,b=s.getTargetArray(m,{target:w});if(b){var v,h,A,y,T={},k={},x=[],D=e(m.transforms,M),z=b.length;for(m._length&&(z=Math.min(z,m._length)),v=0;v<z;v++)(A=T[h=b[v]])===void 0?(T[h]=x.length,y=[v],x.push(y),k[T[h]]=D(v)):(x[A].push(v),k[T[h]]=(k[T[h]]||[]).concat(D(v)));M._indexToPoints=k;var g=M.aggregations;for(v=0;v<g.length;v++)a(p,m,x,g[v]);typeof w=="string"&&a(p,m,x,{target:w,func:"first",enabled:!0}),m._length=x.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":387}],385:[function(c,J,N){var t=c("../lib"),s=c("../registry"),o=c("../plots/cartesian/axes"),e=c("./helpers").pointsAccessorFunction,n=c("../constants/filter_ops"),l=n.COMPARISON_OPS,i=n.INTERVAL_OPS,a=n.SET_OPS;N.moduleType="transform",N.name="filter",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(l).concat(i).concat(a),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},N.supplyDefaults=function(r){var u={};function d(M,w){return t.coerce(r,u,N.attributes,M,w)}if(d("enabled")){var p=d("target");if(t.isArrayOrTypedArray(p)&&p.length===0)return u.enabled=!1,u;d("preservegaps"),d("operation"),d("value");var m=s.getComponentMethod("calendars","handleDefaults");m(r,u,"valuecalendar",null),m(r,u,"targetcalendar",null)}return u},N.calcTransform=function(r,u,d){if(d.enabled){var p=t.getTargetArray(u,d);if(p){var m=d.target,M=p.length;u._length&&(M=Math.min(M,u._length));var w=d.targetcalendar,b=u._arrayAttrs,v=d.preservegaps;if(typeof m=="string"){var h=t.nestedProperty(u,m+"calendar").get();h&&(w=h)}var A,y,T=function(I,j,Y){var B=I.operation,$=I.value,rt=Array.isArray($);function q(L){return L.indexOf(B)!==-1}var H,C=function(L){return j(L,0,I.valuecalendar)},F=function(L){return j(L,0,Y)};switch(q(l)?H=C(rt?$[0]:$):q(i)?H=rt?[C($[0]),C($[1])]:[C($),C($)]:q(a)&&(H=rt?$.map(C):[C($)]),B){case"=":return function(L){return F(L)===H};case"!=":return function(L){return F(L)!==H};case"<":return function(L){return F(L)<H};case"<=":return function(L){return F(L)<=H};case">":return function(L){return F(L)>H};case">=":return function(L){return F(L)>=H};case"[]":return function(L){var X=F(L);return X>=H[0]&&X<=H[1]};case"()":return function(L){var X=F(L);return X>H[0]&&X<H[1]};case"[)":return function(L){var X=F(L);return X>=H[0]&&X<H[1]};case"(]":return function(L){var X=F(L);return X>H[0]&&X<=H[1]};case"][":return function(L){var X=F(L);return X<=H[0]||X>=H[1]};case")(":return function(L){var X=F(L);return X<H[0]||X>H[1]};case"](":return function(L){var X=F(L);return X<=H[0]||X>H[1]};case")[":return function(L){var X=F(L);return X<H[0]||X>=H[1]};case"{}":return function(L){return H.indexOf(F(L))!==-1};case"}{":return function(L){return H.indexOf(F(L))===-1}}}(d,o.getDataToCoordFunc(r,u,m,p),w),k={},x={},D=0;v?(A=function(I){k[I.astr]=t.extendDeep([],I.get()),I.set(new Array(M))},y=function(I,j){var Y=k[I.astr][j];I.get()[j]=Y}):(A=function(I){k[I.astr]=t.extendDeep([],I.get()),I.set([])},y=function(I,j){var Y=k[I.astr][j];I.get().push(Y)}),R(A);for(var z=e(u.transforms,d),g=0;g<M;g++)T(p[g])?(R(y,g),x[D++]=z(g)):v&&D++;d._indexToPoints=x,u._length=D}}function R(I,j){for(var Y=0;Y<b.length;Y++)I(t.nestedProperty(u,b[Y]),j)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":316,"./helpers":387}],386:[function(c,J,N){var t=c("../lib"),s=c("../plot_api/plot_schema"),o=c("../plots/plots"),e=c("./helpers").pointsAccessorFunction;function n(l,i){var a,r,u,d,p,m,M,w,b,v,h=i.transform,A=i.transformIndex,y=l.transforms[A].groups,T=e(l.transforms,h);if(!t.isArrayOrTypedArray(y)||y.length===0)return[l];var k=t.filterUnique(y),x=new Array(k.length),D=y.length,z=s.findArrayAttributes(l),g=h.styles||[],R={};for(a=0;a<g.length;a++)R[g[a].target]=g[a].value;h.styles&&(v=t.keyedContainer(h,"styles","target","value.name"));var I={},j={};for(a=0;a<k.length;a++){I[m=k[a]]=a,j[m]=0,(M=x[a]=t.extendDeepNoArrays({},l))._group=m,M.transforms[A]._indexToPoints={};var Y=null;for(v&&(Y=v.get(m)),M.name=Y||Y===""?Y:t.templateString(h.nameformat,{trace:l.name,group:m}),w=M.transforms,M.transforms=[],r=0;r<w.length;r++)M.transforms[r]=t.extendDeepNoArrays({},w[r]);for(r=0;r<z.length;r++)t.nestedProperty(M,z[r]).set([])}for(u=0;u<z.length;u++){for(d=z[u],r=0,b=[];r<k.length;r++)b[r]=t.nestedProperty(x[r],d).get();for(p=t.nestedProperty(l,d).get(),r=0;r<D;r++)b[I[y[r]]].push(p[r])}for(r=0;r<D;r++)(M=x[I[y[r]]]).transforms[A]._indexToPoints[j[y[r]]]=T(r),j[y[r]]++;for(a=0;a<k.length;a++)m=k[a],M=x[a],o.clearExpandedTraceDefaultColors(M),M=t.extendDeepNoArrays(M,R[m]||{});return x}N.moduleType="transform",N.name="groupby",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},N.supplyDefaults=function(l,i,a){var r,u={};function d(b,v){return t.coerce(l,u,N.attributes,b,v)}if(!d("enabled"))return u;d("groups"),d("nameformat",a._dataLength>1?"%{group} (%{trace})":"%{group}");var p=l.styles,m=u.styles=[];if(p)for(r=0;r<p.length;r++){var M=m[r]={};t.coerce(p[r],m[r],N.attributes.styles,"target");var w=t.coerce(p[r],m[r],N.attributes.styles,"value");t.isPlainObject(w)?M.value=t.extendDeep({},w):w&&delete M.value}return u},N.transform=function(l,i){var a,r,u,d=[];for(r=0;r<l.length;r++)for(a=n(l[r],i),u=0;u<a.length;u++)d.push(a[u]);return d}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":314,"./helpers":387}],387:[function(c,J,N){N.pointsAccessorFunction=function(t,s){for(var o,e,n=0;n<t.length&&(o=t[n])!==s;n++)o._indexToPoints&&o.enabled!==!1&&(e=o._indexToPoints);return e?function(l){return e[l]}:function(l){return[l]}}},{}],388:[function(c,J,N){var t=c("../lib"),s=c("../plots/cartesian/axes"),o=c("./helpers").pointsAccessorFunction,e=c("../constants/numerical").BADNUM;N.moduleType="transform",N.name="sort",N.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},N.supplyDefaults=function(n){var l={};function i(a,r){return t.coerce(n,l,N.attributes,a,r)}return i("enabled")&&(i("target"),i("order")),l},N.calcTransform=function(n,l,i){if(i.enabled){var a=t.getTargetArray(l,i);if(a){var r=i.target,u=a.length;l._length&&(u=Math.min(u,l._length));var d,p,m=l._arrayAttrs,M=function(y,T,k,x){var D,z=new Array(x),g=new Array(x);for(D=0;D<x;D++)z[D]={v:T[D],i:D};for(z.sort(function(R,I){switch(R.order){case"ascending":return function(j,Y){var B=I(j.v),$=I(Y.v);return B===e?1:$===e?-1:B-$};case"descending":return function(j,Y){var B=I(j.v),$=I(Y.v);return B===e?1:$===e?-1:$-B}}}(y,k)),D=0;D<x;D++)g[D]=z[D].i;return g}(i,a,s.getDataToCoordFunc(n,l,r,a),u),w=o(l.transforms,i),b={};for(d=0;d<m.length;d++){var v=t.nestedProperty(l,m[d]),h=v.get(),A=new Array(u);for(p=0;p<u;p++)A[p]=h[M[p]];v.set(A)}for(p=0;p<u;p++)b[p]=w(M[p]);i._indexToPoints=b,l._length=u}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":387}],389:[function(c,J,N){N.version="2.3.1"},{}]},{},[8])(8)})})($a);var To=$a.exports;const sr=Ja(To);var Qa={exports:{}};(function(ze,He){(function(c,J){J(ze)})(cr,function(c){function J(a,r,u){return r in a?Object.defineProperty(a,r,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[r]=u,a}var N=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var u=arguments[r];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])}return a};function t(a){if(Array.isArray(a)){for(var r=0,u=Array(a.length);r<a.length;r++)u[r]=a[r];return u}else return Array.from(a)}var s={order:2,precision:2,period:null};function o(a,r){var u=[],d=[];a.forEach(function(b,v){b[1]!==null&&(d.push(b),u.push(r[v]))});var p=d.reduce(function(b,v){return b+v[1]},0),m=p/d.length,M=d.reduce(function(b,v){var h=v[1]-m;return b+h*h},0),w=d.reduce(function(b,v,h){var A=u[h],y=v[1]-A[1];return b+y*y},0);return 1-w/M}function e(a,r){for(var u=a,d=a.length-1,p=[r],m=0;m<d;m++){for(var M=m,w=m+1;w<d;w++)Math.abs(u[m][w])>Math.abs(u[m][M])&&(M=w);for(var b=m;b<d+1;b++){var v=u[b][m];u[b][m]=u[b][M],u[b][M]=v}for(var h=m+1;h<d;h++)for(var A=d;A>=m;A--)u[A][h]-=u[A][m]*u[m][h]/u[m][m]}for(var y=d-1;y>=0;y--){for(var T=0,k=y+1;k<d;k++)T+=u[k][y]*p[k];p[y]=(u[d][y]-T)/u[y][y]}return p}function n(a,r){var u=Math.pow(10,r);return Math.round(a*u)/u}var l={linear:function(r,u){for(var d=[0,0,0,0,0],p=0,m=0;m<r.length;m++)r[m][1]!==null&&(p++,d[0]+=r[m][0],d[1]+=r[m][1],d[2]+=r[m][0]*r[m][0],d[3]+=r[m][0]*r[m][1],d[4]+=r[m][1]*r[m][1]);var M=p*d[2]-d[0]*d[0],w=p*d[3]-d[0]*d[1],b=M===0?0:n(w/M,u.precision),v=n(d[1]/p-b*d[0]/p,u.precision),h=function(T){return[n(T,u.precision),n(b*T+v,u.precision)]},A=r.map(function(y){return h(y[0])});return{points:A,predict:h,equation:[b,v],r2:n(o(r,A),u.precision),string:v===0?"y = "+b+"x":"y = "+b+"x + "+v}},exponential:function(r,u){for(var d=[0,0,0,0,0,0],p=0;p<r.length;p++)r[p][1]!==null&&(d[0]+=r[p][0],d[1]+=r[p][1],d[2]+=r[p][0]*r[p][0]*r[p][1],d[3]+=r[p][1]*Math.log(r[p][1]),d[4]+=r[p][0]*r[p][1]*Math.log(r[p][1]),d[5]+=r[p][0]*r[p][1]);var m=d[1]*d[2]-d[5]*d[5],M=Math.exp((d[2]*d[3]-d[5]*d[4])/m),w=(d[1]*d[4]-d[5]*d[3])/m,b=n(M,u.precision),v=n(w,u.precision),h=function(T){return[n(T,u.precision),n(b*Math.exp(v*T),u.precision)]},A=r.map(function(y){return h(y[0])});return{points:A,predict:h,equation:[b,v],string:"y = "+b+"e^("+v+"x)",r2:n(o(r,A),u.precision)}},logarithmic:function(r,u){for(var d=[0,0,0,0],p=r.length,m=0;m<p;m++)r[m][1]!==null&&(d[0]+=Math.log(r[m][0]),d[1]+=r[m][1]*Math.log(r[m][0]),d[2]+=r[m][1],d[3]+=Math.pow(Math.log(r[m][0]),2));var M=(p*d[1]-d[2]*d[0])/(p*d[3]-d[0]*d[0]),w=n(M,u.precision),b=n((d[2]-w*d[0])/p,u.precision),v=function(y){return[n(y,u.precision),n(n(b+w*Math.log(y),u.precision),u.precision)]},h=r.map(function(A){return v(A[0])});return{points:h,predict:v,equation:[b,w],string:"y = "+b+" + "+w+" ln(x)",r2:n(o(r,h),u.precision)}},power:function(r,u){for(var d=[0,0,0,0,0],p=r.length,m=0;m<p;m++)r[m][1]!==null&&(d[0]+=Math.log(r[m][0]),d[1]+=Math.log(r[m][1])*Math.log(r[m][0]),d[2]+=Math.log(r[m][1]),d[3]+=Math.pow(Math.log(r[m][0]),2));var M=(p*d[1]-d[0]*d[2])/(p*d[3]-Math.pow(d[0],2)),w=(d[2]-M*d[0])/p,b=n(Math.exp(w),u.precision),v=n(M,u.precision),h=function(T){return[n(T,u.precision),n(n(b*Math.pow(T,v),u.precision),u.precision)]},A=r.map(function(y){return h(y[0])});return{points:A,predict:h,equation:[b,v],string:"y = "+b+"x^"+v,r2:n(o(r,A),u.precision)}},polynomial:function(r,u){for(var d=[],p=[],m=0,M=0,w=r.length,b=u.order+1,v=0;v<b;v++){for(var h=0;h<w;h++)r[h][1]!==null&&(m+=Math.pow(r[h][0],v)*r[h][1]);d.push(m),m=0;for(var A=[],y=0;y<b;y++){for(var T=0;T<w;T++)r[T][1]!==null&&(M+=Math.pow(r[T][0],v+y));A.push(M),M=0}p.push(A)}p.push(d);for(var k=e(p,b).map(function(R){return n(R,u.precision)}),x=function(I){return[n(I,u.precision),n(k.reduce(function(j,Y,B){return j+Y*Math.pow(I,B)},0),u.precision)]},D=r.map(function(R){return x(R[0])}),z="y = ",g=k.length-1;g>=0;g--)g>1?z+=k[g]+"x^"+g+" + ":g===1?z+=k[g]+"x + ":z+=k[g];return{string:z,points:D,predict:x,equation:[].concat(t(k)).reverse(),r2:n(o(r,D),u.precision)}}};function i(){var a=function(u,d){return N({_round:n},u,J({},d,function(p,m){return l[d](p,N({},s,m))}))};return Object.keys(l).reduce(a,{})}c.exports=i()})})(Qa);var Mo=Qa.exports;const ko=Ja(Mo);function Xa(ze){let He=0,c=0;for(let J=0;J<ze.length;J++){const N=ze[J]-c,t=He+N;c=t-He-N,He=t}return He}function Ao(ze,He){return Xa(ze.map((c,J)=>c*He[J]))/Xa(ze.map(c=>c*c))}function Lo(ze,He){const c=ze.reduce((l,i)=>l+i,0)/ze.length,J=He.reduce((l,i)=>l+i,0)/He.length,N=ze.reduce((l,i)=>Math.max(l,Math.abs(i-c)),0),t=He.reduce((l,i)=>Math.max(l,Math.abs(i-J)),0),s=ze.map((l,i)=>[(l-c)/N,(He[i]-J)/t]),o=ko.linear(s),[e,n]=o.equation;return[e*t/N,n*t-e*c*t/N+J]}function Ka(ze,He){return He.slice(2).map((c,J)=>(c-He[J])/(ze[J+2]-ze[J]))}const Kr=65536;function So(ze,He){let c=ze&65535;return c+=c%20/4*Kr,c+=Math.round((He-c)/(5*Kr))*5*Kr,c}function Do(ze,He,c){if(ze.length!==He.length||ze.length!==c.length)throw new Error(`${ze.length} !== ${He.length} !== ${c.length}`);return Ka(ze,He).map((J,N)=>So(c[N+1],J))}async function Xn(ze,He,c,J,N){if(He.length!==c.length)throw new Error(`${He.length} !== ${c.length}`);const t="#777",s="#bbb";let o=He.map(()=>!0);function e(T,k){return J.intercept===void 0?[Ao(T,k),0]:Lo(T,k)}const[n,l]=e(He,c);N&&N(n,l);const i=He.reduce((T,k)=>Math.min(T,k),0),a=He.reduce((T,k)=>Math.max(T,k),0),r=document.createElement("div"),u=Math.max(0,window.innerWidth-50),d=await sr.newPlot(r,[{type:"scatter",mode:"markers",x:He,y:c,name:"Samples",marker:{color:o.map(T=>T?t:s),size:5}},{type:"scatter",mode:"lines",x:[i,a],y:[n*i+l,n*a+l],name:"Regression Line",line:{color:"red"}}],{title:J.title||"",dragmode:"select",showlegend:!1,hovermode:!1,width:u,height:u*9/16,xaxis:{title:{text:J.xLabel||""}},yaxis:{title:{text:J.yLabel||""}}},{modeBarButtonsToRemove:[]}),p=document.createElement("p");function m(T,k){p.innerText=`${J.slope||"slope"}: ${T}, ${J.intercept||"y-intercept"}: ${k}`}m(n,l);function M(){sr.restyle(r,"marker.color",[o.map(z=>z?t:s)],[0]);const[T,k]=e(He.filter((z,g)=>o[g]),c.filter((z,g)=>o[g]));m(T,k),N&&N(T,k);const x=He.reduce((z,g)=>Math.min(z,g)),D=He.reduce((z,g)=>Math.max(z,g));sr.restyle(r,{x:[[x,D]],y:[[T*x+k,T*D+k]]},[1])}let w=null;d.on("plotly_selected",function(T){T!==void 0&&(w=T)});function b(T){if(w===null)return!1;for(const k of w.points)o[k.pointIndex]=T;return sr.restyle(r,{selectedpoints:[null]},[0]),w=null,!0}const v=document.createElement("button");v.innerText="[i]nclude",v.addEventListener("click",()=>{b(!0)&&M()});const h=document.createElement("button");for(h.innerText="[e]xclude",h.addEventListener("click",()=>{b(!1)&&M()}),document.addEventListener("keydown",T=>{if(T.key==="i"){if(!b(!0))return;M()}else if(T.key==="e"){if(!b(!1))return;M()}});ze.firstChild;)ze.removeChild(ze.firstChild);const A=document.createElement("div");A.appendChild(v),A.appendChild(h);const y=document.createElement("div");return y.setAttribute("class","bar"),y.appendChild(A),y.appendChild(p),ze.appendChild(y),ze.appendChild(r),function(T,k){if(T.length!==k.length)throw new Error(`${T.length} !== ${k.length}`);He=T,c=k,o=He.map(()=>!0),sr.restyle(r,{x:[He],y:[c]},[0]),M()}}function ti(ze){const He=ze.angVels.reduce((c,J,N)=>{const t=J.values,s=t.reduce((a,r)=>Math.max(a,r),0),o=t.reduce((a,r)=>Math.max(a,r),0),[e,n,l,i]=c;if(s>=-o){if(s>=e)return[s,N,!1,t]}else if(-o>=e)return[-o,N,!0,t];return c},[0,-1,!1,[]]);if(He[1]!==2||He[2]!==!1)throw new Error(`More rotation about the ${He[2]?"-":"+"}${["x","y","z"][He[1]]}-axis than the +z-axis. Fix the IMU orientation and run again.`);return He[3]}function Nn(ze,He,c){return{times:ze.times.slice(He,c),values:ze.values.slice(He,c)}}function Sr(ze,He,c){return ze.map(J=>Nn(J,He,c))}function tr(ze,He,c){const J=[],N=[];for(let t=0;t<ze.length;t++){const s=Nn(ze[t],0,-1),o=Nn(He[t],0,-1),e=Nn(s,1,-1);J.push(e),o.times.length===0?N.push({times:e.times,values:Ka(s.times,s.values)}):c[t]?N.push({times:e.times,values:Do(o.times,s.values,o.values)}):N.push(Nn(o,1,-1))}return[J,N]}function ei(ze){const He=ze.leftEncFixVels??ze.leftEncPositions.map(()=>!0),c=ze.rightEncFixVels??ze.rightEncPositions.map(()=>!0),J=ze.parEncFixVels??ze.parEncPositions.map(()=>!0),N=ze.perpEncFixVels??ze.perpEncPositions.map(()=>!0),[t,s]=tr(ze.leftEncPositions,ze.leftEncVels,He),[o,e]=tr(ze.rightEncPositions,ze.rightEncVels,c),[n,l]=tr(ze.parEncPositions,ze.parEncVels,J),[i,a]=tr(ze.perpEncPositions,ze.perpEncVels,N),r={type:ze.type,leftPowers:Sr(ze.leftPowers,1,-2),rightPowers:Sr(ze.rightPowers,1,-2),voltages:Nn(ze.voltages,1,-2),leftEncPositions:t,leftEncVels:s,rightEncPositions:o,rightEncVels:e,parEncPositions:n,parEncVels:l,perpEncPositions:i,perpEncVels:a,angVels:Sr(ze.angVels,1,-2)},u=[...r.leftPowers.map(d=>d.values.length),...r.rightPowers.map(d=>d.values.length),r.voltages.values.length,...r.leftEncPositions.map(d=>d.values.length),...r.rightEncPositions.map(d=>d.values.length),...r.parEncPositions.map(d=>d.values.length),...r.perpEncPositions.map(d=>d.values.length),...r.leftEncVels.map(d=>d.values.length),...r.rightEncVels.map(d=>d.values.length),...r.parEncVels.map(d=>d.values.length),...r.perpEncVels.map(d=>d.values.length),...r.angVels.map(d=>d.values.length)];if(u.some(d=>d!==u[0]))throw new Error(`Lengths do not match: ${u.join(", ")}`);return r}async function Po(ze){const He=ei(ze),c=ti(He),J=document.getElementById("deadWheelCharts");He.parEncVels.forEach((o,e)=>{const n=document.createElement("div");Xn(n,c,o.values,{title:`Parallel Wheel ${e} Regression`,slope:"y-position",xLabel:"angular velocity [rad/s]",yLabel:"wheel velocity [ticks/s]"}),J.appendChild(n)}),He.perpEncVels.forEach((o,e)=>{const n=document.createElement("div");Xn(n,c,o.values,{title:`Perpendicular Wheel ${e} Regression`,slope:"x-position",xLabel:"angular velocity [rad/s]",yLabel:"wheel velocity [ticks/s]"}),J.appendChild(n)});const N=await(async()=>{const o=[...He.leftPowers,...He.rightPowers],e=He.voltages.values.map((l,i)=>o.reduce((a,r)=>Math.max(a,r.values[i]),0)*l),n=await Xn(document.getElementById("trackWidthChart"),[],[],{title:"Track Width Regression",slope:"track width",xLabel:"angular velocity [rad/s]",yLabel:"wheel velocity [ticks/s]"});return(l,i)=>n(c,e.map(a=>(a-i)/l*(He.type==="mecanum"?2:1)))})(),t=document.getElementById("kv"),s=document.getElementById("ks");return document.getElementById("update").addEventListener("click",()=>{N(parseFloat(t.value),parseFloat(s.value))}),N(parseFloat(t.value),parseFloat(s.value)),[]}async function Eo(ze){const He=ei(ze);await Xn(document.getElementById("rampChart"),[...He.leftEncVels.flatMap(J=>J.values.map(N=>-N)),...He.rightEncVels.flatMap(J=>J.values)],[...He.leftPowers.flatMap(J=>J.values.map((N,t)=>-N*He.voltages.values[t])),...He.rightPowers.flatMap(J=>J.values.map((N,t)=>N*He.voltages.values[t]))],{title:"Feedforward Regression",slope:"kV",intercept:"kS",xLabel:"wheel velocity [ticks/s]",yLabel:"applied voltage [V]"});const c=ti(He).slice(1,-1);return await Xn(document.getElementById("trackWidthChart"),c,c.map((J,N)=>(He.leftEncVels.reduce((t,s)=>t-s.values[N],0)/He.leftEncVels.length+He.rightEncVels.reduce((t,s)=>t+s.values[N],0)/He.rightEncVels.length)*(He.type==="mecanum"?.5:1)),{title:"Track Width Regression",slope:"track width",xLabel:"angular velocity [rad/s]",yLabel:"wheel velocity [ticks/s]"}),[]}function Co(ze){const He=ze.forwardEncFixVels??ze.forwardEncVels.map(()=>!0),[c,J]=tr(ze.forwardEncPositions,ze.forwardEncVels,He),N={type:ze.type,powers:Sr(ze.powers,1,-2),voltages:Nn(ze.voltages,1,-2),forwardEncPositions:c,forwardEncVels:J},t=[...N.powers.map(s=>s.values.length),N.voltages.values.length,...N.forwardEncPositions.map(s=>s.values.length),...N.forwardEncVels.map(s=>s.values.length)];if(t.some(s=>s!==t[0]))throw new Error(`Lengths do not match: ${t.join(", ")}`);return N}async function Io(ze){const He=Co(ze),c=He.forwardEncVels.flatMap(()=>He.voltages.values.map((J,N)=>He.powers.reduce((t,s)=>Math.max(t,s.values[N]),0)*J));return await Xn(document.getElementById("rampChart"),He.forwardEncVels.flatMap(J=>J.values),c,{title:"Forward Ramp Regression",slope:"kV",intercept:"kS",xLabel:"forward velocity [ticks/s]",yLabel:"applied voltage [V]"}),[]}function Oo(ze){const He=ze.perpEncFixVels??ze.perpEncVels.map(()=>!0),[c,J]=tr(ze.perpEncPositions,ze.perpEncVels,He),N={type:ze.type,frontLeftPower:Nn(ze.frontLeftPower,1,-2),backLeftPower:Nn(ze.backLeftPower,1,-2),frontRightPower:Nn(ze.frontRightPower,1,-2),backRightPower:Nn(ze.backRightPower,1,-2),voltages:Nn(ze.voltages,1,-2),perpEncPositions:c,perpEncVels:J},t=[N.frontLeftPower.values.length,N.backLeftPower.values.length,N.frontRightPower.values.length,N.backRightPower.values.length,N.voltages.values.length,...c.map(s=>s.values.length),...J.map(s=>s.values.length)];if(t.some(s=>s!==t[0]))throw new Error(`Lengths do not match: ${t.join(", ")}`);return N}async function zo(ze){const He=Oo(ze),c=He.perpEncVels.flatMap(()=>He.voltages.values.map((l,i)=>Math.max(-He.frontLeftPower.values[i],He.backLeftPower.values[i],He.frontRightPower.values[i],-He.backRightPower.values[i],0)*l)),J=He.perpEncVels.flatMap(l=>l.values),N=await(async()=>{const l=await Xn(document.getElementById("rampChart"),[],[],{title:"Lateral Ramp Regression",slope:"lateral in per tick",xLabel:"expected velocity from feedforward [ticks/s]",yLabel:"actual velocity [in/s]"});return(i,a,r)=>{const u=c.map(p=>(p-r)/a),d=J.map(p=>p*i);l(u,d)}})(),t=document.getElementById("inPerTick"),s=document.getElementById("kv"),o=document.getElementById("ks");document.getElementById("update").addEventListener("click",()=>{N(parseFloat(t.value),parseFloat(s.value),parseFloat(o.value))}),N(parseFloat(t.value),parseFloat(s.value),parseFloat(o.value));const e=J.reduce((l,i)=>Math.min(l,i),0),n=J.reduce((l,i)=>Math.max(l,Math.abs(i)),0);return-e>.2*n?["Warning: Lateral velocity should not go negative. Make sure the robot is pushed rightward and the encoders are oriented correctly."]:[]}function No(ze,He){document.getElementById("latest").addEventListener("click",async function(){document.getElementById("error").innerText="",document.getElementById("warning").innerText="";try{const N=await fetch(`/tuning/${ze}/latest.json`);if(N.ok){const t=N.headers.get("X-Filename"),s=document.createElement("a");s.innerText="Download",s.href=`/tuning/${ze}/${t}`,s.download=`${ze}-${t}`;const o=document.getElementById("download");o.innerHTML="",o.appendChild(s);const e=await N.json(),n=await He(e);n.length>0&&(document.getElementById("warning").innerText=n.join(`
`))}else throw new Error("No data files found")}catch(N){console.error(N),typeof N=="string"?document.getElementById("error").innerText=N:N instanceof Error&&(document.getElementById("error").innerText=N.message)}});const J=document.getElementById("browse");J.addEventListener("change",function(){const N=new FileReader;N.onload=async function(){if(typeof N.result=="string"){document.getElementById("error").innerText="",document.getElementById("warning").innerText="";try{const t=await He(JSON.parse(N.result.trim()));t.length>0&&(document.getElementById("warning").innerText=t.join(`
`))}catch(t){console.error(t),typeof t=="string"?document.getElementById("error").innerText=t:t instanceof Error&&(document.getElementById("error").innerText=t.message)}}},N.readAsText(J.files[0])})}export{Eo as a,Io as b,zo as c,No as i,Po as l};
